var M0=Object.defineProperty;var U0=(e,t,r)=>t in e?M0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var du=(e,t,r)=>U0(e,typeof t!="symbol"?t+"":t,r);function z0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Bm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vm={exports:{}},Tl={},Wm={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=Symbol.for("react.element"),B0=Symbol.for("react.portal"),V0=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),H0=Symbol.for("react.profiler"),q0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),Q0=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),gh=Symbol.iterator;function X0(e){return e===null||typeof e!="object"?null:(e=gh&&e[gh]||e["@@iterator"],typeof e=="function"?e:null)}var Hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qm=Object.assign,Km={};function Qs(e,t,r){this.props=e,this.context=t,this.refs=Km,this.updater=r||Hm}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gm(){}Gm.prototype=Qs.prototype;function Fd(e,t,r){this.props=e,this.context=t,this.refs=Km,this.updater=r||Hm}var Md=Fd.prototype=new Gm;Md.constructor=Fd;qm(Md,Qs.prototype);Md.isPureReactComponent=!0;var vh=Array.isArray,Jm=Object.prototype.hasOwnProperty,Ud={current:null},Qm={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Jm.call(t,n)&&!Qm.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ja,type:e,key:i,ref:a,props:s,_owner:Ud.current}}function Z0(e,t){return{$$typeof:ja,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ja}function ew(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yh=/\/+/g;function fu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ew(""+e.key):t.toString(36)}function So(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ja:case B0:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+fu(a,0):n,vh(s)?(r="",e!=null&&(r=e.replace(yh,"$&/")+"/"),So(s,t,r,"",function(u){return u})):s!=null&&(zd(s)&&(s=Z0(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(yh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",vh(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+fu(i,o);a+=So(i,t,r,l,s)}else if(l=X0(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+fu(i,o++),a+=So(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ka(e,t,r){if(e==null)return e;var n=[],s=0;return So(e,n,"","",function(i){return t.call(r,i,s++)}),n}function tw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Eo={transition:null},rw={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:Ud};function Xm(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ka,forEach:function(e,t,r){Ka(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!zd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Qs;re.Fragment=V0;re.Profiler=H0;re.PureComponent=Fd;re.StrictMode=W0;re.Suspense=J0;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rw;re.act=Xm;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qm({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ud.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Jm.call(t,l)&&!Qm.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ja,type:e.type,key:s,ref:i,props:n,_owner:a}};re.createContext=function(e){return e={$$typeof:K0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:q0,_context:e},e.Consumer=e};re.createElement=Ym;re.createFactory=function(e){var t=Ym.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:G0,render:e}};re.isValidElement=zd;re.lazy=function(e){return{$$typeof:Y0,_payload:{_status:-1,_result:e},_init:tw}};re.memo=function(e,t){return{$$typeof:Q0,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Eo.transition;Eo.transition={};try{e()}finally{Eo.transition=t}};re.unstable_act=Xm;re.useCallback=function(e,t){return vt.current.useCallback(e,t)};re.useContext=function(e){return vt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};re.useEffect=function(e,t){return vt.current.useEffect(e,t)};re.useId=function(){return vt.current.useId()};re.useImperativeHandle=function(e,t,r){return vt.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return vt.current.useMemo(e,t)};re.useReducer=function(e,t,r){return vt.current.useReducer(e,t,r)};re.useRef=function(e){return vt.current.useRef(e)};re.useState=function(e){return vt.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return vt.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return vt.current.useTransition()};re.version="18.3.1";Wm.exports=re;var b=Wm.exports;const C=Bm(b),zs=z0({__proto__:null,default:C},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=b,sw=Symbol.for("react.element"),iw=Symbol.for("react.fragment"),aw=Object.prototype.hasOwnProperty,ow=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lw={key:!0,ref:!0,__self:!0,__source:!0};function Zm(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)aw.call(t,n)&&!lw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:sw,type:e,key:i,ref:a,props:s,_owner:ow.current}}Tl.Fragment=iw;Tl.jsx=Zm;Tl.jsxs=Zm;Vm.exports=Tl;var m=Vm.exports,dc={},eg={exports:{}},Lt={},tg={exports:{}},rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,A){var U=$.length;$.push(A);e:for(;0<U;){var ne=U-1>>>1,V=$[ne];if(0<s(V,A))$[ne]=A,$[U]=V,U=ne;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var A=$[0],U=$.pop();if(U!==A){$[0]=U;e:for(var ne=0,V=$.length,te=V>>>1;ne<te;){var D=2*(ne+1)-1,Y=$[D],ie=D+1,se=$[ie];if(0>s(Y,U))ie<V&&0>s(se,Y)?($[ne]=se,$[ie]=U,ne=ie):($[ne]=Y,$[D]=U,ne=D);else if(ie<V&&0>s(se,U))$[ne]=se,$[ie]=U,ne=ie;else break e}}return A}function s($,A){var U=$.sortIndex-A.sortIndex;return U!==0?U:$.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,f=!1,_=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=$)n(u),A.sortIndex=A.expirationTime,t(l,A);else break;A=r(u)}}function x($){if(w=!1,v($),!_)if(r(l)!==null)_=!0,he(E);else{var A=r(u);A!==null&&Z(x,A.startTime-$)}}function E($,A){_=!1,w&&(w=!1,g(P),P=-1),f=!0;var U=h;try{for(v(A),d=r(l);d!==null&&(!(d.expirationTime>A)||$&&!de());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var V=ne(d.expirationTime<=A);A=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(l)&&n(l),v(A)}else n(l);d=r(l)}if(d!==null)var te=!0;else{var D=r(u);D!==null&&Z(x,D.startTime-A),te=!1}return te}finally{d=null,h=U,f=!1}}var k=!1,j=null,P=-1,I=5,F=-1;function de(){return!(e.unstable_now()-F<I)}function B(){if(j!==null){var $=e.unstable_now();F=$;var A=!0;try{A=j(!0,$)}finally{A?Q():(k=!1,j=null)}}else k=!1}var Q;if(typeof p=="function")Q=function(){p(B)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,oe=ee.port2;ee.port1.onmessage=B,Q=function(){oe.postMessage(null)}}else Q=function(){y(B,0)};function he($){j=$,k||(k=!0,Q())}function Z($,A){P=y(function(){$(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){_||f||(_=!0,he(E))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var U=h;h=A;try{return $()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,A){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var U=h;h=$;try{return A()}finally{h=U}},e.unstable_scheduleCallback=function($,A,U){var ne=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,$={id:c++,callback:A,priorityLevel:$,startTime:U,expirationTime:V,sortIndex:-1},U>ne?($.sortIndex=U,t(u,$),r(l)===null&&$===r(u)&&(w?(g(P),P=-1):w=!0,Z(x,U-ne))):($.sortIndex=V,t(l,$),_||f||(_=!0,he(E))),$},e.unstable_shouldYield=de,e.unstable_wrapCallback=function($){var A=h;return function(){var U=h;h=A;try{return $.apply(this,arguments)}finally{h=U}}}})(rg);tg.exports=rg;var uw=tg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=b,$t=uw;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ng=new Set,ea={};function es(e,t){Bs(e,t),Bs(e+"Capture",t)}function Bs(e,t){for(ea[e]=t,e=0;e<t.length;e++)ng.add(t[e])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=Object.prototype.hasOwnProperty,dw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wh={},_h={};function fw(e){return fc.call(_h,e)?!0:fc.call(wh,e)?!1:dw.test(e)?_h[e]=!0:(wh[e]=!0,!1)}function hw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pw(e,t,r,n){if(t===null||typeof t>"u"||hw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bd=/[\-:]([a-z])/g;function Vd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bd,Vd);at[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bd,Vd);at[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bd,Vd);at[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wd(e,t,r,n){var s=at.hasOwnProperty(t)?at[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pw(t,r,s,n)&&(r=null),n||s===null?fw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zr=cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ga=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),hc=Symbol.for("react.profiler"),sg=Symbol.for("react.provider"),ig=Symbol.for("react.context"),qd=Symbol.for("react.forward_ref"),pc=Symbol.for("react.suspense"),mc=Symbol.for("react.suspense_list"),Kd=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),ag=Symbol.for("react.offscreen"),bh=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,hu;function wi(e){if(hu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hu=t&&t[1]||""}return`
`+hu+e}var pu=!1;function mu(e,t){if(!e||pu)return"";pu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{pu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wi(e):""}function mw(e){switch(e.tag){case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 2:case 15:return e=mu(e.type,!1),e;case 11:return e=mu(e.type.render,!1),e;case 1:return e=mu(e.type,!0),e;default:return""}}function gc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case ys:return"Portal";case hc:return"Profiler";case Hd:return"StrictMode";case pc:return"Suspense";case mc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ig:return(e.displayName||"Context")+".Consumer";case sg:return(e._context.displayName||"Context")+".Provider";case qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kd:return t=e.displayName||null,t!==null?t:gc(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return gc(e(t))}catch{}}return null}function gw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gc(t);case 8:return t===Hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function og(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vw(e){var t=og(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=vw(e))}function lg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=og(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vc(e,t){var r=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ug(e,t){t=t.checked,t!=null&&Wd(e,"checked",t,!1)}function yc(e,t){ug(e,t);var r=Sn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wc(e,t.type,r):t.hasOwnProperty("defaultValue")&&wc(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wc(e,t,r){(t!=="number"||Mo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _i=Array.isArray;function Os(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _c(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(_i(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sn(r)}}function cg(e,t){var r=Sn(t.value),n=Sn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qa,fg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ta(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yw=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(e){yw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ti[t]=Ti[e]})});function hg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ti.hasOwnProperty(e)&&Ti[e]?(""+t).trim():t+"px"}function pg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=hg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ww=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xc(e,t){if(t){if(ww[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Sc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kc=null,Ns=null,As=null;function Th(e){if(e=Na(e)){if(typeof kc!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Ol(t),kc(e.stateNode,e.type,t))}}function mg(e){Ns?As?As.push(e):As=[e]:Ns=e}function gg(){if(Ns){var e=Ns,t=As;if(As=Ns=null,Th(e),t)for(e=0;e<t.length;e++)Th(t[e])}}function vg(e,t){return e(t)}function yg(){}var gu=!1;function wg(e,t,r){if(gu)return e(t,r);gu=!0;try{return vg(e,t,r)}finally{gu=!1,(Ns!==null||As!==null)&&(yg(),gg())}}function ra(e,t){var r=e.stateNode;if(r===null)return null;var n=Ol(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var Tc=!1;if($r)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Tc=!1}function _w(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ci=!1,Uo=null,zo=!1,Cc=null,bw={onError:function(e){Ci=!0,Uo=e}};function xw(e,t,r,n,s,i,a,o,l){Ci=!1,Uo=null,_w.apply(bw,arguments)}function Sw(e,t,r,n,s,i,a,o,l){if(xw.apply(this,arguments),Ci){if(Ci){var u=Uo;Ci=!1,Uo=null}else throw Error(N(198));zo||(zo=!0,Cc=u)}}function ts(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ch(e){if(ts(e)!==e)throw Error(N(188))}function Ew(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ch(s),e;if(i===n)return Ch(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function bg(e){return e=Ew(e),e!==null?xg(e):null}function xg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xg(e);if(t!==null)return t;e=e.sibling}return null}var Sg=$t.unstable_scheduleCallback,Rh=$t.unstable_cancelCallback,kw=$t.unstable_shouldYield,Tw=$t.unstable_requestPaint,Le=$t.unstable_now,Cw=$t.unstable_getCurrentPriorityLevel,Jd=$t.unstable_ImmediatePriority,Eg=$t.unstable_UserBlockingPriority,Bo=$t.unstable_NormalPriority,Rw=$t.unstable_LowPriority,kg=$t.unstable_IdlePriority,Cl=null,br=null;function jw(e){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Cl,e,void 0,(e.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:Nw,Pw=Math.log,Ow=Math.LN2;function Nw(e){return e>>>=0,e===0?32:31-(Pw(e)/Ow|0)|0}var Ya=64,Xa=4194304;function bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=bi(o):(i&=a,i!==0&&(n=bi(i)))}else a=r&~s,a!==0?n=bi(a):i!==0&&(n=bi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cr(t),s=1<<r,n|=e[r],t&=~s;return n}function Aw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-cr(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Aw(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tg(){var e=Ya;return Ya<<=1,!(Ya&4194240)&&(Ya=64),e}function vu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cr(t),e[t]=r}function $w(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-cr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Qd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var pe=0;function Cg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rg,Yd,jg,Pg,Og,jc=!1,Za=[],fn=null,hn=null,pn=null,na=new Map,sa=new Map,tn=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jh(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function ci(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Na(t),t!==null&&Yd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dw(e,t,r,n,s){switch(t){case"focusin":return fn=ci(fn,e,t,r,n,s),!0;case"dragenter":return hn=ci(hn,e,t,r,n,s),!0;case"mouseover":return pn=ci(pn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return na.set(i,ci(na.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,sa.set(i,ci(sa.get(i)||null,e,t,r,n,s)),!0}return!1}function Ng(e){var t=Un(e.target);if(t!==null){var r=ts(t);if(r!==null){if(t=r.tag,t===13){if(t=_g(r),t!==null){e.blockedOn=t,Og(e.priority,function(){jg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ec=n,r.target.dispatchEvent(n),Ec=null}else return t=Na(r),t!==null&&Yd(t),e.blockedOn=r,!1;t.shift()}return!0}function Ph(e,t,r){ko(e)&&r.delete(t)}function Fw(){jc=!1,fn!==null&&ko(fn)&&(fn=null),hn!==null&&ko(hn)&&(hn=null),pn!==null&&ko(pn)&&(pn=null),na.forEach(Ph),sa.forEach(Ph)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,jc||(jc=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,Fw)))}function ia(e){function t(s){return di(s,e)}if(0<Za.length){di(Za[0],e);for(var r=1;r<Za.length;r++){var n=Za[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fn!==null&&di(fn,e),hn!==null&&di(hn,e),pn!==null&&di(pn,e),na.forEach(t),sa.forEach(t),r=0;r<tn.length;r++)n=tn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tn.length&&(r=tn[0],r.blockedOn===null);)Ng(r),r.blockedOn===null&&tn.shift()}var Is=zr.ReactCurrentBatchConfig,Wo=!0;function Mw(e,t,r,n){var s=pe,i=Is.transition;Is.transition=null;try{pe=1,Xd(e,t,r,n)}finally{pe=s,Is.transition=i}}function Uw(e,t,r,n){var s=pe,i=Is.transition;Is.transition=null;try{pe=4,Xd(e,t,r,n)}finally{pe=s,Is.transition=i}}function Xd(e,t,r,n){if(Wo){var s=Pc(e,t,r,n);if(s===null)Cu(e,t,n,Ho,r),jh(e,n);else if(Dw(s,e,t,r,n))n.stopPropagation();else if(jh(e,n),t&4&&-1<Lw.indexOf(e)){for(;s!==null;){var i=Na(s);if(i!==null&&Rg(i),i=Pc(e,t,r,n),i===null&&Cu(e,t,n,Ho,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Cu(e,t,n,null,r)}}var Ho=null;function Pc(e,t,r,n){if(Ho=null,e=Gd(n),e=Un(e),e!==null)if(t=ts(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_g(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ho=e,null}function Ag(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cw()){case Jd:return 1;case Eg:return 4;case Bo:case Rw:return 16;case kg:return 536870912;default:return 16}default:return 16}}var on=null,Zd=null,To=null;function Ig(){if(To)return To;var e,t=Zd,r=t.length,n,s="value"in on?on.value:on.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return To=s.slice(e,1<n?1-n:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eo(){return!0}function Oh(){return!1}function Dt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eo:Oh,this.isPropagationStopped=Oh,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),t}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ef=Dt(Ys),Oa=Oe({},Ys,{view:0,detail:0}),zw=Dt(Oa),yu,wu,fi,Rl=Oe({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(yu=e.screenX-fi.screenX,wu=e.screenY-fi.screenY):wu=yu=0,fi=e),yu)},movementY:function(e){return"movementY"in e?e.movementY:wu}}),Nh=Dt(Rl),Bw=Oe({},Rl,{dataTransfer:0}),Vw=Dt(Bw),Ww=Oe({},Oa,{relatedTarget:0}),_u=Dt(Ww),Hw=Oe({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),qw=Dt(Hw),Kw=Oe({},Ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gw=Dt(Kw),Jw=Oe({},Ys,{data:0}),Ah=Dt(Jw),Qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xw[e])?!!t[e]:!1}function tf(){return Zw}var e_=Oe({},Oa,{key:function(e){if(e.key){var t=Qw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tf,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t_=Dt(e_),r_=Oe({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=Dt(r_),n_=Oe({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tf}),s_=Dt(n_),i_=Oe({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),a_=Dt(i_),o_=Oe({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l_=Dt(o_),u_=[9,13,27,32],rf=$r&&"CompositionEvent"in window,Ri=null;$r&&"documentMode"in document&&(Ri=document.documentMode);var c_=$r&&"TextEvent"in window&&!Ri,$g=$r&&(!rf||Ri&&8<Ri&&11>=Ri),$h=" ",Lh=!1;function Lg(e,t){switch(e){case"keyup":return u_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function d_(e,t){switch(e){case"compositionend":return Dg(t);case"keypress":return t.which!==32?null:(Lh=!0,$h);case"textInput":return e=t.data,e===$h&&Lh?null:e;default:return null}}function f_(e,t){if(_s)return e==="compositionend"||!rf&&Lg(e,t)?(e=Ig(),To=Zd=on=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $g&&t.locale!=="ko"?null:t.data;default:return null}}var h_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h_[e.type]:t==="textarea"}function Fg(e,t,r,n){mg(n),t=qo(t,"onChange"),0<t.length&&(r=new ef("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ji=null,aa=null;function p_(e){Jg(e,0)}function jl(e){var t=Ss(e);if(lg(t))return e}function m_(e,t){if(e==="change")return t}var Mg=!1;if($r){var bu;if($r){var xu="oninput"in document;if(!xu){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),xu=typeof Fh.oninput=="function"}bu=xu}else bu=!1;Mg=bu&&(!document.documentMode||9<document.documentMode)}function Mh(){ji&&(ji.detachEvent("onpropertychange",Ug),aa=ji=null)}function Ug(e){if(e.propertyName==="value"&&jl(aa)){var t=[];Fg(t,aa,e,Gd(e)),wg(p_,t)}}function g_(e,t,r){e==="focusin"?(Mh(),ji=t,aa=r,ji.attachEvent("onpropertychange",Ug)):e==="focusout"&&Mh()}function v_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(aa)}function y_(e,t){if(e==="click")return jl(t)}function w_(e,t){if(e==="input"||e==="change")return jl(t)}function __(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:__;function oa(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fc.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,t){var r=Uh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uh(r)}}function zg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bg(){for(var e=window,t=Mo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mo(e.document)}return t}function nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b_(e){var t=Bg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zg(r.ownerDocument.documentElement,r)){if(n!==null&&nf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=zh(r,i);var a=zh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var x_=$r&&"documentMode"in document&&11>=document.documentMode,bs=null,Oc=null,Pi=null,Nc=!1;function Bh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nc||bs==null||bs!==Mo(n)||(n=bs,"selectionStart"in n&&nf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pi&&oa(Pi,n)||(Pi=n,n=qo(Oc,"onSelect"),0<n.length&&(t=new ef("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bs)))}function to(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xs={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},Su={},Vg={};$r&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Pl(e){if(Su[e])return Su[e];if(!xs[e])return e;var t=xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vg)return Su[e]=t[r];return e}var Wg=Pl("animationend"),Hg=Pl("animationiteration"),qg=Pl("animationstart"),Kg=Pl("transitionend"),Gg=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){Gg.set(e,t),es(t,[e])}for(var Eu=0;Eu<Vh.length;Eu++){var ku=Vh[Eu],S_=ku.toLowerCase(),E_=ku[0].toUpperCase()+ku.slice(1);Cn(S_,"on"+E_)}Cn(Wg,"onAnimationEnd");Cn(Hg,"onAnimationIteration");Cn(qg,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(Kg,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Wh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Sw(n,t,void 0,e),e.currentTarget=null}function Jg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Wh(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Wh(s,o,u),i=l}}}if(zo)throw e=Cc,zo=!1,Cc=null,e}function _e(e,t){var r=t[Dc];r===void 0&&(r=t[Dc]=new Set);var n=e+"__bubble";r.has(n)||(Qg(t,e,2,!1),r.add(n))}function Tu(e,t,r){var n=0;t&&(n|=4),Qg(r,e,n,t)}var ro="_reactListening"+Math.random().toString(36).slice(2);function la(e){if(!e[ro]){e[ro]=!0,ng.forEach(function(r){r!=="selectionchange"&&(k_.has(r)||Tu(r,!1,e),Tu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ro]||(t[ro]=!0,Tu("selectionchange",!1,t))}}function Qg(e,t,r,n){switch(Ag(t)){case 1:var s=Mw;break;case 4:s=Uw;break;default:s=Xd}r=s.bind(null,t,r,e),s=void 0,!Tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Cu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Un(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}wg(function(){var u=i,c=Gd(r),d=[];e:{var h=Gg.get(e);if(h!==void 0){var f=ef,_=e;switch(e){case"keypress":if(Co(r)===0)break e;case"keydown":case"keyup":f=t_;break;case"focusin":_="focus",f=_u;break;case"focusout":_="blur",f=_u;break;case"beforeblur":case"afterblur":f=_u;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=s_;break;case Wg:case Hg:case qg:f=qw;break;case Kg:f=a_;break;case"scroll":f=zw;break;case"wheel":f=l_;break;case"copy":case"cut":case"paste":f=Gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ih}var w=(t&4)!==0,y=!w&&e==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,v;p!==null;){v=p;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,g!==null&&(x=ra(p,g),x!=null&&w.push(ua(p,x,v)))),y)break;p=p.return}0<w.length&&(h=new f(h,_,null,r,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==Ec&&(_=r.relatedTarget||r.fromElement)&&(Un(_)||_[Lr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(_=r.relatedTarget||r.toElement,f=u,_=_?Un(_):null,_!==null&&(y=ts(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=u),f!==_)){if(w=Nh,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ih,x="onPointerLeave",g="onPointerEnter",p="pointer"),y=f==null?h:Ss(f),v=_==null?h:Ss(_),h=new w(x,p+"leave",f,r,c),h.target=y,h.relatedTarget=v,x=null,Un(c)===u&&(w=new w(g,p+"enter",_,r,c),w.target=v,w.relatedTarget=y,x=w),y=x,f&&_)t:{for(w=f,g=_,p=0,v=w;v;v=is(v))p++;for(v=0,x=g;x;x=is(x))v++;for(;0<p-v;)w=is(w),p--;for(;0<v-p;)g=is(g),v--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=is(w),g=is(g)}w=null}else w=null;f!==null&&Hh(d,h,f,w,!1),_!==null&&y!==null&&Hh(d,y,_,w,!0)}}e:{if(h=u?Ss(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=m_;else if(Dh(h))if(Mg)E=w_;else{E=v_;var k=g_}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=y_);if(E&&(E=E(e,u))){Fg(d,E,r,c);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&wc(h,"number",h.value)}switch(k=u?Ss(u):window,e){case"focusin":(Dh(k)||k.contentEditable==="true")&&(bs=k,Oc=u,Pi=null);break;case"focusout":Pi=Oc=bs=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,Bh(d,r,c);break;case"selectionchange":if(x_)break;case"keydown":case"keyup":Bh(d,r,c)}var j;if(rf)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else _s?Lg(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&($g&&r.locale!=="ko"&&(_s||P!=="onCompositionStart"?P==="onCompositionEnd"&&_s&&(j=Ig()):(on=c,Zd="value"in on?on.value:on.textContent,_s=!0)),k=qo(u,P),0<k.length&&(P=new Ah(P,e,null,r,c),d.push({event:P,listeners:k}),j?P.data=j:(j=Dg(r),j!==null&&(P.data=j)))),(j=c_?d_(e,r):f_(e,r))&&(u=qo(u,"onBeforeInput"),0<u.length&&(c=new Ah("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=j))}Jg(d,t)})}function ua(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ra(e,r),i!=null&&n.unshift(ua(e,i,s)),i=ra(e,t),i!=null&&n.push(ua(e,i,s))),e=e.return}return n}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=ra(r,i),l!=null&&a.unshift(ua(r,l,o))):s||(l=ra(r,i),l!=null&&a.push(ua(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var T_=/\r\n?/g,C_=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(T_,`
`).replace(C_,"")}function no(e,t,r){if(t=qh(t),qh(e)!==t&&r)throw Error(N(425))}function Ko(){}var Ac=null,Ic=null;function $c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lc=typeof setTimeout=="function"?setTimeout:void 0,R_=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,j_=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(P_)}:Lc;function P_(e){setTimeout(function(){throw e})}function Ru(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ia(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ia(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),_r="__reactFiber$"+Xs,ca="__reactProps$"+Xs,Lr="__reactContainer$"+Xs,Dc="__reactEvents$"+Xs,O_="__reactListeners$"+Xs,N_="__reactHandles$"+Xs;function Un(e){var t=e[_r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lr]||r[_r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gh(e);e!==null;){if(r=e[_r])return r;e=Gh(e)}return t}e=r,r=e.parentNode}return null}function Na(e){return e=e[_r]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Ol(e){return e[ca]||null}var Fc=[],Es=-1;function Rn(e){return{current:e}}function be(e){0>Es||(e.current=Fc[Es],Fc[Es]=null,Es--)}function ye(e,t){Es++,Fc[Es]=e.current,e.current=t}var En={},ct=Rn(En),St=Rn(!1),Gn=En;function Vs(e,t){var r=e.type.contextTypes;if(!r)return En;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Et(e){return e=e.childContextTypes,e!=null}function Go(){be(St),be(ct)}function Jh(e,t,r){if(ct.current!==En)throw Error(N(168));ye(ct,t),ye(St,r)}function Yg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,gw(e)||"Unknown",s));return Oe({},r,n)}function Jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Gn=ct.current,ye(ct,e),ye(St,St.current),!0}function Qh(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Yg(e,t,Gn),n.__reactInternalMemoizedMergedChildContext=e,be(St),be(ct),ye(ct,e)):be(St),ye(St,r)}var Tr=null,Nl=!1,ju=!1;function Xg(e){Tr===null?Tr=[e]:Tr.push(e)}function A_(e){Nl=!0,Xg(e)}function jn(){if(!ju&&Tr!==null){ju=!0;var e=0,t=pe;try{var r=Tr;for(pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tr=null,Nl=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(e+1)),Sg(Jd,jn),s}finally{pe=t,ju=!1}}return null}var ks=[],Ts=0,Qo=null,Yo=0,zt=[],Bt=0,Jn=null,jr=1,Pr="";function $n(e,t){ks[Ts++]=Yo,ks[Ts++]=Qo,Qo=e,Yo=t}function Zg(e,t,r){zt[Bt++]=jr,zt[Bt++]=Pr,zt[Bt++]=Jn,Jn=e;var n=jr;e=Pr;var s=32-cr(n)-1;n&=~(1<<s),r+=1;var i=32-cr(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,jr=1<<32-cr(t)+s|r<<s|n,Pr=i+e}else jr=1<<i|r<<s|n,Pr=e}function sf(e){e.return!==null&&($n(e,1),Zg(e,1,0))}function af(e){for(;e===Qo;)Qo=ks[--Ts],ks[Ts]=null,Yo=ks[--Ts],ks[Ts]=null;for(;e===Jn;)Jn=zt[--Bt],zt[Bt]=null,Pr=zt[--Bt],zt[Bt]=null,jr=zt[--Bt],zt[Bt]=null}var It=null,Nt=null,Ee=!1,ar=null;function ev(e,t){var r=Vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Nt=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jn!==null?{id:jr,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,It=e,Nt=null,!0):!1;default:return!1}}function Mc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uc(e){if(Ee){var t=Nt;if(t){var r=t;if(!Yh(e,t)){if(Mc(e))throw Error(N(418));t=mn(r.nextSibling);var n=It;t&&Yh(e,t)?ev(n,r):(e.flags=e.flags&-4097|2,Ee=!1,It=e)}}else{if(Mc(e))throw Error(N(418));e.flags=e.flags&-4097|2,Ee=!1,It=e}}}function Xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function so(e){if(e!==It)return!1;if(!Ee)return Xh(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$c(e.type,e.memoizedProps)),t&&(t=Nt)){if(Mc(e))throw tv(),Error(N(418));for(;t;)ev(e,t),t=mn(t.nextSibling)}if(Xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nt=mn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=It?mn(e.stateNode.nextSibling):null;return!0}function tv(){for(var e=Nt;e;)e=mn(e.nextSibling)}function Ws(){Nt=It=null,Ee=!1}function of(e){ar===null?ar=[e]:ar.push(e)}var I_=zr.ReactCurrentBatchConfig;function hi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zh(e){var t=e._init;return t(e._payload)}function rv(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=wn(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,v,x){return p===null||p.tag!==6?(p=Lu(v,g.mode,x),p.return=g,p):(p=s(p,v),p.return=g,p)}function l(g,p,v,x){var E=v.type;return E===ws?c(g,p,v.props.children,x,v.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Xr&&Zh(E)===p.type)?(x=s(p,v.props),x.ref=hi(g,p,v),x.return=g,x):(x=Io(v.type,v.key,v.props,null,g.mode,x),x.ref=hi(g,p,v),x.return=g,x)}function u(g,p,v,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Du(v,g.mode,x),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function c(g,p,v,x,E){return p===null||p.tag!==7?(p=Kn(v,g.mode,x,E),p.return=g,p):(p=s(p,v),p.return=g,p)}function d(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lu(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ga:return v=Io(p.type,p.key,p.props,null,g.mode,v),v.ref=hi(g,null,p),v.return=g,v;case ys:return p=Du(p,g.mode,v),p.return=g,p;case Xr:var x=p._init;return d(g,x(p._payload),v)}if(_i(p)||li(p))return p=Kn(p,g.mode,v,null),p.return=g,p;io(g,p)}return null}function h(g,p,v,x){var E=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:o(g,p,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ga:return v.key===E?l(g,p,v,x):null;case ys:return v.key===E?u(g,p,v,x):null;case Xr:return E=v._init,h(g,p,E(v._payload),x)}if(_i(v)||li(v))return E!==null?null:c(g,p,v,x,null);io(g,v)}return null}function f(g,p,v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(v)||null,o(p,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ga:return g=g.get(x.key===null?v:x.key)||null,l(p,g,x,E);case ys:return g=g.get(x.key===null?v:x.key)||null,u(p,g,x,E);case Xr:var k=x._init;return f(g,p,v,k(x._payload),E)}if(_i(x)||li(x))return g=g.get(v)||null,c(p,g,x,E,null);io(p,x)}return null}function _(g,p,v,x){for(var E=null,k=null,j=p,P=p=0,I=null;j!==null&&P<v.length;P++){j.index>P?(I=j,j=null):I=j.sibling;var F=h(g,j,v[P],x);if(F===null){j===null&&(j=I);break}e&&j&&F.alternate===null&&t(g,j),p=i(F,p,P),k===null?E=F:k.sibling=F,k=F,j=I}if(P===v.length)return r(g,j),Ee&&$n(g,P),E;if(j===null){for(;P<v.length;P++)j=d(g,v[P],x),j!==null&&(p=i(j,p,P),k===null?E=j:k.sibling=j,k=j);return Ee&&$n(g,P),E}for(j=n(g,j);P<v.length;P++)I=f(j,g,P,v[P],x),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?P:I.key),p=i(I,p,P),k===null?E=I:k.sibling=I,k=I);return e&&j.forEach(function(de){return t(g,de)}),Ee&&$n(g,P),E}function w(g,p,v,x){var E=li(v);if(typeof E!="function")throw Error(N(150));if(v=E.call(v),v==null)throw Error(N(151));for(var k=E=null,j=p,P=p=0,I=null,F=v.next();j!==null&&!F.done;P++,F=v.next()){j.index>P?(I=j,j=null):I=j.sibling;var de=h(g,j,F.value,x);if(de===null){j===null&&(j=I);break}e&&j&&de.alternate===null&&t(g,j),p=i(de,p,P),k===null?E=de:k.sibling=de,k=de,j=I}if(F.done)return r(g,j),Ee&&$n(g,P),E;if(j===null){for(;!F.done;P++,F=v.next())F=d(g,F.value,x),F!==null&&(p=i(F,p,P),k===null?E=F:k.sibling=F,k=F);return Ee&&$n(g,P),E}for(j=n(g,j);!F.done;P++,F=v.next())F=f(j,g,P,F.value,x),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?P:F.key),p=i(F,p,P),k===null?E=F:k.sibling=F,k=F);return e&&j.forEach(function(B){return t(g,B)}),Ee&&$n(g,P),E}function y(g,p,v,x){if(typeof v=="object"&&v!==null&&v.type===ws&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ga:e:{for(var E=v.key,k=p;k!==null;){if(k.key===E){if(E=v.type,E===ws){if(k.tag===7){r(g,k.sibling),p=s(k,v.props.children),p.return=g,g=p;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Xr&&Zh(E)===k.type){r(g,k.sibling),p=s(k,v.props),p.ref=hi(g,k,v),p.return=g,g=p;break e}r(g,k);break}else t(g,k);k=k.sibling}v.type===ws?(p=Kn(v.props.children,g.mode,x,v.key),p.return=g,g=p):(x=Io(v.type,v.key,v.props,null,g.mode,x),x.ref=hi(g,p,v),x.return=g,g=x)}return a(g);case ys:e:{for(k=v.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Du(v,g.mode,x),p.return=g,g=p}return a(g);case Xr:return k=v._init,y(g,p,k(v._payload),x)}if(_i(v))return _(g,p,v,x);if(li(v))return w(g,p,v,x);io(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=Lu(v,g.mode,x),p.return=g,g=p),a(g)):r(g,p)}return y}var Hs=rv(!0),nv=rv(!1),Xo=Rn(null),Zo=null,Cs=null,lf=null;function uf(){lf=Cs=Zo=null}function cf(e){var t=Xo.current;be(Xo),e._currentValue=t}function zc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $s(e,t){Zo=e,lf=Cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(lf!==e)if(e={context:e,memoizedValue:t,next:null},Cs===null){if(Zo===null)throw Error(N(308));Cs=e,Zo.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var zn=null;function df(e){zn===null?zn=[e]:zn.push(e)}function sv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,df(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dr(e,n)}function Dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zr=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dr(e,r)}return s=n.interleaved,s===null?(t.next=t,df(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dr(e,r)}function Ro(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qd(e,r)}}function ep(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function el(e,t,r,n){var s=e.updateQueue;Zr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,f=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,w=o;switch(h=t,f=r,w.tag){case 1:if(_=w.payload,typeof _=="function"){d=_.call(f,d,h);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,h=typeof _=="function"?_.call(f,d,h):_,h==null)break e;d=Oe({},d,h);break e;case 2:Zr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yn|=a,e.lanes=a,e.memoizedState=d}}function tp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Aa={},xr=Rn(Aa),da=Rn(Aa),fa=Rn(Aa);function Bn(e){if(e===Aa)throw Error(N(174));return e}function hf(e,t){switch(ye(fa,t),ye(da,e),ye(xr,Aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bc(t,e)}be(xr),ye(xr,t)}function qs(){be(xr),be(da),be(fa)}function av(e){Bn(fa.current);var t=Bn(xr.current),r=bc(t,e.type);t!==r&&(ye(da,e),ye(xr,r))}function pf(e){da.current===e&&(be(xr),be(da))}var Re=Rn(0);function tl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pu=[];function mf(){for(var e=0;e<Pu.length;e++)Pu[e]._workInProgressVersionPrimary=null;Pu.length=0}var jo=zr.ReactCurrentDispatcher,Ou=zr.ReactCurrentBatchConfig,Qn=0,je=null,qe=null,Ye=null,rl=!1,Oi=!1,ha=0,$_=0;function ot(){throw Error(N(321))}function gf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hr(e[r],t[r]))return!1;return!0}function vf(e,t,r,n,s,i){if(Qn=i,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?M_:U_,e=r(n,s),Oi){i=0;do{if(Oi=!1,ha=0,25<=i)throw Error(N(301));i+=1,Ye=qe=null,t.updateQueue=null,jo.current=z_,e=r(n,s)}while(Oi)}if(jo.current=nl,t=qe!==null&&qe.next!==null,Qn=0,Ye=qe=je=null,rl=!1,t)throw Error(N(300));return e}function yf(){var e=ha!==0;return ha=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?je.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Kt(){if(qe===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ye===null?je.memoizedState:Ye.next;if(t!==null)Ye=t,qe=e;else{if(e===null)throw Error(N(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?je.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function pa(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=Kt(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=qe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Qn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,je.lanes|=c,Yn|=c}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,hr(n,t.memoizedState)||(xt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,je.lanes|=i,Yn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Au(e){var t=Kt(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);hr(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ov(){}function lv(e,t){var r=je,n=Kt(),s=t(),i=!hr(n.memoizedState,s);if(i&&(n.memoizedState=s,xt=!0),n=n.queue,wf(dv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,ma(9,cv.bind(null,r,n,s,t),void 0,null),Xe===null)throw Error(N(349));Qn&30||uv(r,t,s)}return s}function uv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cv(e,t,r,n){t.value=r,t.getSnapshot=n,fv(t)&&hv(e)}function dv(e,t,r){return r(function(){fv(t)&&hv(e)})}function fv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hr(e,r)}catch{return!0}}function hv(e){var t=Dr(e,1);t!==null&&dr(t,e,1,-1)}function rp(e){var t=yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t.queue=e,e=e.dispatch=F_.bind(null,je,e),[t.memoizedState,e]}function ma(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pv(){return Kt().memoizedState}function Po(e,t,r,n){var s=yr();je.flags|=e,s.memoizedState=ma(1|t,r,void 0,n===void 0?null:n)}function Al(e,t,r,n){var s=Kt();n=n===void 0?null:n;var i=void 0;if(qe!==null){var a=qe.memoizedState;if(i=a.destroy,n!==null&&gf(n,a.deps)){s.memoizedState=ma(t,r,i,n);return}}je.flags|=e,s.memoizedState=ma(1|t,r,i,n)}function np(e,t){return Po(8390656,8,e,t)}function wf(e,t){return Al(2048,8,e,t)}function mv(e,t){return Al(4,2,e,t)}function gv(e,t){return Al(4,4,e,t)}function vv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yv(e,t,r){return r=r!=null?r.concat([e]):null,Al(4,4,vv.bind(null,t,e),r)}function _f(){}function wv(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _v(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bv(e,t,r){return Qn&21?(hr(r,t)||(r=Tg(),je.lanes|=r,Yn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=r)}function L_(e,t){var r=pe;pe=r!==0&&4>r?r:4,e(!0);var n=Ou.transition;Ou.transition={};try{e(!1),t()}finally{pe=r,Ou.transition=n}}function xv(){return Kt().memoizedState}function D_(e,t,r){var n=yn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sv(e))Ev(t,r);else if(r=sv(e,t,r,n),r!==null){var s=mt();dr(r,e,n,s),kv(r,t,n)}}function F_(e,t,r){var n=yn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sv(e))Ev(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,hr(o,a)){var l=t.interleaved;l===null?(s.next=s,df(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=sv(e,t,s,n),r!==null&&(s=mt(),dr(r,e,n,s),kv(r,t,n))}}function Sv(e){var t=e.alternate;return e===je||t!==null&&t===je}function Ev(e,t){Oi=rl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qd(e,r)}}var nl={readContext:qt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},M_={readContext:qt,useCallback:function(e,t){return yr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:np,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Po(4194308,4,vv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var r=yr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=D_.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=yr();return e={current:e},t.memoizedState=e},useState:rp,useDebugValue:_f,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=rp(!1),t=e[0];return e=L_.bind(null,e[1]),yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,s=yr();if(Ee){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),Xe===null)throw Error(N(349));Qn&30||uv(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,np(dv.bind(null,n,i,e),[e]),n.flags|=2048,ma(9,cv.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yr(),t=Xe.identifierPrefix;if(Ee){var r=Pr,n=jr;r=(n&~(1<<32-cr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ha++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},U_={readContext:qt,useCallback:wv,useContext:qt,useEffect:wf,useImperativeHandle:yv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:_v,useReducer:Nu,useRef:pv,useState:function(){return Nu(pa)},useDebugValue:_f,useDeferredValue:function(e){var t=Kt();return bv(t,qe.memoizedState,e)},useTransition:function(){var e=Nu(pa)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:ov,useSyncExternalStore:lv,useId:xv,unstable_isNewReconciler:!1},z_={readContext:qt,useCallback:wv,useContext:qt,useEffect:wf,useImperativeHandle:yv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:_v,useReducer:Au,useRef:pv,useState:function(){return Au(pa)},useDebugValue:_f,useDeferredValue:function(e){var t=Kt();return qe===null?t.memoizedState=e:bv(t,qe.memoizedState,e)},useTransition:function(){var e=Au(pa)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:ov,useSyncExternalStore:lv,useId:xv,unstable_isNewReconciler:!1};function rr(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Il={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mt(),s=yn(e),i=Or(n,s);i.payload=t,r!=null&&(i.callback=r),t=gn(e,i,s),t!==null&&(dr(t,e,s,n),Ro(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mt(),s=yn(e),i=Or(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=gn(e,i,s),t!==null&&(dr(t,e,s,n),Ro(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mt(),n=yn(e),s=Or(r,n);s.tag=2,t!=null&&(s.callback=t),t=gn(e,s,n),t!==null&&(dr(t,e,n,r),Ro(t,e,n))}};function sp(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!oa(r,n)||!oa(s,i):!0}function Tv(e,t,r){var n=!1,s=En,i=t.contextType;return typeof i=="object"&&i!==null?i=qt(i):(s=Et(t)?Gn:ct.current,n=t.contextTypes,i=(n=n!=null)?Vs(e,s):En),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Il,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ip(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Il.enqueueReplaceState(t,t.state,null)}function Vc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ff(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qt(i):(i=Et(t)?Gn:ct.current,s.context=Vs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Il.enqueueReplaceState(s,s.state,null),el(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ks(e,t){try{var r="",n=t;do r+=mw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Iu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var B_=typeof WeakMap=="function"?WeakMap:Map;function Cv(e,t,r){r=Or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){il||(il=!0,ed=n),Wc(e,t)},r}function Rv(e,t,r){r=Or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Wc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wc(e,t),typeof n!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function ap(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new B_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=rb.bind(null,e,t,r),t.then(e,e))}function op(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Or(-1,1),t.tag=2,gn(r,t,1))),r.lanes|=1),e)}var V_=zr.ReactCurrentOwner,xt=!1;function pt(e,t,r,n){t.child=e===null?nv(t,null,r,n):Hs(t,e.child,r,n)}function up(e,t,r,n,s){r=r.render;var i=t.ref;return $s(t,s),n=vf(e,t,r,n,i,s),r=yf(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(Ee&&r&&sf(t),t.flags|=1,pt(e,t,n,s),t.child)}function cp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Rf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,jv(e,t,i,n,s)):(e=Io(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:oa,r(a,n)&&e.ref===t.ref)return Fr(e,t,s)}return t.flags|=1,e=wn(i,n),e.ref=t.ref,e.return=t,t.child=e}function jv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(oa(i,n)&&e.ref===t.ref)if(xt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,Fr(e,t,s)}return Hc(e,t,r,n,s)}function Pv(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(js,Rt),Rt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(js,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ye(js,Rt),Rt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ye(js,Rt),Rt|=n;return pt(e,t,s,r),t.child}function Ov(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hc(e,t,r,n,s){var i=Et(r)?Gn:ct.current;return i=Vs(t,i),$s(t,s),r=vf(e,t,r,n,i,s),n=yf(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(Ee&&n&&sf(t),t.flags|=1,pt(e,t,r,s),t.child)}function dp(e,t,r,n,s){if(Et(r)){var i=!0;Jo(t)}else i=!1;if($s(t,s),t.stateNode===null)Oo(e,t),Tv(t,r,n),Vc(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=Et(r)?Gn:ct.current,u=Vs(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&ip(t,a,n,u),Zr=!1;var h=t.memoizedState;a.state=h,el(t,n,a,s),l=t.memoizedState,o!==n||h!==l||St.current||Zr?(typeof c=="function"&&(Bc(t,r,c,n),l=t.memoizedState),(o=Zr||sp(t,r,o,n,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,iv(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:rr(t.type,o),a.props=u,d=t.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=Et(r)?Gn:ct.current,l=Vs(t,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&ip(t,a,n,l),Zr=!1,h=t.memoizedState,a.state=h,el(t,n,a,s);var _=t.memoizedState;o!==d||h!==_||St.current||Zr?(typeof f=="function"&&(Bc(t,r,f,n),_=t.memoizedState),(u=Zr||sp(t,r,u,n,h,_,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),a.props=n,a.state=_,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return qc(e,t,r,n,i,s)}function qc(e,t,r,n,s,i){Ov(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Qh(t,r,!1),Fr(e,t,i);n=t.stateNode,V_.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Hs(t,e.child,null,i),t.child=Hs(t,null,o,i)):pt(e,t,o,i),t.memoizedState=n.state,s&&Qh(t,r,!0),t.child}function Nv(e){var t=e.stateNode;t.pendingContext?Jh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jh(e,t.context,!1),hf(e,t.containerInfo)}function fp(e,t,r,n,s){return Ws(),of(s),t.flags|=256,pt(e,t,r,n),t.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Gc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Av(e,t,r){var n=t.pendingProps,s=Re.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Re,s&1),e===null)return Uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Dl(a,n,0,null),e=Kn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gc(r),t.memoizedState=Kc,e):bf(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return W_(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=wn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=wn(o,i):(i=Kn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Gc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Kc,n}return i=e.child,e=i.sibling,n=wn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bf(e,t){return t=Dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ao(e,t,r,n){return n!==null&&of(n),Hs(t,e.child,null,r),e=bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W_(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Iu(Error(N(422))),ao(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Dl({mode:"visible",children:n.children},s,0,null),i=Kn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Hs(t,e.child,null,a),t.child.memoizedState=Gc(a),t.memoizedState=Kc,i);if(!(t.mode&1))return ao(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(N(419)),n=Iu(i,n,void 0),ao(e,t,a,n)}if(o=(a&e.childLanes)!==0,xt||o){if(n=Xe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dr(e,s),dr(n,e,s,-1))}return Cf(),n=Iu(Error(N(421))),ao(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Nt=mn(s.nextSibling),It=t,Ee=!0,ar=null,e!==null&&(zt[Bt++]=jr,zt[Bt++]=Pr,zt[Bt++]=Jn,jr=e.id,Pr=e.overflow,Jn=t),t=bf(t,n.children),t.flags|=4096,t)}function hp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zc(e.return,t,r)}function $u(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Iv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(pt(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,r,t);else if(e.tag===19)hp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(Re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&tl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$u(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$u(t,!0,r,null,i);break;case"together":$u(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=wn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function H_(e,t,r){switch(t.tag){case 3:Nv(t),Ws();break;case 5:av(t);break;case 1:Et(t.type)&&Jo(t);break;case 4:hf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ye(Xo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?Av(e,t,r):(ye(Re,Re.current&1),e=Fr(e,t,r),e!==null?e.sibling:null);ye(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Iv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,Pv(e,t,r)}return Fr(e,t,r)}var $v,Jc,Lv,Dv;$v=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jc=function(){};Lv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Bn(xr.current);var i=null;switch(r){case"input":s=vc(e,s),n=vc(e,n),i=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),i=[];break;case"textarea":s=_c(e,s),n=_c(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ko)}xc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ea.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ea.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Dv=function(e,t,r,n){r!==n&&(t.flags|=4)};function pi(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function q_(e,t,r){var n=t.pendingProps;switch(af(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Et(t.type)&&Go(),lt(t),null;case 3:return n=t.stateNode,qs(),be(St),be(ct),mf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(so(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ar!==null&&(nd(ar),ar=null))),Jc(e,t),lt(t),null;case 5:pf(t);var s=Bn(fa.current);if(r=t.type,e!==null&&t.stateNode!=null)Lv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return lt(t),null}if(e=Bn(xr.current),so(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[_r]=t,n[ca]=i,e=(t.mode&1)!==0,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(s=0;s<xi.length;s++)_e(xi[s],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":xh(n,i),_e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_e("invalid",n);break;case"textarea":Eh(n,i),_e("invalid",n)}xc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&no(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&no(n.textContent,o,e),s=["children",""+o]):ea.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&_e("scroll",n)}switch(r){case"input":Ja(n),Sh(n,i,!0);break;case"textarea":Ja(n),kh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ko)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[_r]=t,e[ca]=n,$v(e,t,!1,!1),t.stateNode=e;e:{switch(a=Sc(r,n),r){case"dialog":_e("cancel",e),_e("close",e),s=n;break;case"iframe":case"object":case"embed":_e("load",e),s=n;break;case"video":case"audio":for(s=0;s<xi.length;s++)_e(xi[s],e);s=n;break;case"source":_e("error",e),s=n;break;case"img":case"image":case"link":_e("error",e),_e("load",e),s=n;break;case"details":_e("toggle",e),s=n;break;case"input":xh(e,n),s=vc(e,n),_e("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),_e("invalid",e);break;case"textarea":Eh(e,n),s=_c(e,n),_e("invalid",e);break;default:s=n}xc(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?pg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fg(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ta(e,l):typeof l=="number"&&ta(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ea.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",e):l!=null&&Wd(e,i,l,a))}switch(r){case"input":Ja(e),Sh(e,n,!1);break;case"textarea":Ja(e),kh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Os(e,!!n.multiple,i,!1):n.defaultValue!=null&&Os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ko)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Dv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=Bn(fa.current),Bn(xr.current),so(t)){if(n=t.stateNode,r=t.memoizedProps,n[_r]=t,(i=n.nodeValue!==r)&&(e=It,e!==null))switch(e.tag){case 3:no(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&no(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_r]=t,t.stateNode=n}return lt(t),null;case 13:if(be(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Nt!==null&&t.mode&1&&!(t.flags&128))tv(),Ws(),t.flags|=98560,i=!1;else if(i=so(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[_r]=t}else Ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),i=!1}else ar!==null&&(nd(ar),ar=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ke===0&&(Ke=3):Cf())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return qs(),Jc(e,t),e===null&&la(t.stateNode.containerInfo),lt(t),null;case 10:return cf(t.type._context),lt(t),null;case 17:return Et(t.type)&&Go(),lt(t),null;case 19:if(be(Re),i=t.memoizedState,i===null)return lt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)pi(i,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=tl(e),a!==null){for(t.flags|=128,pi(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ye(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>Gs&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304)}else{if(!n)if(e=tl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ee)return lt(t),null}else 2*Le()-i.renderingStartTime>Gs&&r!==1073741824&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,r=Re.current,ye(Re,n?r&1|2:r&1),t):(lt(t),null);case 22:case 23:return Tf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function K_(e,t){switch(af(t),t.tag){case 1:return Et(t.type)&&Go(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qs(),be(St),be(ct),mf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pf(t),null;case 13:if(be(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Re),null;case 4:return qs(),null;case 10:return cf(t.type._context),null;case 22:case 23:return Tf(),null;case 24:return null;default:return null}}var oo=!1,ut=!1,G_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Rs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ae(e,t,n)}else r.current=null}function Qc(e,t,r){try{r()}catch(n){Ae(e,t,n)}}var pp=!1;function J_(e,t){if(Ac=Wo,e=Bg(),nf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++u===s&&(o=a),h===i&&++c===n&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ic={focusedElem:e,selectionRange:r},Wo=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,y=_.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:rr(t.type,w),y);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Ae(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return _=pp,pp=!1,_}function Ni(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qc(t,r,i)}s=s.next}while(s!==n)}}function $l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Yc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Fv(e){var t=e.alternate;t!==null&&(e.alternate=null,Fv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[ca],delete t[Dc],delete t[O_],delete t[N_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mv(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ko));else if(n!==4&&(e=e.child,e!==null))for(Xc(e,t,r),e=e.sibling;e!==null;)Xc(e,t,r),e=e.sibling}function Zc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Zc(e,t,r),e=e.sibling;e!==null;)Zc(e,t,r),e=e.sibling}var st=null,sr=!1;function Jr(e,t,r){for(r=r.child;r!==null;)Uv(e,t,r),r=r.sibling}function Uv(e,t,r){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Cl,r)}catch{}switch(r.tag){case 5:ut||Rs(r,t);case 6:var n=st,s=sr;st=null,Jr(e,t,r),st=n,sr=s,st!==null&&(sr?(e=st,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(sr?(e=st,r=r.stateNode,e.nodeType===8?Ru(e.parentNode,r):e.nodeType===1&&Ru(e,r),ia(e)):Ru(st,r.stateNode));break;case 4:n=st,s=sr,st=r.stateNode.containerInfo,sr=!0,Jr(e,t,r),st=n,sr=s;break;case 0:case 11:case 14:case 15:if(!ut&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Qc(r,t,a),s=s.next}while(s!==n)}Jr(e,t,r);break;case 1:if(!ut&&(Rs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ae(r,t,o)}Jr(e,t,r);break;case 21:Jr(e,t,r);break;case 22:r.mode&1?(ut=(n=ut)||r.memoizedState!==null,Jr(e,t,r),ut=n):Jr(e,t,r);break;default:Jr(e,t,r)}}function gp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new G_),t.forEach(function(n){var s=sb.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:st=o.stateNode,sr=!1;break e;case 3:st=o.stateNode.containerInfo,sr=!0;break e;case 4:st=o.stateNode.containerInfo,sr=!0;break e}o=o.return}if(st===null)throw Error(N(160));Uv(i,a,s),st=null,sr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zv(t,e),t=t.sibling}function zv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),vr(e),n&4){try{Ni(3,e,e.return),$l(3,e)}catch(w){Ae(e,e.return,w)}try{Ni(5,e,e.return)}catch(w){Ae(e,e.return,w)}}break;case 1:Zt(t,e),vr(e),n&512&&r!==null&&Rs(r,r.return);break;case 5:if(Zt(t,e),vr(e),n&512&&r!==null&&Rs(r,r.return),e.flags&32){var s=e.stateNode;try{ta(s,"")}catch(w){Ae(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ug(s,i),Sc(o,a);var u=Sc(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?pg(s,d):c==="dangerouslySetInnerHTML"?fg(s,d):c==="children"?ta(s,d):Wd(s,c,d,u)}switch(o){case"input":yc(s,i);break;case"textarea":cg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Os(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Os(s,!!i.multiple,i.defaultValue,!0):Os(s,!!i.multiple,i.multiple?[]:"",!1))}s[ca]=i}catch(w){Ae(e,e.return,w)}}break;case 6:if(Zt(t,e),vr(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Ae(e,e.return,w)}}break;case 3:if(Zt(t,e),vr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(w){Ae(e,e.return,w)}break;case 4:Zt(t,e),vr(e);break;case 13:Zt(t,e),vr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ef=Le())),n&4&&gp(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ut=(u=ut)||c,Zt(t,e),ut=u):Zt(t,e),vr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(z=e,c=e.child;c!==null;){for(d=z=c;z!==null;){switch(h=z,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ni(4,h,h.return);break;case 1:Rs(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(w){Ae(n,r,w)}}break;case 5:Rs(h,h.return);break;case 22:if(h.memoizedState!==null){yp(d);continue}}f!==null?(f.return=h,z=f):yp(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=hg("display",a))}catch(w){Ae(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Ae(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(t,e),vr(e),n&4&&gp(e);break;case 21:break;default:Zt(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mv(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ta(s,""),n.flags&=-33);var i=mp(e);Zc(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=mp(e);Xc(e,o,a);break;default:throw Error(N(161))}}catch(l){Ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q_(e,t,r){z=e,Bv(e)}function Bv(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||oo;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ut;o=oo;var u=ut;if(oo=a,(ut=l)&&!u)for(z=s;z!==null;)a=z,l=a.child,a.tag===22&&a.memoizedState!==null?wp(s):l!==null?(l.return=a,z=l):wp(s);for(;i!==null;)z=i,Bv(i),i=i.sibling;z=s,oo=o,ut=u}vp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):vp(e)}}function vp(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||$l(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ut)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:rr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tp(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tp(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ia(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ut||t.flags&512&&Yc(t)}catch(h){Ae(t,t.return,h)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function yp(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function wp(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$l(4,t)}catch(l){Ae(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Ae(t,s,l)}}var i=t.return;try{Yc(t)}catch(l){Ae(t,i,l)}break;case 5:var a=t.return;try{Yc(t)}catch(l){Ae(t,a,l)}}}catch(l){Ae(t,t.return,l)}if(t===e){z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,z=o;break}z=t.return}}var Y_=Math.ceil,sl=zr.ReactCurrentDispatcher,xf=zr.ReactCurrentOwner,Wt=zr.ReactCurrentBatchConfig,le=0,Xe=null,Be=null,it=0,Rt=0,js=Rn(0),Ke=0,ga=null,Yn=0,Ll=0,Sf=0,Ai=null,bt=null,Ef=0,Gs=1/0,Er=null,il=!1,ed=null,vn=null,lo=!1,ln=null,al=0,Ii=0,td=null,No=-1,Ao=0;function mt(){return le&6?Le():No!==-1?No:No=Le()}function yn(e){return e.mode&1?le&2&&it!==0?it&-it:I_.transition!==null?(Ao===0&&(Ao=Tg()),Ao):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Ag(e.type)),e):1}function dr(e,t,r,n){if(50<Ii)throw Ii=0,td=null,Error(N(185));Pa(e,r,n),(!(le&2)||e!==Xe)&&(e===Xe&&(!(le&2)&&(Ll|=r),Ke===4&&rn(e,it)),kt(e,n),r===1&&le===0&&!(t.mode&1)&&(Gs=Le()+500,Nl&&jn()))}function kt(e,t){var r=e.callbackNode;Iw(e,t);var n=Vo(e,e===Xe?it:0);if(n===0)r!==null&&Rh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Rh(r),t===1)e.tag===0?A_(_p.bind(null,e)):Xg(_p.bind(null,e)),j_(function(){!(le&6)&&jn()}),r=null;else{switch(Cg(n)){case 1:r=Jd;break;case 4:r=Eg;break;case 16:r=Bo;break;case 536870912:r=kg;break;default:r=Bo}r=Qv(r,Vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vv(e,t){if(No=-1,Ao=0,le&6)throw Error(N(327));var r=e.callbackNode;if(Ls()&&e.callbackNode!==r)return null;var n=Vo(e,e===Xe?it:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ol(e,n);else{t=n;var s=le;le|=2;var i=Hv();(Xe!==e||it!==t)&&(Er=null,Gs=Le()+500,qn(e,t));do try{eb();break}catch(o){Wv(e,o)}while(!0);uf(),sl.current=i,le=s,Be!==null?t=0:(Xe=null,it=0,t=Ke)}if(t!==0){if(t===2&&(s=Rc(e),s!==0&&(n=s,t=rd(e,s))),t===1)throw r=ga,qn(e,0),rn(e,n),kt(e,Le()),r;if(t===6)rn(e,n);else{if(s=e.current.alternate,!(n&30)&&!X_(s)&&(t=ol(e,n),t===2&&(i=Rc(e),i!==0&&(n=i,t=rd(e,i))),t===1))throw r=ga,qn(e,0),rn(e,n),kt(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:Ln(e,bt,Er);break;case 3:if(rn(e,n),(n&130023424)===n&&(t=Ef+500-Le(),10<t)){if(Vo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Lc(Ln.bind(null,e,bt,Er),t);break}Ln(e,bt,Er);break;case 4:if(rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-cr(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Y_(n/1960))-n,10<n){e.timeoutHandle=Lc(Ln.bind(null,e,bt,Er),n);break}Ln(e,bt,Er);break;case 5:Ln(e,bt,Er);break;default:throw Error(N(329))}}}return kt(e,Le()),e.callbackNode===r?Vv.bind(null,e):null}function rd(e,t){var r=Ai;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=ol(e,t),e!==2&&(t=bt,bt=r,t!==null&&nd(t)),e}function nd(e){bt===null?bt=e:bt.push.apply(bt,e)}function X_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!hr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Sf,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cr(t),n=1<<r;e[r]=-1,t&=~n}}function _p(e){if(le&6)throw Error(N(327));Ls();var t=Vo(e,0);if(!(t&1))return kt(e,Le()),null;var r=ol(e,t);if(e.tag!==0&&r===2){var n=Rc(e);n!==0&&(t=n,r=rd(e,n))}if(r===1)throw r=ga,qn(e,0),rn(e,t),kt(e,Le()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,bt,Er),kt(e,Le()),null}function kf(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(Gs=Le()+500,Nl&&jn())}}function Xn(e){ln!==null&&ln.tag===0&&!(le&6)&&Ls();var t=le;le|=1;var r=Wt.transition,n=pe;try{if(Wt.transition=null,pe=1,e)return e()}finally{pe=n,Wt.transition=r,le=t,!(le&6)&&jn()}}function Tf(){Rt=js.current,be(js)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,R_(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(af(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Go();break;case 3:qs(),be(St),be(ct),mf();break;case 5:pf(n);break;case 4:qs();break;case 13:be(Re);break;case 19:be(Re);break;case 10:cf(n.type._context);break;case 22:case 23:Tf()}r=r.return}if(Xe=e,Be=e=wn(e.current,null),it=Rt=t,Ke=0,ga=null,Sf=Ll=Yn=0,bt=Ai=null,zn!==null){for(t=0;t<zn.length;t++)if(r=zn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}zn=null}return e}function Wv(e,t){do{var r=Be;try{if(uf(),jo.current=nl,rl){for(var n=je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rl=!1}if(Qn=0,Ye=qe=je=null,Oi=!1,ha=0,xf.current=null,r===null||r.return===null){Ke=1,ga=t,Be=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=it,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=op(a);if(f!==null){f.flags&=-257,lp(f,a,o,i,t),f.mode&1&&ap(i,u,t),t=f,l=u;var _=t.updateQueue;if(_===null){var w=new Set;w.add(l),t.updateQueue=w}else _.add(l);break e}else{if(!(t&1)){ap(i,u,t),Cf();break e}l=Error(N(426))}}else if(Ee&&o.mode&1){var y=op(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),lp(y,a,o,i,t),of(Ks(l,o));break e}}i=l=Ks(l,o),Ke!==4&&(Ke=2),Ai===null?Ai=[i]:Ai.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Cv(i,l,t);ep(i,g);break e;case 1:o=l;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vn===null||!vn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Rv(i,o,t);ep(i,x);break e}}i=i.return}while(i!==null)}Kv(r)}catch(E){t=E,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function Hv(){var e=sl.current;return sl.current=nl,e===null?nl:e}function Cf(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Xe===null||!(Yn&268435455)&&!(Ll&268435455)||rn(Xe,it)}function ol(e,t){var r=le;le|=2;var n=Hv();(Xe!==e||it!==t)&&(Er=null,qn(e,t));do try{Z_();break}catch(s){Wv(e,s)}while(!0);if(uf(),le=r,sl.current=n,Be!==null)throw Error(N(261));return Xe=null,it=0,Ke}function Z_(){for(;Be!==null;)qv(Be)}function eb(){for(;Be!==null&&!kw();)qv(Be)}function qv(e){var t=Jv(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Kv(e):Be=t,xf.current=null}function Kv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=K_(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Be=null;return}}else if(r=q_(r,t,Rt),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ke===0&&(Ke=5)}function Ln(e,t,r){var n=pe,s=Wt.transition;try{Wt.transition=null,pe=1,tb(e,t,r,n)}finally{Wt.transition=s,pe=n}return null}function tb(e,t,r,n){do Ls();while(ln!==null);if(le&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if($w(e,i),e===Xe&&(Be=Xe=null,it=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lo||(lo=!0,Qv(Bo,function(){return Ls(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Wt.transition,Wt.transition=null;var a=pe;pe=1;var o=le;le|=4,xf.current=null,J_(e,r),zv(r,e),b_(Ic),Wo=!!Ac,Ic=Ac=null,e.current=r,Q_(r),Tw(),le=o,pe=a,Wt.transition=i}else e.current=r;if(lo&&(lo=!1,ln=e,al=s),i=e.pendingLanes,i===0&&(vn=null),jw(r.stateNode),kt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(il)throw il=!1,e=ed,ed=null,e;return al&1&&e.tag!==0&&Ls(),i=e.pendingLanes,i&1?e===td?Ii++:(Ii=0,td=e):Ii=0,jn(),null}function Ls(){if(ln!==null){var e=Cg(al),t=Wt.transition,r=pe;try{if(Wt.transition=null,pe=16>e?16:e,ln===null)var n=!1;else{if(e=ln,ln=null,al=0,le&6)throw Error(N(331));var s=le;for(le|=4,z=e.current;z!==null;){var i=z,a=i.child;if(z.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Ni(8,c,i)}var d=c.child;if(d!==null)d.return=c,z=d;else for(;z!==null;){c=z;var h=c.sibling,f=c.return;if(Fv(c),c===u){z=null;break}if(h!==null){h.return=f,z=h;break}z=f}}}var _=i.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,z=a;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ni(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,z=g;break e}z=i.return}}var p=e.current;for(z=p;z!==null;){a=z;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,z=v;else e:for(a=p;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$l(9,o)}}catch(E){Ae(o,o.return,E)}if(o===a){z=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,z=x;break e}z=o.return}}if(le=s,jn(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Cl,e)}catch{}n=!0}return n}finally{pe=r,Wt.transition=t}}return!1}function bp(e,t,r){t=Ks(r,t),t=Cv(e,t,1),e=gn(e,t,1),t=mt(),e!==null&&(Pa(e,1,t),kt(e,t))}function Ae(e,t,r){if(e.tag===3)bp(e,e,r);else for(;t!==null;){if(t.tag===3){bp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vn===null||!vn.has(n))){e=Ks(r,e),e=Rv(t,e,1),t=gn(t,e,1),e=mt(),t!==null&&(Pa(t,1,e),kt(t,e));break}}t=t.return}}function rb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&r,Xe===e&&(it&r)===r&&(Ke===4||Ke===3&&(it&130023424)===it&&500>Le()-Ef?qn(e,0):Sf|=r),kt(e,t)}function Gv(e,t){t===0&&(e.mode&1?(t=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):t=1);var r=mt();e=Dr(e,t),e!==null&&(Pa(e,t,r),kt(e,r))}function nb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gv(e,r)}function sb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),Gv(e,r)}var Jv;Jv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xt=!1,H_(e,t,r);xt=!!(e.flags&131072)}else xt=!1,Ee&&t.flags&1048576&&Zg(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Oo(e,t),e=t.pendingProps;var s=Vs(t,ct.current);$s(t,r),s=vf(null,t,n,e,s,r);var i=yf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(n)?(i=!0,Jo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ff(t),s.updater=Il,t.stateNode=s,s._reactInternals=t,Vc(t,n,e,r),t=qc(null,t,n,!0,i,r)):(t.tag=0,Ee&&i&&sf(t),pt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Oo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ab(n),e=rr(n,e),s){case 0:t=Hc(null,t,n,e,r);break e;case 1:t=dp(null,t,n,e,r);break e;case 11:t=up(null,t,n,e,r);break e;case 14:t=cp(null,t,n,rr(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),Hc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),dp(e,t,n,s,r);case 3:e:{if(Nv(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,iv(e,t),el(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ks(Error(N(423)),t),t=fp(e,t,n,r,s);break e}else if(n!==s){s=Ks(Error(N(424)),t),t=fp(e,t,n,r,s);break e}else for(Nt=mn(t.stateNode.containerInfo.firstChild),It=t,Ee=!0,ar=null,r=nv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ws(),n===s){t=Fr(e,t,r);break e}pt(e,t,n,r)}t=t.child}return t;case 5:return av(t),e===null&&Uc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,$c(n,s)?a=null:i!==null&&$c(n,i)&&(t.flags|=32),Ov(e,t),pt(e,t,a,r),t.child;case 6:return e===null&&Uc(t),null;case 13:return Av(e,t,r);case 4:return hf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hs(t,null,n,r):pt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),up(e,t,n,s,r);case 7:return pt(e,t,t.pendingProps,r),t.child;case 8:return pt(e,t,t.pendingProps.children,r),t.child;case 12:return pt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ye(Xo,n._currentValue),n._currentValue=a,i!==null)if(hr(i.value,a)){if(i.children===s.children&&!St.current){t=Fr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Or(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),zc(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),zc(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}pt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$s(t,r),s=qt(s),n=n(s),t.flags|=1,pt(e,t,n,r),t.child;case 14:return n=t.type,s=rr(n,t.pendingProps),s=rr(n.type,s),cp(e,t,n,s,r);case 15:return jv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),Oo(e,t),t.tag=1,Et(n)?(e=!0,Jo(t)):e=!1,$s(t,r),Tv(t,n,s),Vc(t,n,s,r),qc(null,t,n,!0,e,r);case 19:return Iv(e,t,r);case 22:return Pv(e,t,r)}throw Error(N(156,t.tag))};function Qv(e,t){return Sg(e,t)}function ib(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,r,n){return new ib(e,t,r,n)}function Rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ab(e){if(typeof e=="function")return Rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qd)return 11;if(e===Kd)return 14}return 2}function wn(e,t){var r=e.alternate;return r===null?(r=Vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Io(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Rf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ws:return Kn(r.children,s,i,t);case Hd:a=8,s|=8;break;case hc:return e=Vt(12,r,t,s|2),e.elementType=hc,e.lanes=i,e;case pc:return e=Vt(13,r,t,s),e.elementType=pc,e.lanes=i,e;case mc:return e=Vt(19,r,t,s),e.elementType=mc,e.lanes=i,e;case ag:return Dl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sg:a=10;break e;case ig:a=9;break e;case qd:a=11;break e;case Kd:a=14;break e;case Xr:a=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Vt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Kn(e,t,r,n){return e=Vt(7,e,n,t),e.lanes=r,e}function Dl(e,t,r,n){return e=Vt(22,e,n,t),e.elementType=ag,e.lanes=r,e.stateNode={isHidden:!1},e}function Lu(e,t,r){return e=Vt(6,e,null,t),e.lanes=r,e}function Du(e,t,r){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ob(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vu(0),this.expirationTimes=vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jf(e,t,r,n,s,i,a,o,l){return e=new ob(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(i),e}function lb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Yv(e){if(!e)return En;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Et(r))return Yg(e,r,t)}return t}function Xv(e,t,r,n,s,i,a,o,l){return e=jf(r,n,!0,e,s,i,a,o,l),e.context=Yv(null),r=e.current,n=mt(),s=yn(r),i=Or(n,s),i.callback=t??null,gn(r,i,s),e.current.lanes=s,Pa(e,s,n),kt(e,n),e}function Fl(e,t,r,n){var s=t.current,i=mt(),a=yn(s);return r=Yv(r),t.context===null?t.context=r:t.pendingContext=r,t=Or(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gn(s,t,a),e!==null&&(dr(e,s,a,i),Ro(e,s,a)),a}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Pf(e,t){xp(e,t),(e=e.alternate)&&xp(e,t)}function ub(){return null}var Zv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Of(e){this._internalRoot=e}Ml.prototype.render=Of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Fl(e,t,null,null)};Ml.prototype.unmount=Of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Fl(null,e,null,null)}),t[Lr]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tn.length&&t!==0&&t<tn[r].priority;r++);tn.splice(r,0,e),r===0&&Ng(e)}};function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function cb(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ll(a);i.call(u)}}var a=Xv(t,n,e,0,null,!1,!1,"",Sp);return e._reactRootContainer=a,e[Lr]=a.current,la(e.nodeType===8?e.parentNode:e),Xn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=ll(l);o.call(u)}}var l=jf(e,0,!1,null,null,!1,!1,"",Sp);return e._reactRootContainer=l,e[Lr]=l.current,la(e.nodeType===8?e.parentNode:e),Xn(function(){Fl(t,l,r,n)}),l}function zl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=ll(a);o.call(l)}}Fl(t,a,e,s)}else a=cb(r,t,e,s,n);return ll(a)}Rg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bi(t.pendingLanes);r!==0&&(Qd(t,r|1),kt(t,Le()),!(le&6)&&(Gs=Le()+500,jn()))}break;case 13:Xn(function(){var n=Dr(e,1);if(n!==null){var s=mt();dr(n,e,1,s)}}),Pf(e,1)}};Yd=function(e){if(e.tag===13){var t=Dr(e,134217728);if(t!==null){var r=mt();dr(t,e,134217728,r)}Pf(e,134217728)}};jg=function(e){if(e.tag===13){var t=yn(e),r=Dr(e,t);if(r!==null){var n=mt();dr(r,e,t,n)}Pf(e,t)}};Pg=function(){return pe};Og=function(e,t){var r=pe;try{return pe=e,t()}finally{pe=r}};kc=function(e,t,r){switch(t){case"input":if(yc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ol(n);if(!s)throw Error(N(90));lg(n),yc(n,s)}}}break;case"textarea":cg(e,r);break;case"select":t=r.value,t!=null&&Os(e,!!r.multiple,t,!1)}};vg=kf;yg=Xn;var db={usingClientEntryPoint:!1,Events:[Na,Ss,Ol,mg,gg,kf]},mi={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fb={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bg(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Cl=uo.inject(fb),br=uo}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=db;Lt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(t))throw Error(N(200));return lb(e,t,null,r)};Lt.createRoot=function(e,t){if(!Nf(e))throw Error(N(299));var r=!1,n="",s=Zv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jf(e,1,!1,null,null,r,!1,n,s),e[Lr]=t.current,la(e.nodeType===8?e.parentNode:e),new Of(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=bg(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return Xn(e)};Lt.hydrate=function(e,t,r){if(!Ul(t))throw Error(N(200));return zl(null,e,t,!0,r)};Lt.hydrateRoot=function(e,t,r){if(!Nf(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Zv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Xv(t,null,e,1,r??null,s,!1,i,a),e[Lr]=t.current,la(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ml(t)};Lt.render=function(e,t,r){if(!Ul(t))throw Error(N(200));return zl(null,e,t,!1,r)};Lt.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(N(40));return e._reactRootContainer?(Xn(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};Lt.unstable_batchedUpdates=kf;Lt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ul(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return zl(e,t,r,!1,n)};Lt.version="18.3.1-next-f1338f8080-20240426";function ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ey)}catch(e){console.error(e)}}ey(),eg.exports=Lt;var Af=eg.exports;const hb=Bm(Af);var Ep=Af;dc.createRoot=Ep.createRoot,dc.hydrateRoot=Ep.hydrateRoot;var ty={exports:{}},ry={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=b;function pb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mb=typeof Object.is=="function"?Object.is:pb,gb=Ia.useSyncExternalStore,vb=Ia.useRef,yb=Ia.useEffect,wb=Ia.useMemo,_b=Ia.useDebugValue;ry.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=vb(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=wb(function(){function l(f){if(!u){if(u=!0,c=f,f=n(f),s!==void 0&&a.hasValue){var _=a.value;if(s(_,f))return d=_}return d=f}if(_=d,mb(c,f))return _;var w=n(f);return s!==void 0&&s(_,w)?(c=f,_):(c=f,d=w)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,s]);var o=gb(e,i[0],i[1]);return yb(function(){a.hasValue=!0,a.value=o},[o]),_b(o),o};ty.exports=ry;var bb=ty.exports;function xb(e){e()}function Sb(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xb(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var kp={notify(){},get:()=>[]};function Eb(e,t){let r,n=kp,s=0,i=!1;function a(w){c();const y=n.subscribe(w);let g=!1;return()=>{g||(g=!0,y(),d())}}function o(){n.notify()}function l(){_.onStateChange&&_.onStateChange()}function u(){return i}function c(){s++,r||(r=e.subscribe(l),n=Sb())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=kp)}function h(){i||(i=!0,c())}function f(){i&&(i=!1,d())}const _={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return _}var kb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tb=kb(),Cb=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rb=Cb(),jb=()=>Tb||Rb?b.useLayoutEffect:b.useEffect,Pb=jb(),Fu=Symbol.for("react-redux-context"),Mu=typeof globalThis<"u"?globalThis:{};function Ob(){if(!b.createContext)return{};const e=Mu[Fu]??(Mu[Fu]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var kn=Ob();function Nb(e){const{children:t,context:r,serverState:n,store:s}=e,i=b.useMemo(()=>{const l=Eb(s);return{store:s,subscription:l,getServerState:n?()=>n:void 0}},[s,n]),a=b.useMemo(()=>s.getState(),[s]);Pb(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,a]);const o=r||kn;return b.createElement(o.Provider,{value:i},t)}var Ab=Nb;function If(e=kn){return function(){return b.useContext(e)}}var ny=If();function sy(e=kn){const t=e===kn?ny:If(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var Ib=sy();function $b(e=kn){const t=e===kn?Ib:sy(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Ft=$b(),Lb=(e,t)=>e===t;function Db(e=kn){const t=e===kn?ny:If(e),r=(n,s={})=>{const{equalityFn:i=Lb}=typeof s=="function"?{equalityFn:s}:s,a=t(),{store:o,subscription:l,getServerState:u}=a;b.useRef(!0);const c=b.useCallback({[n.name](h){return n(h)}}[n.name],[n]),d=bb.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,u||o.getState,c,i);return b.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var Ge=Db();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(this,arguments)}var un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(un||(un={}));const Tp="popstate";function Fb(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:o="",hash:l=""}=rs(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),sd("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:ul(i))}function n(s,i){Bl(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Ub(t,r,n,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mb(){return Math.random().toString(36).substr(2,8)}function Cp(e,t){return{usr:e.state,key:e.key,idx:t}}function sd(e,t,r,n){return r===void 0&&(r=null),va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rs(t):t,{state:r,key:t&&t.key||n||Mb()})}function ul(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ub(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=un.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(va({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=un.Pop;let y=c(),g=y==null?null:y-u;u=y,l&&l({action:o,location:w.location,delta:g})}function h(y,g){o=un.Push;let p=sd(w.location,y,g);r&&r(p,y),u=c()+1;let v=Cp(p,u),x=w.createHref(p);try{a.pushState(v,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}i&&l&&l({action:o,location:w.location,delta:1})}function f(y,g){o=un.Replace;let p=sd(w.location,y,g);r&&r(p,y),u=c();let v=Cp(p,u),x=w.createHref(p);a.replaceState(v,"",x),i&&l&&l({action:o,location:w.location,delta:0})}function _(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof y=="string"?y:ul(y);return p=p.replace(/ $/,"%20"),Fe(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return o},get location(){return e(s,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Tp,d),l=y,()=>{s.removeEventListener(Tp,d),l=null}},createHref(y){return t(s,y)},createURL:_,encodeLocation(y){let g=_(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(y){return a.go(y)}};return w}var Rp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rp||(Rp={}));function zb(e,t,r){return r===void 0&&(r="/"),Bb(e,t,r)}function Bb(e,t,r,n){let s=typeof t=="string"?rs(t):t,i=$f(s.pathname||"/",r);if(i==null)return null;let a=iy(e);Vb(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=t1(i);o=Xb(a[l],u)}return o}function iy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=_n([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(Fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iy(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Qb(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of ay(i.path))s(i,a,l)}),t}function ay(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=ay(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Vb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yb(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Wb=/^:[\w-]+$/,Hb=3,qb=2,Kb=1,Gb=10,Jb=-2,jp=e=>e==="*";function Qb(e,t){let r=e.split("/"),n=r.length;return r.some(jp)&&(n+=Jb),t&&(n+=qb),r.filter(s=>!jp(s)).reduce((s,i)=>s+(Wb.test(i)?Hb:i===""?Kb:Gb),n)}function Yb(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Xb(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Zb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:_n([i,d.pathname]),pathnameBase:a1(_n([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=_n([i,d.pathnameBase]))}return a}function Zb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let w=o[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const _=o[d];return f&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function e1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function t1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $f(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n1=e=>r1.test(e);function s1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?rs(e):e,i;if(r)if(n1(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Bl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Pp(r.substring(1),"/"):i=Pp(r,t)}else i=t;return{pathname:i,search:o1(n),hash:l1(s)}}function Pp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Uu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Lf(e,t){let r=i1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Df(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=rs(e):(s=va({},e),Fe(!s.pathname||!s.pathname.includes("?"),Uu("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),Uu("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),Uu("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=s1(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _n=e=>e.join("/").replace(/\/\/+/g,"/"),a1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oy=["post","put","patch","delete"];new Set(oy);const c1=["get",...oy];new Set(c1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(this,arguments)}const Ff=b.createContext(null),d1=b.createContext(null),Pn=b.createContext(null),Vl=b.createContext(null),On=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ly=b.createContext(null);function f1(e,t){let{relative:r}=t===void 0?{}:t;Zs()||Fe(!1);let{basename:n,navigator:s}=b.useContext(Pn),{hash:i,pathname:a,search:o}=cy(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:_n([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Zs(){return b.useContext(Vl)!=null}function ei(){return Zs()||Fe(!1),b.useContext(Vl).location}function uy(e){b.useContext(Pn).static||b.useLayoutEffect(e)}function Br(){let{isDataRoute:e}=b.useContext(On);return e?k1():h1()}function h1(){Zs()||Fe(!1);let e=b.useContext(Ff),{basename:t,future:r,navigator:n}=b.useContext(Pn),{matches:s}=b.useContext(On),{pathname:i}=ei(),a=JSON.stringify(Lf(s,r.v7_relativeSplatPath)),o=b.useRef(!1);return uy(()=>{o.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=Df(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:_n([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,i,e])}function cy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Pn),{matches:s}=b.useContext(On),{pathname:i}=ei(),a=JSON.stringify(Lf(s,n.v7_relativeSplatPath));return b.useMemo(()=>Df(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function p1(e,t){return m1(e,t)}function m1(e,t,r,n){Zs()||Fe(!1);let{navigator:s}=b.useContext(Pn),{matches:i}=b.useContext(On),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ei(),c;if(t){var d;let y=typeof t=="string"?rs(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Fe(!1),c=y}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=zb(e,{pathname:f}),w=_1(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:_n([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:_n([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&w?b.createElement(Vl.Provider,{value:{location:ya({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:un.Pop}},w):w}function g1(){let e=E1(),t=u1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const v1=b.createElement(g1,null);class y1 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(On.Provider,{value:this.props.routeContext},b.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w1(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(Ff);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(On.Provider,{value:t},n)}function _1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Fe(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=r,_=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let f,_=!1,w=null,y=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||v1,l&&(u<0&&h===0?(T1("route-fallback"),_=!0,y=null):u===h&&(_=!0,y=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),p=()=>{let v;return f?v=w:_?v=y:d.route.Component?v=b.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,b.createElement(w1,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(y1,{location:r.location,revalidation:r.revalidation,component:w,error:f,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var dy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dy||{}),fy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fy||{});function b1(e){let t=b.useContext(Ff);return t||Fe(!1),t}function x1(e){let t=b.useContext(d1);return t||Fe(!1),t}function S1(e){let t=b.useContext(On);return t||Fe(!1),t}function hy(e){let t=S1(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function E1(){var e;let t=b.useContext(ly),r=x1(),n=hy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function k1(){let{router:e}=b1(dy.UseNavigateStable),t=hy(fy.UseNavigateStable),r=b.useRef(!1);return uy(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ya({fromRouteId:t},i)))},[e,t])}const Op={};function T1(e,t,r){Op[e]||(Op[e]=!0)}function C1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mf(e){let{to:t,replace:r,state:n,relative:s}=e;Zs()||Fe(!1);let{future:i,static:a}=b.useContext(Pn),{matches:o}=b.useContext(On),{pathname:l}=ei(),u=Br(),c=Df(t,Lf(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Yr(e){Fe(!1)}function R1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=un.Pop,navigator:i,static:a=!1,future:o}=e;Zs()&&Fe(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:a,future:ya({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=rs(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:_="default"}=n,w=b.useMemo(()=>{let y=$f(c,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:_},navigationType:s}},[l,c,d,h,f,_,s]);return w==null?null:b.createElement(Pn.Provider,{value:u},b.createElement(Vl.Provider,{children:r,value:w}))}function j1(e){let{children:t,location:r}=e;return p1(id(t),r)}new Promise(()=>{});function id(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,id(n.props.children,i));return}n.type!==Yr&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=id(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(this,arguments)}function P1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function O1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N1(e,t){return e.button===0&&(!t||t==="_self")&&!O1(e)}function od(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function A1(e,t){let r=od(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const I1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$1="6";try{window.__reactRouterVersion=$1}catch{}const L1="startTransition",Np=zs[L1];function D1(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=Fb({window:s,v5Compat:!0}));let a=i.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=b.useCallback(d=>{u&&Np?Np(()=>l(d)):l(d)},[l,u]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.useEffect(()=>C1(n),[n]),b.createElement(R1,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,py=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=P1(t,I1),{basename:f}=b.useContext(Pn),_,w=!1;if(typeof u=="string"&&M1.test(u)&&(_=u,F1))try{let v=new URL(window.location.href),x=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=$f(x.pathname,f);x.origin===v.origin&&E!=null?u=E+x.search+x.hash:w=!0}catch{}let y=f1(u,{relative:s}),g=U1(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d});function p(v){n&&n(v),v.defaultPrevented||g(v)}return b.createElement("a",ad({},h,{href:_||y,onClick:w||i?n:p,ref:r,target:l}))});var Ap;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ap||(Ap={}));var Ip;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ip||(Ip={}));function U1(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=Br(),u=ei(),c=cy(e,{relative:a});return b.useCallback(d=>{if(N1(d,r)){d.preventDefault();let h=n!==void 0?n:ul(u)===ul(c);l(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,c,n,s,r,e,i,a,o])}function my(e){let t=b.useRef(od(e)),r=b.useRef(!1),n=ei(),s=b.useMemo(()=>A1(n.search,r.current?null:t.current),[n.search]),i=Br(),a=b.useCallback((o,l)=>{const u=od(typeof o=="function"?o(s):o);r.current=!0,i("?"+u,l)},[i,s]);return[s,a]}var z1=e=>{switch(e){case"success":return W1;case"info":return q1;case"warning":return H1;case"error":return K1;default:return null}},B1=Array(12).fill(0),V1=({visible:e,className:t})=>C.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},C.createElement("div",{className:"sonner-spinner"},B1.map((r,n)=>C.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),W1=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),H1=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q1=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),K1=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),G1=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},C.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),J1=()=>{let[e,t]=C.useState(document.hidden);return C.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},ld=1,Q1=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ld++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:r}),{...o,...e,id:s,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,a=n.then(async l=>{if(i=["resolve",l],C.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(X1(l)&&!l.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:u,description:c})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(l):t.success,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:u,description:c})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(l):t.error,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:u,description:c})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),o=()=>new Promise((l,u)=>a.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||ld++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wt=new Q1,Y1=(e,t)=>{let r=(t==null?void 0:t.id)||ld++;return wt.addToast({title:e,...t,id:r}),r},X1=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Z1=Y1,ex=()=>wt.toasts,tx=()=>wt.getActiveToasts(),we=Object.assign(Z1,{success:wt.success,info:wt.info,warning:wt.warning,error:wt.error,custom:wt.custom,message:wt.message,promise:wt.promise,dismiss:wt.dismiss,loading:wt.loading},{getHistory:ex,getToasts:tx});function rx(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}rx(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function co(e){return e.label!==void 0}var nx=3,sx="32px",ix="16px",$p=4e3,ax=356,ox=14,lx=20,ux=200;function er(...e){return e.filter(Boolean).join(" ")}function cx(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var dx=e=>{var t,r,n,s,i,a,o,l,u,c,d;let{invert:h,toast:f,unstyled:_,interacting:w,setHeights:y,visibleToasts:g,heights:p,index:v,toasts:x,expanded:E,removeToast:k,defaultRichColors:j,closeButton:P,style:I,cancelButtonStyle:F,actionButtonStyle:de,className:B="",descriptionClassName:Q="",duration:ee,position:oe,gap:he,loadingIcon:Z,expandByDefault:$,classNames:A,icons:U,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:V}=e,[te,D]=C.useState(null),[Y,ie]=C.useState(null),[se,Ut]=C.useState(!1),[Gt,mr]=C.useState(!1),[ue,ft]=C.useState(!1),[Je,Wr]=C.useState(!1),[Ha,ni]=C.useState(!1),[lu,si]=C.useState(0),[ph,ii]=C.useState(0),S=C.useRef(f.duration||ee||$p),T=C.useRef(null),R=C.useRef(null),M=v===0,L=v+1<=g,O=f.type,W=f.dismissible!==!1,fe=f.className||"",me=f.descriptionClassName||"",et=C.useMemo(()=>p.findIndex(X=>X.toastId===f.id)||0,[p,f.id]),ns=C.useMemo(()=>{var X;return(X=f.closeButton)!=null?X:P},[f.closeButton,P]),Jt=C.useMemo(()=>f.duration||ee||$p,[f.duration,ee]),ai=C.useRef(0),gr=C.useRef(0),ss=C.useRef(0),Hr=C.useRef(null),[qa,uu]=oe.split("-"),oi=C.useMemo(()=>p.reduce((X,ge,xe)=>xe>=et?X:X+ge.height,0),[p,et]),mh=J1(),D0=f.invert||h,cu=O==="loading";gr.current=C.useMemo(()=>et*he+oi,[et,oi]),C.useEffect(()=>{S.current=Jt},[Jt]),C.useEffect(()=>{Ut(!0)},[]),C.useEffect(()=>{let X=R.current;if(X){let ge=X.getBoundingClientRect().height;return ii(ge),y(xe=>[{toastId:f.id,height:ge,position:f.position},...xe]),()=>y(xe=>xe.filter(Qt=>Qt.toastId!==f.id))}},[y,f.id]),C.useLayoutEffect(()=>{if(!se)return;let X=R.current,ge=X.style.height;X.style.height="auto";let xe=X.getBoundingClientRect().height;X.style.height=ge,ii(xe),y(Qt=>Qt.find(Yt=>Yt.toastId===f.id)?Qt.map(Yt=>Yt.toastId===f.id?{...Yt,height:xe}:Yt):[{toastId:f.id,height:xe,position:f.position},...Qt])},[se,f.title,f.description,y,f.id]);let qr=C.useCallback(()=>{mr(!0),si(gr.current),y(X=>X.filter(ge=>ge.toastId!==f.id)),setTimeout(()=>{k(f)},ux)},[f,k,y,gr]);C.useEffect(()=>{if(f.promise&&O==="loading"||f.duration===1/0||f.type==="loading")return;let X;return E||w||V&&mh?(()=>{if(ss.current<ai.current){let ge=new Date().getTime()-ai.current;S.current=S.current-ge}ss.current=new Date().getTime()})():S.current!==1/0&&(ai.current=new Date().getTime(),X=setTimeout(()=>{var ge;(ge=f.onAutoClose)==null||ge.call(f,f),qr()},S.current)),()=>clearTimeout(X)},[E,w,f,O,V,mh,qr]),C.useEffect(()=>{f.delete&&qr()},[qr,f.delete]);function F0(){var X,ge,xe;return U!=null&&U.loading?C.createElement("div",{className:er(A==null?void 0:A.loader,(X=f==null?void 0:f.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":O==="loading"},U.loading):Z?C.createElement("div",{className:er(A==null?void 0:A.loader,(ge=f==null?void 0:f.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":O==="loading"},Z):C.createElement(V1,{className:er(A==null?void 0:A.loader,(xe=f==null?void 0:f.classNames)==null?void 0:xe.loader),visible:O==="loading"})}return C.createElement("li",{tabIndex:0,ref:R,className:er(B,fe,A==null?void 0:A.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[O],(r=f==null?void 0:f.classNames)==null?void 0:r[O]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:j,"data-styled":!(f.jsx||f.unstyled||_),"data-mounted":se,"data-promise":!!f.promise,"data-swiped":Ha,"data-removed":Gt,"data-visible":L,"data-y-position":qa,"data-x-position":uu,"data-index":v,"data-front":M,"data-swiping":ue,"data-dismissible":W,"data-type":O,"data-invert":D0,"data-swipe-out":Je,"data-swipe-direction":Y,"data-expanded":!!(E||$&&se),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${Gt?lu:gr.current}px`,"--initial-height":$?"auto":`${ph}px`,...I,...f.style},onDragEnd:()=>{ft(!1),D(null),Hr.current=null},onPointerDown:X=>{cu||!W||(T.current=new Date,si(gr.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(ft(!0),Hr.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,ge,xe,Qt;if(Je||!W)return;Hr.current=null;let Yt=Number(((X=R.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Kr=Number(((ge=R.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Nn=new Date().getTime()-((xe=T.current)==null?void 0:xe.getTime()),Xt=te==="x"?Yt:Kr,Gr=Math.abs(Xt)/Nn;if(Math.abs(Xt)>=lx||Gr>.11){si(gr.current),(Qt=f.onDismiss)==null||Qt.call(f,f),ie(te==="x"?Yt>0?"right":"left":Kr>0?"down":"up"),qr(),Wr(!0),ni(!1);return}ft(!1),D(null)},onPointerMove:X=>{var ge,xe,Qt,Yt;if(!Hr.current||!W||((ge=window.getSelection())==null?void 0:ge.toString().length)>0)return;let Kr=X.clientY-Hr.current.y,Nn=X.clientX-Hr.current.x,Xt=(xe=e.swipeDirections)!=null?xe:cx(oe);!te&&(Math.abs(Nn)>1||Math.abs(Kr)>1)&&D(Math.abs(Nn)>Math.abs(Kr)?"x":"y");let Gr={x:0,y:0};te==="y"?(Xt.includes("top")||Xt.includes("bottom"))&&(Xt.includes("top")&&Kr<0||Xt.includes("bottom")&&Kr>0)&&(Gr.y=Kr):te==="x"&&(Xt.includes("left")||Xt.includes("right"))&&(Xt.includes("left")&&Nn<0||Xt.includes("right")&&Nn>0)&&(Gr.x=Nn),(Math.abs(Gr.x)>0||Math.abs(Gr.y)>0)&&ni(!0),(Qt=R.current)==null||Qt.style.setProperty("--swipe-amount-x",`${Gr.x}px`),(Yt=R.current)==null||Yt.style.setProperty("--swipe-amount-y",`${Gr.y}px`)}},ns&&!f.jsx?C.createElement("button",{"aria-label":ne,"data-disabled":cu,"data-close-button":!0,onClick:cu||!W?()=>{}:()=>{var X;qr(),(X=f.onDismiss)==null||X.call(f,f)},className:er(A==null?void 0:A.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=U==null?void 0:U.close)!=null?i:G1):null,f.jsx||b.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:C.createElement(C.Fragment,null,O||f.icon||f.promise?C.createElement("div",{"data-icon":"",className:er(A==null?void 0:A.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||F0():null,f.type!=="loading"?f.icon||(U==null?void 0:U[O])||z1(O):null):null,C.createElement("div",{"data-content":"",className:er(A==null?void 0:A.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},C.createElement("div",{"data-title":"",className:er(A==null?void 0:A.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?C.createElement("div",{"data-description":"",className:er(Q,me,A==null?void 0:A.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),b.isValidElement(f.cancel)?f.cancel:f.cancel&&co(f.cancel)?C.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||F,onClick:X=>{var ge,xe;co(f.cancel)&&W&&((xe=(ge=f.cancel).onClick)==null||xe.call(ge,X),qr())},className:er(A==null?void 0:A.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,b.isValidElement(f.action)?f.action:f.action&&co(f.action)?C.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||de,onClick:X=>{var ge,xe;co(f.action)&&((xe=(ge=f.action).onClick)==null||xe.call(ge,X),!X.defaultPrevented&&qr())},className:er(A==null?void 0:A.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Lp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function fx(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?ix:sx;function l(u){["top","right","bottom","left"].forEach(c=>{r[`${a}-${c}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=o:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}var hx=b.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:u,theme:c="light",richColors:d,duration:h,style:f,visibleToasts:_=nx,toastOptions:w,dir:y=Lp(),gap:g=ox,loadingIcon:p,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:E}=e,[k,j]=C.useState([]),P=C.useMemo(()=>Array.from(new Set([n].concat(k.filter(V=>V.position).map(V=>V.position)))),[k,n]),[I,F]=C.useState([]),[de,B]=C.useState(!1),[Q,ee]=C.useState(!1),[oe,he]=C.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=C.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=C.useRef(null),U=C.useRef(!1),ne=C.useCallback(V=>{j(te=>{var D;return(D=te.find(Y=>Y.id===V.id))!=null&&D.delete||wt.dismiss(V.id),te.filter(({id:Y})=>Y!==V.id)})},[]);return C.useEffect(()=>wt.subscribe(V=>{if(V.dismiss){j(te=>te.map(D=>D.id===V.id?{...D,delete:!0}:D));return}setTimeout(()=>{hb.flushSync(()=>{j(te=>{let D=te.findIndex(Y=>Y.id===V.id);return D!==-1?[...te.slice(0,D),{...te[D],...V},...te.slice(D+1)]:[V,...te]})})})}),[]),C.useEffect(()=>{if(c!=="system"){he(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:te})=>{he(te?"dark":"light")})}catch{V.addListener(({matches:D})=>{try{he(D?"dark":"light")}catch(Y){console.error(Y)}})}},[c]),C.useEffect(()=>{k.length<=1&&B(!1)},[k]),C.useEffect(()=>{let V=te=>{var D,Y;s.every(ie=>te[ie]||te.code===ie)&&(B(!0),(D=Z.current)==null||D.focus()),te.code==="Escape"&&(document.activeElement===Z.current||(Y=Z.current)!=null&&Y.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),C.useEffect(()=>{if(Z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,U.current=!1)}},[Z.current]),C.createElement("section",{ref:t,"aria-label":`${x} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((V,te)=>{var D;let[Y,ie]=V.split("-");return k.length?C.createElement("ol",{key:V,dir:y==="auto"?Lp():y,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":Y,"data-lifted":de&&k.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((D=I[0])==null?void 0:D.height)||0}px`,"--width":`${ax}px`,"--gap":`${g}px`,...f,...fx(l,u)},onBlur:se=>{U.current&&!se.currentTarget.contains(se.relatedTarget)&&(U.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||U.current||(U.current=!0,A.current=se.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{Q||B(!1)},onDragEnd:()=>B(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},k.filter(se=>!se.position&&te===0||se.position===V).map((se,Ut)=>{var Gt,mr;return C.createElement(dx,{key:se.id,icons:v,index:Ut,toast:se,defaultRichColors:d,duration:(Gt=w==null?void 0:w.duration)!=null?Gt:h,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:r,visibleToasts:_,closeButton:(mr=w==null?void 0:w.closeButton)!=null?mr:a,interacting:Q,position:V,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ne,toasts:k.filter(ue=>ue.position==se.position),heights:I.filter(ue=>ue.position==se.position),setHeights:F,expandByDefault:i,gap:g,loadingIcon:p,expanded:de,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});function nt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var px=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dp=px,zu=()=>Math.random().toString(36).substring(7).split("").join("."),mx={INIT:`@@redux/INIT${zu()}`,REPLACE:`@@redux/REPLACE${zu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zu()}`},cl=mx;function Uf(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gy(e,t,r){if(typeof e!="function")throw new Error(nt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(nt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(nt(1));return r(gy)(e,t)}let n=e,s=t,i=new Map,a=i,o=0,l=!1;function u(){a===i&&(a=new Map,i.forEach((y,g)=>{a.set(g,y)}))}function c(){if(l)throw new Error(nt(3));return s}function d(y){if(typeof y!="function")throw new Error(nt(4));if(l)throw new Error(nt(5));let g=!0;u();const p=o++;return a.set(p,y),function(){if(g){if(l)throw new Error(nt(6));g=!1,u(),a.delete(p),i=null}}}function h(y){if(!Uf(y))throw new Error(nt(7));if(typeof y.type>"u")throw new Error(nt(8));if(typeof y.type!="string")throw new Error(nt(17));if(l)throw new Error(nt(9));try{l=!0,s=n(s,y)}finally{l=!1}return(i=a).forEach(p=>{p()}),y}function f(y){if(typeof y!="function")throw new Error(nt(10));n=y,h({type:cl.REPLACE})}function _(){const y=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(nt(11));function p(){const x=g;x.next&&x.next(c())}return p(),{unsubscribe:y(p)}},[Dp](){return this}}}return h({type:cl.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[Dp]:_}}function gx(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:cl.INIT})>"u")throw new Error(nt(12));if(typeof r(void 0,{type:cl.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nt(13))})}function vx(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let s;try{gx(r)}catch(i){s=i}return function(a={},o){if(s)throw s;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],h=r[d],f=a[d],_=h(f,o);if(typeof _>"u")throw o&&o.type,new Error(nt(14));u[d]=_,l=l||_!==f}return l=l||n.length!==Object.keys(a).length,l?u:a}}function dl(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function yx(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(nt(15))};const a={getState:s.getState,dispatch:(l,...u)=>i(l,...u)},o=e.map(l=>l(a));return i=dl(...o)(s.dispatch),{...s,dispatch:i}}}function wx(e){return Uf(e)&&"type"in e&&typeof e.type=="string"}var vy=Symbol.for("immer-nothing"),Fp=Symbol.for("immer-draftable"),gt=Symbol.for("immer-state");function or(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var At=Object,Js=At.getPrototypeOf,fl="constructor",Wl="prototype",ud="configurable",hl="enumerable",$o="writable",wa="value",Mr=e=>!!e&&!!e[gt];function pr(e){var t;return e?yy(e)||ql(e)||!!e[Fp]||!!((t=e[fl])!=null&&t[Fp])||Kl(e)||Gl(e):!1}var _x=At[Wl][fl].toString(),Mp=new WeakMap;function yy(e){if(!e||!zf(e))return!1;const t=Js(e);if(t===null||t===At[Wl])return!0;const r=At.hasOwnProperty.call(t,fl)&&t[fl];if(r===Object)return!0;if(!hs(r))return!1;let n=Mp.get(r);return n===void 0&&(n=Function.toString.call(r),Mp.set(r,n)),n===_x}function Hl(e,t,r=!0){$a(e)===0?(r?Reflect.ownKeys(e):At.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function $a(e){const t=e[gt];return t?t.type_:ql(e)?1:Kl(e)?2:Gl(e)?3:0}var Up=(e,t,r=$a(e))=>r===2?e.has(t):At[Wl].hasOwnProperty.call(e,t),cd=(e,t,r=$a(e))=>r===2?e.get(t):e[t],pl=(e,t,r,n=$a(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function bx(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ql=Array.isArray,Kl=e=>e instanceof Map,Gl=e=>e instanceof Set,zf=e=>typeof e=="object",hs=e=>typeof e=="function",Bu=e=>typeof e=="boolean";function xx(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Cr=e=>e.copy_||e.base_,Bf=e=>e.modified_?e.copy_:e.base_;function dd(e,t){if(Kl(e))return new Map(e);if(Gl(e))return new Set(e);if(ql(e))return Array[Wl].slice.call(e);const r=yy(e);if(t===!0||t==="class_only"&&!r){const n=At.getOwnPropertyDescriptors(e);delete n[gt];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const a=s[i],o=n[a];o[$o]===!1&&(o[$o]=!0,o[ud]=!0),(o.get||o.set)&&(n[a]={[ud]:!0,[$o]:!0,[hl]:o[hl],[wa]:e[a]})}return At.create(Js(e),n)}else{const n=Js(e);if(n!==null&&r)return{...e};const s=At.create(n);return At.assign(s,e)}}function Vf(e,t=!1){return Jl(e)||Mr(e)||!pr(e)||($a(e)>1&&At.defineProperties(e,{set:fo,add:fo,clear:fo,delete:fo}),At.freeze(e),t&&Hl(e,(r,n)=>{Vf(n,!0)},!1)),e}function Sx(){or(2)}var fo={[wa]:Sx};function Jl(e){return e===null||!zf(e)?!0:At.isFrozen(e)}var ml="MapSet",fd="Patches",zp="ArrayMethods",wy={};function Zn(e){const t=wy[e];return t||or(0,e),t}var Bp=e=>!!wy[e],_a,_y=()=>_a,Ex=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Bp(ml)?Zn(ml):void 0,arrayMethodsPlugin_:Bp(zp)?Zn(zp):void 0});function Vp(e,t){t&&(e.patchPlugin_=Zn(fd),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hd(e){pd(e),e.drafts_.forEach(kx),e.drafts_=null}function pd(e){e===_a&&(_a=e.parent_)}var Wp=e=>_a=Ex(_a,e);function kx(e){const t=e[gt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[gt].modified_&&(hd(t),or(4)),pr(e)&&(e=qp(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[gt].base_,e,t)}else e=qp(t,r);return Tx(t,e,!0),hd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vy?e:void 0}function qp(e,t){if(Jl(t))return t;const r=t[gt];if(!r)return gl(t,e.handledSet_,e);if(!Ql(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Sy(r,e)}return r.copy_}function Tx(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vf(t,r)}function by(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ql=(e,t)=>e.scope_===t,Cx=[];function xy(e,t,r,n){const s=Cr(e),i=e.type_;if(n!==void 0&&cd(s,n,i)===t){pl(s,n,r,i);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Hl(s,(l,u)=>{if(Mr(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const a=e.draftLocations_.get(t)??Cx;for(const o of a)pl(s,o,r,i)}function Rx(e,t,r){e.callbacks_.push(function(s){var o;const i=t;if(!i||!Ql(i,s))return;(o=s.mapSetPlugin_)==null||o.fixSetContents(i);const a=Bf(i);xy(e,i.draft_??i,a,r),Sy(i,s)})}function Sy(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const i=s.getPath(e);i&&s.generatePatches_(e,i,t)}by(e)}}function jx(e,t,r){const{scope_:n}=e;if(Mr(r)){const s=r[gt];Ql(s,n)&&s.callbacks_.push(function(){Lo(e);const a=Bf(s);xy(e,r,a,t)})}else pr(r)&&e.callbacks_.push(function(){const i=Cr(e);e.type_===3?i.has(r)&&gl(r,n.handledSet_,n):cd(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gl(cd(e.copy_,t,e.type_),n.handledSet_,n)})}function gl(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Mr(e)||t.has(e)||!pr(e)||Jl(e)||(t.add(e),Hl(e,(n,s)=>{if(Mr(s)){const i=s[gt];if(Ql(i,r)){const a=Bf(i);pl(e,n,a,e.type_),by(i)}}else pr(s)&&gl(s,t,r)})),e}function Px(e,t){const r=ql(e),n={type_:r?1:0,scope_:t?t.scope_:_y(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=vl;r&&(s=[n],i=ba);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return n.draft_=o,n.revoke_=a,[o,n]}var vl={get(e,t){if(t===gt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const s=Cr(e);if(!Up(s,t,e.type_))return Ox(e,s,t);const i=s[t];if(e.finalized_||!pr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&xx(t))return i;if(i===Vu(e.base_,t)){Lo(e);const a=e.type_===1?+t:t,o=gd(e.scope_,i,e,a);return e.copy_[a]=o}return i},has(e,t){return t in Cr(e)},ownKeys(e){return Reflect.ownKeys(Cr(e))},set(e,t,r){const n=Ey(Cr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Vu(Cr(e),t),i=s==null?void 0:s[gt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(bx(r,s)&&(r!==void 0||Up(e.base_,t,e.type_)))return!0;Lo(e),md(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),jx(e,t,r)),!0},deleteProperty(e,t){return Lo(e),Vu(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),md(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Cr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[$o]:!0,[ud]:e.type_!==1||t!=="length",[hl]:n[hl],[wa]:r[t]}},defineProperty(){or(11)},getPrototypeOf(e){return Js(e.base_)},setPrototypeOf(){or(12)}},ba={};for(let e in vl){let t=vl[e];ba[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}ba.deleteProperty=function(e,t){return ba.set.call(this,e,t,void 0)};ba.set=function(e,t,r){return vl.set.call(this,e[0],t,r,e[0])};function Vu(e,t){const r=e[gt];return(r?Cr(r):e)[t]}function Ox(e,t,r){var s;const n=Ey(t,r);return n?wa in n?n[wa]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function Ey(e,t){if(!(t in e))return;let r=Js(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Js(r)}}function md(e){e.modified_||(e.modified_=!0,e.parent_&&md(e.parent_))}function Lo(e){e.copy_||(e.assigned_=new Map,e.copy_=dd(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nx=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(hs(t)&&!hs(r)){const i=r;r=t;const a=this;return function(l=i,...u){return a.produce(l,c=>r.call(this,c,...u))}}hs(r)||or(6),n!==void 0&&!hs(n)&&or(7);let s;if(pr(t)){const i=Wp(this),a=gd(i,t,void 0);let o=!0;try{s=r(a),o=!1}finally{o?hd(i):pd(i)}return Vp(i,n),Hp(s,i)}else if(!t||!zf(t)){if(s=r(t),s===void 0&&(s=t),s===vy&&(s=void 0),this.autoFreeze_&&Vf(s,!0),n){const i=[],a=[];Zn(fd).generateReplacementPatches_(t,s,{patches_:i,inversePatches_:a}),n(i,a)}return s}else or(1,t)},this.produceWithPatches=(t,r)=>{if(hs(t))return(a,...o)=>this.produceWithPatches(a,l=>t(l,...o));let n,s;return[this.produce(t,r,(a,o)=>{n=a,s=o}),n,s]},Bu(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Bu(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Bu(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pr(e)||or(8),Mr(e)&&(e=Ax(e));const t=Wp(this),r=gd(t,e,void 0);return r[gt].isManual_=!0,pd(t),r}finishDraft(e,t){const r=e&&e[gt];(!r||!r.isManual_)&&or(9);const{scope_:n}=r;return Vp(n,t),Hp(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Zn(fd).applyPatches_;return Mr(e)?n(e,t):this.produce(e,s=>n(s,t))}};function gd(e,t,r,n){const[s,i]=Kl(t)?Zn(ml).proxyMap_(t,r):Gl(t)?Zn(ml).proxySet_(t,r):Px(t,r);return((r==null?void 0:r.scope_)??_y()).drafts_.push(s),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?Rx(r,i,n):i.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(i);const{patchPlugin_:u}=l;i.modified_&&u&&u.generatePatches_(i,[],l)}),s}function Ax(e){return Mr(e)||or(10,e),ky(e)}function ky(e){if(!pr(e)||Jl(e))return e;const t=e[gt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=dd(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=dd(e,!0);return Hl(r,(s,i)=>{pl(r,s,ky(i))},n),t&&(t.finalized_=!1),r}var Ix=new Nx,Ty=Ix.produce;function Cy(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var $x=Cy(),Lx=Cy,Dx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dl:dl.apply(null,arguments)},Fx=e=>e&&typeof e.match=="function";function $i(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Nr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>wx(n)&&n.type===e,r}var Ry=class Si extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Si.prototype)}static get[Symbol.species](){return Si}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Si(...t[0].concat(this)):new Si(...t.concat(this))}};function Kp(e){return pr(e)?Ty(e,()=>{}):e}function ho(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Mx(e){return typeof e=="boolean"}var Ux=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let a=new Ry;return r&&(Mx(r)?a.push($x):a.push(Lx(r.extraArgument))),a},zx="RTK_autoBatch",Gp=e=>t=>{setTimeout(t,e)},Bx=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,a=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Gp(10):e.type==="callback"?e.queueNotification:Gp(e.timeout),u=()=>{a=!1,i&&(i=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>s&&c(),h=n.subscribe(d);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var d;try{return s=!((d=c==null?void 0:c.meta)!=null&&d[zx]),i=!s,i&&(a||(a=!0,l(u))),n.dispatch(c)}finally{s=!0}}})},Vx=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new Ry(e);return n&&s.push(Bx(typeof n=="object"?n:void 0)),s};function Wx(e){const t=Ux(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Uf(r))o=vx(r);else throw new Error(Nr(1));let l;typeof n=="function"?l=n(t):l=t();let u=dl;s&&(u=Dx({trace:!1,...typeof s=="object"&&s}));const c=yx(...l),d=Vx(c);let h=typeof a=="function"?a(d):d();const f=u(...h);return gy(o,i,f)}function jy(e){const t={},r=[];let n;const s={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Nr(28));if(o in t)throw new Error(Nr(29));return t[o]=a,s},addAsyncThunk(i,a){return a.pending&&(t[i.pending.type]=a.pending),a.rejected&&(t[i.rejected.type]=a.rejected),a.fulfilled&&(t[i.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:i.settled,reducer:a.settled}),s},addMatcher(i,a){return r.push({matcher:i,reducer:a}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function Hx(e){return typeof e=="function"}function qx(e,t){let[r,n,s]=jy(t),i;if(Hx(e))i=()=>Kp(e());else{const o=Kp(e);i=()=>o}function a(o=i(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[s]),u.reduce((c,d)=>{if(d)if(Mr(c)){const f=d(c,l);return f===void 0?c:f}else{if(pr(c))return Ty(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return a.getInitialState=i,a}var Kx=(e,t)=>Fx(e)?e.match(t):e(t);function Gx(...e){return t=>e.some(r=>Kx(r,t))}var Jx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Qx=(e=21)=>{let t="",r=e;for(;r--;)t+=Jx[Math.random()*64|0];return t},Yx=["name","message","stack","code"],Wu=class{constructor(e,t){du(this,"_type");this.payload=e,this.meta=t}},Jp=class{constructor(e,t){du(this,"_type");this.payload=e,this.meta=t}},Xx=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of Yx)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},Qp="External signal was aborted",Ze=(()=>{function e(t,r,n){const s=$i(t+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),i=$i(t+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),a=$i(t+"/rejected",(l,u,c,d,h)=>({payload:d,error:(n&&n.serializeError||Xx)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l,{signal:u}={}){return(c,d,h)=>{const f=n!=null&&n.idGenerator?n.idGenerator(l):Qx(),_=new AbortController;let w,y;function g(v){y=v,_.abort()}u&&(u.aborted?g(Qp):u.addEventListener("abort",()=>g(Qp),{once:!0}));const p=async function(){var E,k;let v;try{let j=(E=n==null?void 0:n.condition)==null?void 0:E.call(n,l,{getState:d,extra:h});if(eS(j)&&(j=await j),j===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const P=new Promise((I,F)=>{w=()=>{F({name:"AbortError",message:y||"Aborted"})},_.signal.addEventListener("abort",w,{once:!0})});c(i(f,l,(k=n==null?void 0:n.getPendingMeta)==null?void 0:k.call(n,{requestId:f,arg:l},{getState:d,extra:h}))),v=await Promise.race([P,Promise.resolve(r(l,{dispatch:c,getState:d,extra:h,requestId:f,signal:_.signal,abort:g,rejectWithValue:(I,F)=>new Wu(I,F),fulfillWithValue:(I,F)=>new Jp(I,F)})).then(I=>{if(I instanceof Wu)throw I;return I instanceof Jp?s(I.payload,f,l,I.meta):s(I,f,l)})])}catch(j){v=j instanceof Wu?a(null,f,l,j.payload,j.meta):a(j,f,l)}finally{w&&_.signal.removeEventListener("abort",w)}return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||c(v),v}();return Object.assign(p,{abort:g,requestId:f,arg:l,unwrap(){return p.then(Zx)}})}}return Object.assign(o,{pending:i,rejected:a,fulfilled:s,settled:Gx(a,s),typePrefix:t})}return e.withTypes=()=>e,e})();function Zx(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function eS(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var tS=Symbol.for("rtk-slice-createasyncthunk");function rS(e,t){return`${e}/${t}`}function nS({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[tS];return function(s){const{name:i,reducerPath:a=i}=s;if(!i)throw new Error(Nr(11));const o=(typeof s.reducers=="function"?s.reducers(iS()):s.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(x,E){const k=typeof x=="string"?x:x.type;if(!k)throw new Error(Nr(12));if(k in u.sliceCaseReducersByType)throw new Error(Nr(13));return u.sliceCaseReducersByType[k]=E,c},addMatcher(x,E){return u.sliceMatchers.push({matcher:x,reducer:E}),c},exposeAction(x,E){return u.actionCreators[x]=E,c},exposeCaseReducer(x,E){return u.sliceCaseReducersByName[x]=E,c}};l.forEach(x=>{const E=o[x],k={reducerName:x,type:rS(i,x),createNotation:typeof s.reducers=="function"};oS(E)?uS(k,E,c,t):aS(k,E,c)});function d(){const[x={},E=[],k=void 0]=typeof s.extraReducers=="function"?jy(s.extraReducers):[s.extraReducers],j={...x,...u.sliceCaseReducersByType};return qx(s.initialState,P=>{for(let I in j)P.addCase(I,j[I]);for(let I of u.sliceMatchers)P.addMatcher(I.matcher,I.reducer);for(let I of E)P.addMatcher(I.matcher,I.reducer);k&&P.addDefaultCase(k)})}const h=x=>x,f=new Map,_=new WeakMap;let w;function y(x,E){return w||(w=d()),w(x,E)}function g(){return w||(w=d()),w.getInitialState()}function p(x,E=!1){function k(P){let I=P[x];return typeof I>"u"&&E&&(I=ho(_,k,g)),I}function j(P=h){const I=ho(f,E,()=>new WeakMap);return ho(I,P,()=>{const F={};for(const[de,B]of Object.entries(s.selectors??{}))F[de]=sS(B,P,()=>ho(_,P,g),E);return F})}return{reducerPath:x,getSelectors:j,get selectors(){return j(k)},selectSlice:k}}const v={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...p(a),injectInto(x,{reducerPath:E,...k}={}){const j=E??a;return x.inject({reducerPath:j,reducer:y},k),{...v,...p(j,!0)}}};return v}}function sS(e,t,r,n){function s(i,...a){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...a)}return s.unwrapped=e,s}var Wf=nS();function iS(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function aS({type:e,reducerName:t,createNotation:r},n,s){let i,a;if("reducer"in n){if(r&&!lS(n))throw new Error(Nr(17));i=n.reducer,a=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?$i(e,a):$i(e))}function oS(e){return e._reducerDefinitionType==="asyncThunk"}function lS(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uS({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Nr(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:l,settled:u,options:c}=r,d=s(e,i,c);n.exposeAction(t,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:a||po,pending:o||po,rejected:l||po,settled:u||po})}function po(){}function Nr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Yl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function cS(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const dS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Hf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class fS extends Hf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yp extends Hf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xp extends Hf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vd||(vd={}));class hS{constructor(t,{headers:r={},customFetch:n,region:s=vd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=dS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cS(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:f}=n;f||(f=this.region);const _=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,_.searchParams.set("forceFunctionRegion",f));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let y=c;d&&(a=new AbortController,i=setTimeout(()=>a.abort(),d),c?(y=a.signal,c.addEventListener("abort",()=>a.abort())):y=a.signal);const g=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:w,signal:y}).catch(E=>{throw new fS(E)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new Yp(g);if(!g.ok)throw new Xp(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield g.json():v==="application/octet-stream"||v==="application/pdf"?x=yield g.blob():v==="text/event-stream"?x=g:v==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Xp||o instanceof Yp?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var pS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},mS=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var f;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&y&&y.length>1&&(l=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var _;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(_=a.details)===null||_===void 0)&&_.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&r.shouldThrowOnError)throw new pS(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var u,c,d,h;const _=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";o=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${_}`,w&&(o+=` (${w})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var f;o=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},gS=class extends mS{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Zp=new RegExp("[,()]");var ps=class extends gS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Zp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Zp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},vS=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new ps({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(i.length>0){const a=[...new Set(i)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new ps({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ps({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ps({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ps({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},yS=class Py{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new vS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Py(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",u=r);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new ps({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class wS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _S="2.89.0",bS=`realtime-js/${_S}`,Oy="1.0.0",xS="2.0.0",em=Oy,yd=1e4,SS=1e3,ES=100;var en;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(en||(en={}));var He;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(He||(He={}));var ir;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ir||(ir={}));var wd;(function(e){e.websocket="websocket"})(wd||(wd={}));var Fn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fn||(Fn={}));class kS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let _=new DataView(f),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,l.length),_.setUint8(w++,o.length),_.setUint8(w++,a.length),_.setUint8(w++,u.length),_.setUint8(w++,d.length),_.setUint8(w++,r),Array.from(l,g=>_.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>_.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>_.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>_.setUint8(w++,g.charCodeAt(0))),Array.from(d,g=>_.setUint8(w++,g.charCodeAt(0)));var y=new Uint8Array(f.byteLength+n.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(n),f.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,_={type:this.BROADCAST_EVENT,event:c,payload:f};return a>0&&(_.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Ny{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const tm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=TS(a,e,t,s),i),{}):{}},TS=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Ay(i,a):_d(a)},Ay=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PS(t,r)}switch(e){case ve.bool:return CS(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return RS(t);case ve.json:case ve.jsonb:return jS(t);case ve.timestamp:return OS(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return _d(t);default:return _d(t)}},_d=e=>e,CS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},PS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Ay(t,o))}return e},OS=e=>typeof e=="string"?e.replace(" ","T"):e,Iy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hu{constructor(t,r,n={},s=yd){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rm||(rm={}));class Li{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Li.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Li.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Li.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const h=c.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),_=c.filter(y=>f.indexOf(y.presence_ref)<0),w=d.filter(y=>h.indexOf(y.presence_ref)<0);_.length>0&&(o[u]=_),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);t[o].unshift(...h)}n(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nm||(nm={}));var Di;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Di||(Di={}));var kr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class Ps{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hu(this,ir.join,this.params,this.timeout),this.rejoinTimer=new Ny(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ir.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Li(this),this.broadcastEndpointURL=Iy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(kr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(kr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,y=(_=w==null?void 0:w.length)!==null&&_!==void 0?_:0,g=[];for(let p=0;p<y;p++){const v=w[p],{filter:{event:x,schema:E,table:k,filter:j}}=v,P=f&&f[p];if(P&&P.event===x&&Ps.isFilterValueEqual(P.schema,E)&&Ps.isFilterValueEqual(P.table,k)&&Ps.isFilterValueEqual(P.filter,j))g.push(Object.assign(Object.assign({},v),{id:P.id}));else{this.unsubscribe(),this.state=He.errored,t==null||t(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(kr.SUBSCRIBED);return}}).receive("error",f=>{this.state=He.errored,t==null||t(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===He.joined&&t===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=He.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ir.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Hu(this,ir.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ES){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=ir;if(n&&[o,l,u,c].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var _,w,y;return((_=f.filter)===null||_===void 0?void 0:_.event)==="*"||((y=(w=f.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(f=>f.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var _,w,y,g,p,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const x=f.id,E=(_=f.filter)===null||_===void 0?void 0:_.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(p=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const _=h.data,{schema:w,table:y,commit_timestamp:g,type:p,errors:v}=_;h=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(_))}f.callback(h,n)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ps.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ir.close,{},t)}_onError(t){this._on(ir.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=tm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=tm(t.columns,t.old_record)),r}}const qu=()=>{},mo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NS=[1e3,2e3,5e3,1e4],AS=1e4,IS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $S{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yd,this.transport=null,this.heartbeatIntervalMs=mo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.reconnectTimer=null,this.vsn=em,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new kS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${wd.websocket}`,this.httpEndpoint=Iy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case en.connecting:return Fn.Connecting;case en.open:return Fn.Open;case en.closing:return Fn.Closing;default:return Fn.Closed}}isConnected(){return this.connectionState()===Fn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ps(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===en.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===en.open||this.conn.readyState===en.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ir.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([IS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:bS};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ir.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ny(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u,c,d,h,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:yd,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:mo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:qu,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:em,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:_=>NS[_-1]||AS,this.vsn){case Oy:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(_,w)=>w(JSON.stringify(_)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(_,w)=>w(JSON.parse(_));break;case xS:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var xa=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function LS(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function DS(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function FS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=LS(e.baseUrl,n,s),l=await DS(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const f=d?h:void 0,_=f==null?void 0:f.error;throw new xa((_==null?void 0:_.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function go(e){return e.join("")}var MS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:go(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${go(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${go(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${go(e.namespace)}`}),!0}catch(t){if(t instanceof xa&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof xa&&r.status===409)return;throw r}}};function as(e){return e.join("")}var US=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof xa&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof xa&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},zS=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=FS({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new MS(this.client,t),this.tableOps=new US(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var BS=class extends Xl{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bd=class extends Xl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VS=()=>Response,xd=e=>{if(Array.isArray(e))return e.map(r=>xd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=xd(n)}),t},WS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HS=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Sa(e){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function qS(e,t){if(Sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KS(e){var t=qS(e,"string");return Sa(t)=="symbol"?t:t+""}function GS(e,t,r){return(t=KS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sm(Object(r),!0).forEach(function(n){GS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Ku=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},JS=async(e,t,r)=>{e instanceof await VS()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new BS(Ku(n),s,i))}).catch(n=>{t(new bd(Ku(n),n))}):t(new bd(Ku(e),e))},QS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(WS(n)?(s.headers=J({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),J(J({},s),r))};async function La(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,QS(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>JS(l,o,n))})}async function Ea(e,t,r,n){return La(e,"GET",t,r,n)}async function nr(e,t,r,n,s){return La(e,"POST",t,n,s,r)}async function Sd(e,t,r,n,s){return La(e,"PUT",t,n,s,r)}async function YS(e,t,r,n){return La(e,"HEAD",t,J(J({},r),{},{noResolveJson:!0}),n)}async function Kf(e,t,r,n,s){return La(e,"DELETE",t,n,s,r)}var XS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}}};let $y;$y=Symbol.toStringTag;var ZS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[$y]="BlobDownloadBuilder",this.promise=null}asStream(){return new XS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}}};const eE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},im={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tE=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=J(J({},im),n);let o=J(J({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=J(J({},o),n.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?Sd:nr)(s.fetch,`${s.url}/object/${c}`,i,J({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const u=J({upsert:im.upsert},n),c=J(J({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Sd(s.fetch,o.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=J({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await nr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new Xl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await nr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await nr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await nr(n.fetch,`${n.url}/object/sign/${s}`,J({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await nr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>J(J({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>Ea(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new ZS(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:xd(await Ea(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await YS(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n)&&n instanceof bd){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await Kf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=J(J(J({},eE),t),{},{prefix:e||""});return{data:await nr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=J({},e);return{data:await nr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Ly="2.89.0",Dy={"X-Client-Info":`storage-js/${Ly}`};var rE=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=J(J({},Dy),t),this.fetch=qf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Ea(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ea(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await nr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Sd(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},nE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=J(J({},Dy),t),this.fetch=qf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Ea(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!HS(e))throw new Xl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new zS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Gf={"X-Client-Info":`storage-js/${Ly}`,"Content-Type":"application/json"};var Fy=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Gu=class extends Fy{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sE=class extends Fy{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Jf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},am=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aE=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Gu(am(i),n,a))}).catch(()=>{const i=n+"";t(new Gu(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Gu(s.statusText||`HTTP ${n} error`,n,i))}}else t(new sE(am(e),e))},oE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(iE(n)?(s.headers=J({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,J(J({},s),r)):s};async function lE(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,oE(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>aE(l,o,n))})}async function Pt(e,t,r,n,s){return lE(e,"POST",t,n,s,r)}var uE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=J(J({},Gf),t),this.fetch=Jf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Pt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Pt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}},cE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=J(J({},Gf),t),this.fetch=Jf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Pt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Pt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Pt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},dE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=J(J({},Gf),t),this.fetch=Jf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Pt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},fE=class extends dE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new hE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},hE=class extends uE{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,J(J({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,J(J({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new pE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},pE=class extends cE{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,J(J({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,J(J({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,J(J({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,J(J({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,J(J({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},mE=class extends rE{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new tE(this.url,this.headers,e,this.fetch)}get vectors(){return new fE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nE(this.url+"/iceberg",this.headers,this.fetch)}};const My="2.89.0",ms=30*1e3,Ed=3,Ju=Ed*ms,gE="http://localhost:9999",vE="supabase.auth.token",yE={"X-Client-Info":`gotrue-js/${My}`},kd="X-Supabase-Api-Version",Uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_E=10*60*1e3;class ka extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bE extends ka{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xE(e){return K(e)&&e.name==="AuthApiError"}class Mn extends ka{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vr extends ka{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ct extends Vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SE(e){return K(e)&&e.name==="AuthSessionMissingError"}class os extends Vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vo extends Vr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yo extends Vr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EE(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class om extends Vr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kE extends Vr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Td extends Vr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qu(e){return K(e)&&e.name==="AuthRetryableFetchError"}class lm extends Vr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cd extends Vr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),um=` 	
\r=`.split(""),TE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<um.length;t+=1)e[um[t].charCodeAt(0)]=-2;for(let t=0;t<yl.length;t+=1)e[yl[t].charCodeAt(0)]=t;return e})();function cm(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yl[n]),t.queuedBits-=6}}function zy(e,t,r){const n=TE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{jE(a,n,r)};for(let a=0;a<e.length;a+=1)zy(e.charCodeAt(a),s,i);return t.join("")}function CE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}CE(n,t)}}function jE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ds(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)zy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function PE(e){const t=[];return RE(e,r=>t.push(r)),new Uint8Array(t)}function Vn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>cm(s,r,n)),cm(null,r,n),t.join("")}function OE(e){return Math.round(Date.now()/1e3)+e}function NE(){return Symbol("auth-callback")}const rt=()=>typeof window<"u"&&typeof document<"u",An={tested:!1,writable:!1},By=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(An.tested)return An.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),An.tested=!0,An.writable=!0}catch{An.tested=!0,An.writable=!1}return An.writable};function AE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Vy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},In=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tt=async(e,t)=>{await e.removeItem(t)};class Zl{constructor(){this.promise=new Zl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zl.promiseConstructor=Promise;function Yu(e){const t=e.split(".");if(t.length!==3)throw new Cd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wE.test(t[n]))throw new Cd("JWT not in base64url format");return{header:JSON.parse(dm(t[0])),payload:JSON.parse(dm(t[1])),signature:Ds(t[2]),raw:{header:t[0],payload:t[1]}}}async function $E(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LE(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function DE(e){return("0"+e.toString(16)).substr(-2)}function FE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,DE).join("")}async function ME(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function UE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ME(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(e,t,r=!1){const n=FE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await gs(e,`${t}-code-verifier`,s);const i=await UE(n);return[i,n===i?"plain":"s256"]}const zE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BE(e){const t=e.headers.get(kd);if(!t||!t.match(zE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function us(e){if(!HE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qE(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function fm(e){return JSON.parse(JSON.stringify(e))}const Dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KE=[502,503,504];async function hm(e){var t;if(!IE(e))throw new Td(Dn(e),0);if(KE.includes(e.status))throw new Td(Dn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Mn(Dn(i),i)}let n;const s=BE(e);if(s&&s.getTime()>=Uy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lm(Dn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new lm(Dn(r),e.status,r.weak_password.reasons);throw new bE(Dn(r),e.status||500,n)}const GE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[kd]||(i[kd]=Uy["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await JE(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function JE(e,t,r,n,s,i){const a=GE(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new Td(Dn(l),0)}if(o.ok||await hm(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await hm(l)}}function tr(e){var t;let r=null;XE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function pm(e){const t=tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function nn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function QE(e){return{data:e,error:null}}function YE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Yl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function mm(e){return e}function XE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zu=["global","local","others"];class ZE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Vy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Zu[0]){if(Zu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zu.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Yl(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:YE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:nn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mm});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){us(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:nn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){us(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:nn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){us(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:nn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){us(t.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(t){us(t.userId),us(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mm});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(K(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await G(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}}function gm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const cs={debug:!!(globalThis&&By()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ek extends Wy{}async function tk(e,t,r){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ek(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nk(e){return parseInt(e,16)}function sk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ik(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Hy(e.address),_=c?`${c}://${n}`:n,w=e.statement?`${e.statement}
`:"",y=`${_} wants you to sign in with your Ethereum account:
${f}

${w}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${y}
${g}`}class ze extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class wl extends ze{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ak({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(qy(a)){if(i.rp.id!==a)return new ze({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ok({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(qy(n)){if(r.rpId!==n)return new ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uk=new lk;function ck(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Yl(e,["challenge","user","excludeCredentials"]),i=Ds(t).buffer,a=Object.assign(Object.assign({},r),{id:Ds(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ds(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function dk(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Yl(e,["challenge","allowCredentials"]),s=Ds(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Ds(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function fk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vn(new Uint8Array(s.authenticatorData)),clientDataJSON:Vn(new Uint8Array(s.clientDataJSON)),signature:Vn(new Uint8Array(s.signature)),userHandle:s.userHandle?Vn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vm(){var e,t;return!!(rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wl("Browser returned unexpected credential type",t)}:{data:null,error:new wl("Empty credential response",t)}}catch(t){return{data:null,error:ak({error:t,options:e})}}}async function mk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wl("Browser returned unexpected credential type",t)}:{data:null,error:new wl("Empty credential response",t)}}catch(t){return{data:null,error:ok({error:t,options:e})}}}const gk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _l(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=_l(o,a):n[i]=_l(a)}else n[i]=a}return n}function yk(e,t){return _l(gk,e,t||{})}function wk(e,t){return _l(vk,e,t||{})}class _k{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const l=s??uk.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=yk(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await pk({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=wk(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await mk(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new Mn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ka("rpId is required for WebAuthn authentication")};try{if(!vm())return{data:null,error:new Mn("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new Mn("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ka("rpId is required for WebAuthn registration")};try{if(!vm())return{data:null,error:new Mn("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new Mn("Unexpected error in register",a)}}}}rk();const bk={url:gE,storageKey:vE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ym(e,t,r){return await r()}const ds={};class Ta{get jwks(){var t,r;return(r=(t=ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},bk),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ta.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ta.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&rt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ZE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vy(i.fetch),this.lock=i.lock||ym,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&rt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tk:this.lock=ym,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _k(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:By()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gm(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${My}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(rt()&&(r=AE(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),rt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),EE(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?this._returnResult({error:r}):this._returnResult({error:new Mn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tr}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let f=null,_=null;this.flowType==="pkce"&&([f,_]=await ls(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:_},xform:tr})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tr})}else throw new vo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:pm})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:pm})}else throw new vo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new os;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,u,c,d,h;let f,_;if("message"in t)f=t.message,_=t.signature;else{const{chain:w,wallet:y,statement:g,options:p}=t;let v;if(rt())if(typeof y=="object")v=y;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")v=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=y}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Hy(E[0]);let j=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const I=await v.request({method:"eth_chainId"});j=nk(I)}const P={domain:x.host,address:k,statement:g,uri:x.href,version:"1",chainId:j,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=ik(P),_=await v.request({method:"personal_sign",params:[sk(f),k]})}try{const{data:w,error:y}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:_},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:tr});if(y)throw y;if(!w||!w.session||!w.user){const g=new os;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(K(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,o,l,u,c,d,h,f;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:y,wallet:g,statement:p,options:v}=t;let x;if(rt())if(typeof g=="object")x=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const E=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)_=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(_),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:y,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Vn(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tr});if(g)throw g;if(!y||!y.session||!y.user){const p=new os;return this._returnResult({data:{user:null,session:null},error:p})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:g})}catch(y){if(K(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await In(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new kE;const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tr});if(await tt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new os;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tr}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new os;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ls(this.storage,this.storageKey));const{error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new vo("You must provide either an email or phone number.")}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ls(this.storage,this.storageKey));const u=await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:QE});return!((i=u.data)===null||i===void 0)&&i.url&&rt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ct;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(K(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new vo("You must provide either an email or phone number and a type")}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await In(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ju:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await In(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Xu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=qE(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:nn}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:nn})})}catch(r){if(K(r))return SE(r)&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ct;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await ls(this.storage,this.storageKey));const{data:u,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:nn});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Yu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(K(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ct;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!rt())throw new yo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new om("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new om("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new yo("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const _=h-d;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,h,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,h,c);const{data:w,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(K(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await In(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(xE(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=NE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ls(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return rt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(K(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=t,d=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tr}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new os}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(s){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await LE(async s=>(s>0&&await $E(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Qu(i)&&Date.now()+a-n<ms})}catch(n){if(this._debug(r,"error",n),K(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await In(this.storage,this.storageKey);if(s&&this.userStorage){let a=await In(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await gs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Xu()}else if(s&&!s.user&&!s.user){const a=await In(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await tt(this.storage,this.storageKey+"-user"),await gs(this.storage,this.storageKey,s)):s.user=Xu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ju;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ju}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Qu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),K(i)){const a={data:null,error:i};return Qu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gs(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=fm(s);await gs(this.storage,this.storageKey,i)}else{const s=fm(r);await gs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tt(this.storage,this.storageKey),await tt(this.storage,this.storageKey+"-code-verifier"),await tt(this.storage,this.storageKey+"-user"),this.userStorage&&await tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ms}ms, refresh threshold is ${Ed} ticks`),s<=Ed&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Wy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ls(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fk(t.webauthn.credential_response):hk(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ck(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:dk(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Yu(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await G(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ct});const a=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ct});const a=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await G(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(t){if(K(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await G(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+_E>s)return n;const{data:i,error:a}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:_}=await this.getSession();if(_||!f.session)return this._returnResult({data:null,error:_});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Yu(n);r!=null&&r.allowExpired||VE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const c=WE(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,PE(`${o}.${l}`)))throw new Cd("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}}Ta.nextInstanceID={};const xk=Ta,Sk="2.89.0";let Ei="";typeof Deno<"u"?Ei="deno":typeof document<"u"?Ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ei="react-native":Ei="node";const Ek={"X-Client-Info":`supabase-js-${Ei}/${Sk}`},kk={headers:Ek},Tk={schema:"public"},Ck={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rk={};function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function jk(e,t){if(Ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pk(e){var t=jk(e,"string");return Ca(t)=="symbol"?t:t+""}function Ok(e,t,r){return(t=Pk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wm(Object(r),!0).forEach(function(n){Ok(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Nk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ak=()=>Headers,Ik=(e,t,r)=>{const n=Nk(r),s=Ak();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Ne(Ne({},a),{},{headers:u}))}};function $k(e){return e.endsWith("/")?e:e+"/"}function Lk(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Ne(Ne({},l),s),auth:Ne(Ne({},u),i),realtime:Ne(Ne({},c),a),storage:{},global:Ne(Ne(Ne({},d),o),{},{headers:Ne(Ne({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Dk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($k(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Fk=class extends xk{constructor(e){super(e)}},Mk=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Dk(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:Tk,realtime:Rk,auth:Ne(Ne({},Ck),{},{storageKey:a}),global:kk},l=Lk(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Ik(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new yS(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new mE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new hS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fk({url:this.authUrl.href,headers:Ne(Ne({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $S(this.realtimeUrl.href,Ne(Ne({},e),{},{params:Ne(Ne({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Uk=(e,t,r)=>new Mk(e,t,r);function zk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bk="https://fpcmcznapldjrmlmadrd.supabase.co",Vk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZwY21jem5hcGxkanJtbG1hZHJkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc0MTQ4MTksImV4cCI6MjA4Mjk5MDgxOX0.OAdH8zSg0mJcY0WhS_x1QtbXJhKROPRYpLkBpTh7-2k",ce=Uk(Bk,Vk),Fi=Ze("auth/register",async({name:e,email:t,password:r},{rejectWithValue:n})=>{try{const{data:s,error:i}=await ce.auth.signUp({email:t,password:r,options:{data:{name:e}}});if(i)throw i;return{user:s.user,session:s.session}}catch(s){return n(s.message)}}),Mi=Ze("auth/login",async({email:e,password:t},{rejectWithValue:r})=>{try{const{data:n,error:s}=await ce.auth.signInWithPassword({email:e,password:t});if(s)throw s;const{data:i}=await ce.from("profiles").select("*").eq("id",n.user.id).single();return{user:n.user,session:n.session,profile:i}}catch(n){return r(n.message)}}),Ui=Ze("auth/logout",async(e,{rejectWithValue:t})=>{try{const{error:r}=await ce.auth.signOut();if(r)throw r;return null}catch(r){return t(r.message)}}),Do=Ze("auth/getSession",async(e,{rejectWithValue:t})=>{try{const{data:{session:r},error:n}=await ce.auth.getSession();if(n)throw n;if(r){const{data:s}=await ce.from("profiles").select("*").eq("id",r.user.id).single();return{user:r.user,session:r,profile:s}}return{user:null,session:null,profile:null}}catch(r){return t(r.message)}}),ec=Ze("auth/fetchAllUsers",async(e,{rejectWithValue:t})=>{try{const{data:r,error:n}=await ce.from("profiles").select("*").order("name");if(n)throw n;return r}catch(r){return t(r.message)}}),Wk={user:null,session:null,profile:null,allUsers:[],loading:!1,error:null,initialized:!1},Ky=Wf({name:"auth",initialState:Wk,reducers:{clearError:e=>{e.error=null},setSession:(e,t)=>{e.session=t.payload.session,e.user=t.payload.user}},extraReducers:e=>{e.addCase(Fi.pending,t=>{t.loading=!0,t.error=null}).addCase(Fi.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.session=r.payload.session}).addCase(Fi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Mi.pending,t=>{t.loading=!0,t.error=null}).addCase(Mi.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.session=r.payload.session,t.profile=r.payload.profile}).addCase(Mi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ui.pending,t=>{t.loading=!0}).addCase(Ui.fulfilled,t=>{t.loading=!1,t.user=null,t.session=null,t.profile=null}).addCase(Ui.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Do.pending,t=>{t.loading=!0}).addCase(Do.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.session=r.payload.session,t.profile=r.payload.profile,t.initialized=!0}).addCase(Do.rejected,(t,r)=>{t.loading=!1,t.error=r.payload,t.initialized=!0}).addCase(ec.pending,t=>{t.loading=!0}).addCase(ec.fulfilled,(t,r)=>{t.loading=!1,t.allUsers=r.payload}).addCase(ec.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{clearError:P2,setSession:Hk}=Ky.actions,qk=Ky.reducer;var Da=e=>e.type==="checkbox",Wn=e=>e instanceof Date,_t=e=>e==null;const Gy=e=>typeof e=="object";var Ve=e=>!_t(e)&&!Array.isArray(e)&&Gy(e)&&!Wn(e),Kk=e=>Ve(e)&&e.target?Da(e.target)?e.target.checked:e.target.value:e,Gk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Jk=(e,t)=>e.has(Gk(t)),Qk=e=>{const t=e.constructor&&e.constructor.prototype;return Ve(t)&&t.hasOwnProperty("isPrototypeOf")},Qf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qe(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Qf&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Ve(e)&&Qk(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Qe(e[s]));return n}var eu=e=>/^\w*$/.test(e),$e=e=>e===void 0,Yf=e=>Array.isArray(e)?e.filter(Boolean):[],Xf=e=>Yf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),H=(e,t,r)=>{if(!t||!Ve(e))return r;const n=(eu(t)?[t]:Xf(t)).reduce((s,i)=>_t(s)?s:s[i],e);return $e(n)||n===e?$e(e[t])?r:e[t]:n},wr=e=>typeof e=="boolean",lr=e=>typeof e=="function",Se=(e,t,r)=>{let n=-1;const s=eu(t)?[t]:Xf(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let l=r;if(n!==a){const u=e[o];l=Ve(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const _m={BLUR:"blur",FOCUS_OUT:"focusout"},ur={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Sr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yk=C.createContext(null);Yk.displayName="HookFormContext";var Xk=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==ur.all&&(t._proxyFormState[a]=!n||ur.all),e[a]}});return s};const Zk=typeof window<"u"?C.useLayoutEffect:C.useEffect;var Ot=e=>typeof e=="string",eT=(e,t,r,n,s)=>Ot(e)?(n&&t.watch.add(e),H(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),H(r,i))):(n&&(t.watchAll=!0),r),Rd=e=>_t(e)||!Gy(e);function sn(e,t,r=new WeakSet){if(Rd(e)||Rd(t))return Object.is(e,t);if(Wn(e)&&Wn(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Wn(a)&&Wn(o)||Ve(a)&&Ve(o)||Array.isArray(a)&&Array.isArray(o)?!sn(a,o,r):!Object.is(a,o))return!1}}return!0}var tT=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},zi=e=>Array.isArray(e)?e:[e],bm=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function Jy(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Ve(s)&&i){const a=Jy(s,i);Ve(a)&&(r[n]=a)}else e[n]&&(r[n]=i)}return r}var ht=e=>Ve(e)&&!Object.keys(e).length,Zf=e=>e.type==="file",bl=e=>{if(!Qf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qy=e=>e.type==="select-multiple",eh=e=>e.type==="radio",rT=e=>eh(e)||Da(e),tc=e=>bl(e)&&e.isConnected;function nT(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=$e(e)?n++:e[t[n++]];return e}function sT(e){for(const t in e)if(e.hasOwnProperty(t)&&!$e(e[t]))return!1;return!0}function Ue(e,t){const r=Array.isArray(t)?t:eu(t)?[t]:Xf(t),n=r.length===1?e:nT(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ve(n)&&ht(n)||Array.isArray(n)&&sT(n))&&Ue(e,r.slice(0,-1)),e}var iT=e=>{for(const t in e)if(lr(e[t]))return!0;return!1};function Yy(e){return Array.isArray(e)||Ve(e)&&!iT(e)}function jd(e,t={}){for(const r in e){const n=e[r];Yy(n)?(t[r]=Array.isArray(n)?[]:{},jd(n,t[r])):$e(n)||(t[r]=!0)}return t}function vs(e,t,r){r||(r=jd(t));for(const n in e){const s=e[n];if(Yy(s))$e(t)||Rd(r[n])?r[n]=jd(s,Array.isArray(s)?[]:{}):vs(s,_t(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!sn(s,i)}}return r}const xm={value:!1,isValid:!1},Sm={value:!0,isValid:!0};var Xy=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$e(e[0].attributes.value)?$e(e[0].value)||e[0].value===""?Sm:{value:e[0].value,isValid:!0}:Sm:xm}return xm},Zy=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>$e(e)?e:t?e===""?NaN:e&&+e:r&&Ot(e)?new Date(e):n?n(e):e;const Em={isValid:!1,value:null};var e0=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Em):Em;function km(e){const t=e.ref;return Zf(t)?t.files:eh(t)?e0(e.refs).value:Qy(t)?[...t.selectedOptions].map(({value:r})=>r):Da(t)?Xy(e.refs).value:Zy($e(t.value)?e.ref.value:t.value,e)}var aT=(e,t,r,n)=>{const s={};for(const i of e){const a=H(t,i);a&&Se(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},xl=e=>e instanceof RegExp,gi=e=>$e(e)?e:xl(e)?e.source:Ve(e)?xl(e.value)?e.value.source:e.value:e,Tm=e=>({isOnSubmit:!e||e===ur.onSubmit,isOnBlur:e===ur.onBlur,isOnChange:e===ur.onChange,isOnAll:e===ur.all,isOnTouch:e===ur.onTouched});const Cm="AsyncFunction";var oT=e=>!!e&&!!e.validate&&!!(lr(e.validate)&&e.validate.constructor.name===Cm||Ve(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Cm)),lT=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Rm=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Bi=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=H(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Bi(o,t))break}else if(Ve(o)&&Bi(o,t))break}}};function jm(e,t,r){const n=H(e,r);if(n||eu(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=H(t,i),o=H(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var uT=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ht(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||ur.all))},cT=(e,t,r)=>!e||!t||e===t||zi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),dT=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,fT=(e,t)=>!Yf(H(e,t)).length&&Ue(e,t),hT=(e,t,r)=>{const n=zi(H(e,r));return Se(n,"root",t[r]),Se(e,r,n),e};function Pm(e,t,r="validate"){if(Ot(e)||Array.isArray(e)&&e.every(Ot)||wr(e)&&!e)return{type:r,message:Ot(e)?e:"",ref:t}}var fs=e=>Ve(e)&&!xl(e)?e:{value:e,message:""},Om=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:c,min:d,max:h,pattern:f,validate:_,name:w,valueAsNumber:y,mount:g}=e._f,p=H(r,w);if(!g||t.has(w))return{};const v=o?o[0]:a,x=B=>{s&&v.reportValidity&&(v.setCustomValidity(wr(B)?"":B||""),v.reportValidity())},E={},k=eh(a),j=Da(a),P=k||j,I=(y||Zf(a))&&$e(a.value)&&$e(p)||bl(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,F=tT.bind(null,w,n,E),de=(B,Q,ee,oe=Sr.maxLength,he=Sr.minLength)=>{const Z=B?Q:ee;E[w]={type:B?oe:he,message:Z,ref:a,...F(B?oe:he,Z)}};if(i?!Array.isArray(p)||!p.length:l&&(!P&&(I||_t(p))||wr(p)&&!p||j&&!Xy(o).isValid||k&&!e0(o).isValid)){const{value:B,message:Q}=Ot(l)?{value:!!l,message:l}:fs(l);if(B&&(E[w]={type:Sr.required,message:Q,ref:v,...F(Sr.required,Q)},!n))return x(Q),E}if(!I&&(!_t(d)||!_t(h))){let B,Q;const ee=fs(h),oe=fs(d);if(!_t(p)&&!isNaN(p)){const he=a.valueAsNumber||p&&+p;_t(ee.value)||(B=he>ee.value),_t(oe.value)||(Q=he<oe.value)}else{const he=a.valueAsDate||new Date(p),Z=U=>new Date(new Date().toDateString()+" "+U),$=a.type=="time",A=a.type=="week";Ot(ee.value)&&p&&(B=$?Z(p)>Z(ee.value):A?p>ee.value:he>new Date(ee.value)),Ot(oe.value)&&p&&(Q=$?Z(p)<Z(oe.value):A?p<oe.value:he<new Date(oe.value))}if((B||Q)&&(de(!!B,ee.message,oe.message,Sr.max,Sr.min),!n))return x(E[w].message),E}if((u||c)&&!I&&(Ot(p)||i&&Array.isArray(p))){const B=fs(u),Q=fs(c),ee=!_t(B.value)&&p.length>+B.value,oe=!_t(Q.value)&&p.length<+Q.value;if((ee||oe)&&(de(ee,B.message,Q.message),!n))return x(E[w].message),E}if(f&&!I&&Ot(p)){const{value:B,message:Q}=fs(f);if(xl(B)&&!p.match(B)&&(E[w]={type:Sr.pattern,message:Q,ref:a,...F(Sr.pattern,Q)},!n))return x(Q),E}if(_){if(lr(_)){const B=await _(p,r),Q=Pm(B,v);if(Q&&(E[w]={...Q,...F(Sr.validate,Q.message)},!n))return x(Q.message),E}else if(Ve(_)){let B={};for(const Q in _){if(!ht(B)&&!n)break;const ee=Pm(await _[Q](p,r),v,Q);ee&&(B={...ee,...F(Q,ee.message)},x(ee.message),n&&(E[w]=B))}if(!ht(B)&&(E[w]={ref:v,...B},!n))return E}}return x(!0),E};const pT={mode:ur.onSubmit,reValidateMode:ur.onChange,shouldFocusError:!0};function mT(e={}){let t={...pT,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:lr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ve(t.defaultValues)||Ve(t.values)?Qe(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Qe(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...c};let h={...d};const f={array:bm(),state:bm()},_=t.criteriaMode===ur.all,w=S=>T=>{clearTimeout(u),u=setTimeout(S,T)},y=async S=>{if(!a.keepIsValid&&!t.disabled&&(d.isValid||h.isValid||S)){let T;t.resolver?(T=ht((await P()).errors),g()):T=await F(n,!0),T!==r.isValid&&f.state.next({isValid:T})}},g=(S,T)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((S||Array.from(o.mount)).forEach(R=>{R&&(T?Se(r.validatingFields,R,T):Ue(r.validatingFields,R))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ht(r.validatingFields)}))},p=(S,T=[],R,M,L=!0,O=!0)=>{if(M&&R&&!t.disabled){if(a.action=!0,O&&Array.isArray(H(n,S))){const W=R(H(n,S),M.argA,M.argB);L&&Se(n,S,W)}if(O&&Array.isArray(H(r.errors,S))){const W=R(H(r.errors,S),M.argA,M.argB);L&&Se(r.errors,S,W),fT(r.errors,S)}if((d.touchedFields||h.touchedFields)&&O&&Array.isArray(H(r.touchedFields,S))){const W=R(H(r.touchedFields,S),M.argA,M.argB);L&&Se(r.touchedFields,S,W)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=vs(s,i)),f.state.next({name:S,isDirty:B(S,T),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Se(i,S,T)},v=(S,T)=>{Se(r.errors,S,T),f.state.next({errors:r.errors})},x=S=>{r.errors=S,f.state.next({errors:r.errors,isValid:!1})},E=(S,T,R,M)=>{const L=H(n,S);if(L){const O=H(i,S,$e(R)?H(s,S):R);$e(O)||M&&M.defaultChecked||T?Se(i,S,T?O:km(L._f)):oe(S,O),a.mount&&!a.action&&y()}},k=(S,T,R,M,L)=>{let O=!1,W=!1;const fe={name:S};if(!t.disabled){if(!R||M){(d.isDirty||h.isDirty)&&(W=r.isDirty,r.isDirty=fe.isDirty=B(),O=W!==fe.isDirty);const me=sn(H(s,S),T);W=!!H(r.dirtyFields,S),me?Ue(r.dirtyFields,S):Se(r.dirtyFields,S,!0),fe.dirtyFields=r.dirtyFields,O=O||(d.dirtyFields||h.dirtyFields)&&W!==!me}if(R){const me=H(r.touchedFields,S);me||(Se(r.touchedFields,S,R),fe.touchedFields=r.touchedFields,O=O||(d.touchedFields||h.touchedFields)&&me!==R)}O&&L&&f.state.next(fe)}return O?fe:{}},j=(S,T,R,M)=>{const L=H(r.errors,S),O=(d.isValid||h.isValid)&&wr(T)&&r.isValid!==T;if(t.delayError&&R?(l=w(()=>v(S,R)),l(t.delayError)):(clearTimeout(u),l=null,R?Se(r.errors,S,R):Ue(r.errors,S)),(R?!sn(L,R):L)||!ht(M)||O){const W={...M,...O&&wr(T)?{isValid:T}:{},errors:r.errors,name:S};r={...r,...W},f.state.next(W)}},P=async S=>(g(S,!0),await t.resolver(i,t.context,aT(S||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),I=async S=>{const{errors:T}=await P(S);if(g(S),S)for(const R of S){const M=H(T,R);M?Se(r.errors,R,M):Ue(r.errors,R)}else r.errors=T;return T},F=async(S,T,R={valid:!0})=>{for(const M in S){const L=S[M];if(L){const{_f:O,...W}=L;if(O){const fe=o.array.has(O.name),me=L._f&&oT(L._f);me&&d.validatingFields&&g([O.name],!0);const et=await Om(L,o.disabled,i,_,t.shouldUseNativeValidation&&!T,fe);if(me&&d.validatingFields&&g([O.name]),et[O.name]&&(R.valid=!1,T))break;!T&&(H(et,O.name)?fe?hT(r.errors,et,O.name):Se(r.errors,O.name,et[O.name]):Ue(r.errors,O.name))}!ht(W)&&await F(W,T,R)}}return R.valid},de=()=>{for(const S of o.unMount){const T=H(n,S);T&&(T._f.refs?T._f.refs.every(R=>!tc(R)):!tc(T._f.ref))&&Ut(S)}o.unMount=new Set},B=(S,T)=>!t.disabled&&(S&&T&&Se(i,S,T),!sn(ne(),s)),Q=(S,T,R)=>eT(S,o,{...a.mount?i:$e(T)?s:Ot(S)?{[S]:T}:T},R,T),ee=S=>Yf(H(a.mount?i:s,S,t.shouldUnregister?H(s,S,[]):[])),oe=(S,T,R={})=>{const M=H(n,S);let L=T;if(M){const O=M._f;O&&(!O.disabled&&Se(i,S,Zy(T,O)),L=bl(O.ref)&&_t(T)?"":T,Qy(O.ref)?[...O.ref.options].forEach(W=>W.selected=L.includes(W.value)):O.refs?Da(O.ref)?O.refs.forEach(W=>{(!W.defaultChecked||!W.disabled)&&(Array.isArray(L)?W.checked=!!L.find(fe=>fe===W.value):W.checked=L===W.value||!!L)}):O.refs.forEach(W=>W.checked=W.value===L):Zf(O.ref)?O.ref.value="":(O.ref.value=L,O.ref.type||f.state.next({name:S,values:Qe(i)})))}(R.shouldDirty||R.shouldTouch)&&k(S,L,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&U(S)},he=(S,T,R)=>{for(const M in T){if(!T.hasOwnProperty(M))return;const L=T[M],O=S+"."+M,W=H(n,O);(o.array.has(S)||Ve(L)||W&&!W._f)&&!Wn(L)?he(O,L,R):oe(O,L,R)}},Z=(S,T,R={})=>{const M=H(n,S),L=o.array.has(S),O=Qe(T);Se(i,S,O),L?(f.array.next({name:S,values:Qe(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&R.shouldDirty&&f.state.next({name:S,dirtyFields:vs(s,i),isDirty:B(S,O)})):M&&!M._f&&!_t(O)?he(S,O,R):oe(S,O,R),Rm(S,o)&&f.state.next({...r,name:S}),f.state.next({name:a.mount?S:void 0,values:Qe(i)})},$=async S=>{a.mount=!0;const T=S.target;let R=T.name,M=!0;const L=H(n,R),O=me=>{M=Number.isNaN(me)||Wn(me)&&isNaN(me.getTime())||sn(me,H(i,R,me))},W=Tm(t.mode),fe=Tm(t.reValidateMode);if(L){let me,et;const ns=T.type?km(L._f):Kk(S),Jt=S.type===_m.BLUR||S.type===_m.FOCUS_OUT,ai=!lT(L._f)&&!t.resolver&&!H(r.errors,R)&&!L._f.deps||dT(Jt,H(r.touchedFields,R),r.isSubmitted,fe,W),gr=Rm(R,o,Jt);Se(i,R,ns),Jt?(!T||!T.readOnly)&&(L._f.onBlur&&L._f.onBlur(S),l&&l(0)):L._f.onChange&&L._f.onChange(S);const ss=k(R,ns,Jt),Hr=!ht(ss)||gr;if(!Jt&&f.state.next({name:R,type:S.type,values:Qe(i)}),ai)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Jt&&y():Jt||y()),Hr&&f.state.next({name:R,...gr?{}:ss});if(!Jt&&gr&&f.state.next({...r}),t.resolver){const{errors:qa}=await P([R]);if(g([R]),O(ns),M){const uu=jm(r.errors,n,R),oi=jm(qa,n,uu.name||R);me=oi.error,R=oi.name,et=ht(qa)}}else g([R],!0),me=(await Om(L,o.disabled,i,_,t.shouldUseNativeValidation))[R],g([R]),O(ns),M&&(me?et=!1:(d.isValid||h.isValid)&&(et=await F(n,!0)));M&&(L._f.deps&&(!Array.isArray(L._f.deps)||L._f.deps.length>0)&&U(L._f.deps),j(R,et,me,ss))}},A=(S,T)=>{if(H(r.errors,T)&&S.focus)return S.focus(),1},U=async(S,T={})=>{let R,M;const L=zi(S);if(t.resolver){const O=await I($e(S)?S:L);R=ht(O),M=S?!L.some(W=>H(O,W)):R}else S?(M=(await Promise.all(L.map(async O=>{const W=H(n,O);return await F(W&&W._f?{[O]:W}:W)}))).every(Boolean),!(!M&&!r.isValid)&&y()):M=R=await F(n);return f.state.next({...!Ot(S)||(d.isValid||h.isValid)&&R!==r.isValid?{}:{name:S},...t.resolver||!S?{isValid:R}:{},errors:r.errors}),T.shouldFocus&&!M&&Bi(n,A,S?L:o.mount),M},ne=(S,T)=>{let R={...a.mount?i:s};return T&&(R=Jy(T.dirtyFields?r.dirtyFields:r.touchedFields,R)),$e(S)?R:Ot(S)?H(R,S):S.map(M=>H(R,M))},V=(S,T)=>({invalid:!!H((T||r).errors,S),isDirty:!!H((T||r).dirtyFields,S),error:H((T||r).errors,S),isValidating:!!H(r.validatingFields,S),isTouched:!!H((T||r).touchedFields,S)}),te=S=>{S&&zi(S).forEach(T=>Ue(r.errors,T)),f.state.next({errors:S?r.errors:{}})},D=(S,T,R)=>{const M=(H(n,S,{_f:{}})._f||{}).ref,L=H(r.errors,S)||{},{ref:O,message:W,type:fe,...me}=L;Se(r.errors,S,{...me,...T,ref:M}),f.state.next({name:S,errors:r.errors,isValid:!1}),R&&R.shouldFocus&&M&&M.focus&&M.focus()},Y=(S,T)=>lr(S)?f.state.subscribe({next:R=>"values"in R&&S(Q(void 0,T),R)}):Q(S,T,!0),ie=S=>f.state.subscribe({next:T=>{cT(S.name,T.name,S.exact)&&uT(T,S.formState||d,si,S.reRenderRoot)&&S.callback({values:{...i},...r,...T,defaultValues:s})}}).unsubscribe,se=S=>(a.mount=!0,h={...h,...S.formState},ie({...S,formState:{...c,...S.formState}})),Ut=(S,T={})=>{for(const R of S?zi(S):o.mount)o.mount.delete(R),o.array.delete(R),T.keepValue||(Ue(n,R),Ue(i,R)),!T.keepError&&Ue(r.errors,R),!T.keepDirty&&Ue(r.dirtyFields,R),!T.keepTouched&&Ue(r.touchedFields,R),!T.keepIsValidating&&Ue(r.validatingFields,R),!t.shouldUnregister&&!T.keepDefaultValue&&Ue(s,R);f.state.next({values:Qe(i)}),f.state.next({...r,...T.keepDirty?{isDirty:B()}:{}}),!T.keepIsValid&&y()},Gt=({disabled:S,name:T})=>{(wr(S)&&a.mount||S||o.disabled.has(T))&&(S?o.disabled.add(T):o.disabled.delete(T))},mr=(S,T={})=>{let R=H(n,S);const M=wr(T.disabled)||wr(t.disabled);return Se(n,S,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:S}},name:S,mount:!0,...T}}),o.mount.add(S),R?Gt({disabled:wr(T.disabled)?T.disabled:t.disabled,name:S}):E(S,!0,T.value),{...M?{disabled:T.disabled||t.disabled}:{},...t.progressive?{required:!!T.required,min:gi(T.min),max:gi(T.max),minLength:gi(T.minLength),maxLength:gi(T.maxLength),pattern:gi(T.pattern)}:{},name:S,onChange:$,onBlur:$,ref:L=>{if(L){mr(S,T),R=H(n,S);const O=$e(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,W=rT(O),fe=R._f.refs||[];if(W?fe.find(me=>me===O):O===R._f.ref)return;Se(n,S,{_f:{...R._f,...W?{refs:[...fe.filter(tc),O,...Array.isArray(H(s,S))?[{}]:[]],ref:{type:O.type,name:S}}:{ref:O}}}),E(S,!1,void 0,O)}else R=H(n,S,{}),R._f&&(R._f.mount=!1),(t.shouldUnregister||T.shouldUnregister)&&!(Jk(o.array,S)&&a.action)&&o.unMount.add(S)}}},ue=()=>t.shouldFocusError&&Bi(n,A,o.mount),ft=S=>{wr(S)&&(f.state.next({disabled:S}),Bi(n,(T,R)=>{const M=H(n,R);M&&(T.disabled=M._f.disabled||S,Array.isArray(M._f.refs)&&M._f.refs.forEach(L=>{L.disabled=M._f.disabled||S}))},0,!1))},Je=(S,T)=>async R=>{let M;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let L=Qe(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:O,values:W}=await P();g(),r.errors=O,L=Qe(W)}else await F(n);if(o.disabled.size)for(const O of o.disabled)Ue(L,O);if(Ue(r.errors,"root"),ht(r.errors)){f.state.next({errors:{}});try{await S(L,R)}catch(O){M=O}}else T&&await T({...r.errors},R),ue(),setTimeout(ue);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ht(r.errors)&&!M,submitCount:r.submitCount+1,errors:r.errors}),M)throw M},Wr=(S,T={})=>{H(n,S)&&($e(T.defaultValue)?Z(S,Qe(H(s,S))):(Z(S,T.defaultValue),Se(s,S,Qe(T.defaultValue))),T.keepTouched||Ue(r.touchedFields,S),T.keepDirty||(Ue(r.dirtyFields,S),r.isDirty=T.defaultValue?B(S,Qe(H(s,S))):B()),T.keepError||(Ue(r.errors,S),d.isValid&&y()),f.state.next({...r}))},Ha=(S,T={})=>{const R=S?Qe(S):s,M=Qe(R),L=ht(S),O=L?s:M;if(T.keepDefaultValues||(s=R),!T.keepValues){if(T.keepDirtyValues){const W=new Set([...o.mount,...Object.keys(vs(s,i))]);for(const fe of Array.from(W))H(r.dirtyFields,fe)?Se(O,fe,H(i,fe)):Z(fe,H(O,fe))}else{if(Qf&&$e(S))for(const W of o.mount){const fe=H(n,W);if(fe&&fe._f){const me=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(bl(me)){const et=me.closest("form");if(et){et.reset();break}}}}if(T.keepFieldsRef)for(const W of o.mount)Z(W,H(O,W));else n={}}i=t.shouldUnregister?T.keepDefaultValues?Qe(s):{}:Qe(O),f.array.next({values:{...O}}),f.state.next({values:{...O}})}o={mount:T.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!T.keepIsValid||!!T.keepDirtyValues||!t.shouldUnregister&&!ht(O),a.watch=!!t.shouldUnregister,a.keepIsValid=!!T.keepIsValid,a.action=!1,T.keepErrors||(r.errors={}),f.state.next({submitCount:T.keepSubmitCount?r.submitCount:0,isDirty:L?!1:T.keepDirty?r.isDirty:!!(T.keepDefaultValues&&!sn(S,s)),isSubmitted:T.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:L?{}:T.keepDirtyValues?T.keepDefaultValues&&i?vs(s,i):r.dirtyFields:T.keepDefaultValues&&S?vs(s,S):T.keepDirty?r.dirtyFields:{},touchedFields:T.keepTouched?r.touchedFields:{},errors:T.keepErrors?r.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ni=(S,T)=>Ha(lr(S)?S(i):S,{...t.resetOptions,...T}),lu=(S,T={})=>{const R=H(n,S),M=R&&R._f;if(M){const L=M.refs?M.refs[0]:M.ref;L.focus&&setTimeout(()=>{L.focus(),T.shouldSelect&&lr(L.select)&&L.select()})}},si=S=>{r={...r,...S}},ii={control:{register:mr,unregister:Ut,getFieldState:V,handleSubmit:Je,setError:D,_subscribe:ie,_runSchema:P,_updateIsValidating:g,_focusError:ue,_getWatch:Q,_getDirty:B,_setValid:y,_setFieldArray:p,_setDisabledField:Gt,_setErrors:x,_getFieldArray:ee,_reset:Ha,_resetDefaultValues:()=>lr(t.defaultValues)&&t.defaultValues().then(S=>{ni(S,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:de,_disableForm:ft,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(S){a=S},get _defaultValues(){return s},get _names(){return o},set _names(S){o=S},get _formState(){return r},get _options(){return t},set _options(S){t={...t,...S}}},subscribe:se,trigger:U,register:mr,handleSubmit:Je,watch:Y,setValue:Z,getValues:ne,reset:ni,resetField:Wr,clearErrors:te,unregister:Ut,setError:D,setFocus:lu,getFieldState:V};return{...ii,formControl:ii}}function Fa(e={}){const t=C.useRef(void 0),r=C.useRef(void 0),[n,s]=C.useState({isDirty:!1,isValidating:!1,isLoading:lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:lr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!lr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=mT(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,Zk(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),C.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),C.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),C.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),C.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),C.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),C.useEffect(()=>{var a;e.values&&!sn(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),C.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Xk(n,i),t.current}const gT=()=>{const e=Ft(),t=Br(),{loading:r}=Ge(o=>o.auth),{register:n,handleSubmit:s,formState:{errors:i}}=Fa(),a=async o=>{const l=await e(Mi(o));Mi.fulfilled.match(l)?(we.success("Welcome back!"),t("/dashboard")):we.error(l.payload||"Login failed")};return m.jsx("div",{className:"auth-bg flex items-center justify-center min-h-screen p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),m.jsx("p",{className:"text-gray-500 mb-6",children:"Sign in to manage your tasks"}),m.jsxs("form",{onSubmit:s(a),className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),m.jsx("input",{type:"email",...n("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent transition",placeholder:""}),i.email&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.email.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),m.jsx("input",{type:"password",...n("password",{required:"Password is required"}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent transition",placeholder:""}),i.password&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.password.message})]}),m.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gray-900 text-white py-3 rounded-lg font-semibold hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Signing in...":"Sign In"})]}),m.jsxs("p",{className:"text-center mt-6 text-gray-600",children:["Need an account?"," ",m.jsx(py,{to:"/register",className:"text-blue-600 font-semibold hover:underline",children:"Register"})]})]})})},vT=()=>{const e=Ft(),t=Br(),{loading:r}=Ge(o=>o.auth),{register:n,handleSubmit:s,formState:{errors:i}}=Fa(),a=async o=>{const l=await e(Fi(o));Fi.fulfilled.match(l)?(we.success("Account created successfully! Please sign in."),t("/login")):we.error(l.payload||"Registration failed")};return m.jsx("div",{className:"auth-bg flex items-center justify-center min-h-screen p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),m.jsx("p",{className:"text-gray-500 mb-6",children:"Register to get started"}),m.jsxs("form",{onSubmit:s(a),className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),m.jsx("input",{type:"text",...n("name",{required:"Name is required"}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent transition",placeholder:""}),i.name&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.name.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),m.jsx("input",{type:"email",...n("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent transition",placeholder:""}),i.email&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.email.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),m.jsx("input",{type:"password",...n("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent transition",placeholder:""}),i.password&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.password.message})]}),m.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gray-900 text-white py-3 rounded-lg font-semibold hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating...":"Register"})]}),m.jsxs("p",{className:"text-center mt-6 text-gray-600",children:["Have an account?"," ",m.jsx(py,{to:"/login",className:"text-blue-600 font-semibold hover:underline",children:"Sign in"})]})]})})};var t0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nm=C.createContext&&C.createContext(t0),bn=function(){return bn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},bn.apply(this,arguments)},yT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function r0(e){return e&&e.map(function(t,r){return C.createElement(t.tag,bn({key:r},t.attr),r0(t.child))})}function dt(e){return function(t){return C.createElement(wT,bn({attr:bn({},e.attr)},t),r0(e.child))}}function wT(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,a=yT(e,["attr","size","title"]),o=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),C.createElement("svg",bn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:bn(bn({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&C.createElement("title",null,i),e.children)};return Nm!==void 0?C.createElement(Nm.Consumer,null,function(r){return t(r)}):t(t0)}function _T(e){return dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"}},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"}}]})(e)}const Fs=Ze("teams/fetchTeams",async(e,{rejectWithValue:t})=>{try{const{data:r,error:n}=await ce.rpc("get_my_teams");if(n)throw n;return await Promise.all(r.map(async i=>{const{data:a,error:o}=await ce.rpc("get_team_members",{p_team_id:i.id});if(o)return console.error("Error fetching members:",o),{...i,team_members:[]};const l=a.map(u=>({id:u.membership_id,role:u.role,user_id:u.user_id,profiles:{id:u.user_id,name:u.user_name,email:u.user_email}}));return{...i,team_members:l}}))}catch(r){return t(r.message)}}),Vi=Ze("teams/createTeam",async({name:e,subscriptionType:t="free",subscriptionPrice:r=0},{rejectWithValue:n})=>{try{const{data:s,error:i}=await ce.rpc("create_team_and_join",{p_team_name:e});if(i)throw i;if(t==="paid"&&r>0){const{error:d}=await ce.from("teams").update({subscription_type:t,subscription_price:r}).eq("id",s);if(d)throw d}const{data:a,error:o}=await ce.rpc("get_team_members",{p_team_id:s});if(o)throw o;const{data:l,error:u}=await ce.from("teams").select("*").eq("id",s).single();if(u)throw u;const c=a.map(d=>({id:d.membership_id,role:d.role,user_id:d.user_id,profiles:{id:d.user_id,name:d.user_name,email:d.user_email}}));return{...l,team_members:c}}catch(s){return n(s.message)}}),Wi=Ze("teams/joinTeam",async({teamId:e},{rejectWithValue:t})=>{try{const{error:r}=await ce.rpc("join_existing_team",{p_team_id:e});if(r)throw r;const{data:n,error:s}=await ce.from("teams").select("*").eq("id",e).single();if(s)throw s;const{data:i,error:a}=await ce.rpc("get_team_members",{p_team_id:e});if(a)throw a;const o=i.map(l=>({id:l.membership_id,role:l.role,user_id:l.user_id,profiles:{id:l.user_id,name:l.user_name,email:l.user_email}}));return{...n,team_members:o}}catch(r){return t(r.message)}}),Hi=Ze("teams/addTeamMember",async({teamId:e,userId:t},{rejectWithValue:r})=>{try{const{error:n}=await ce.rpc("add_member_to_team",{p_team_id:e,p_user_id:t});if(n)throw n;const{data:s,error:i}=await ce.rpc("get_team_members",{p_team_id:e});if(i)throw i;const a=s.map(o=>({id:o.membership_id,role:o.role,user_id:o.user_id,profiles:{id:o.user_id,name:o.user_name,email:o.user_email}}));return{teamId:e,members:a}}catch(n){return r(n.message)}}),qi=Ze("teams/removeTeamMember",async({teamId:e,userId:t},{rejectWithValue:r})=>{try{const{error:n}=await ce.rpc("remove_member_from_team",{p_team_id:e,p_user_id:t});if(n)throw n;return{teamId:e,userId:t}}catch(n){return r(n.message)}}),Ms=Ze("teams/fetchUsersNotInTeam",async({teamId:e},{rejectWithValue:t})=>{try{const{data:r,error:n}=await ce.rpc("get_available_users",{p_team_id:e});if(n)throw n;return r}catch(r){return t(r.message)}}),Ki=Ze("teams/getTeamInfo",async({teamId:e},{rejectWithValue:t})=>{try{const{data:r,error:n}=await ce.rpc("get_team_info",{p_team_id:e});if(n)throw n;if(!r||r.length===0)throw new Error("Team not found");return r[0]}catch(r){return t(r.message)}}),Us=Ze("teams/createCheckoutSession",async({teamId:e,teamName:t,price:r,userEmail:n},{rejectWithValue:s})=>{try{const{data:{user:i}}=await ce.auth.getUser();if(!i)throw new Error("Not authenticated");localStorage.setItem("pendingTeamJoin",JSON.stringify({teamId:e,teamName:t,price:r,userId:i.id,userEmail:n||i.email,timestamp:Date.now()}));const{data:a,error:o}=await ce.functions.invoke("create-checkout",{body:{teamId:e,teamName:t,price:r,userId:i.id,userEmail:n||i.email}});if(o)throw o;return a}catch(i){return s(i.message)}}),Gi=Ze("teams/fetchAllTeams",async(e,{rejectWithValue:t})=>{try{const{data:r,error:n}=await ce.rpc("get_all_teams");if(n)throw n;return r||[]}catch(r){return t(r.message)}}),bT={teams:[],allTeams:[],selectedTeam:null,availableUsers:[],teamInfo:null,loading:!1,checkoutLoading:!1,discoverLoading:!1,error:null},n0=Wf({name:"teams",initialState:bT,reducers:{setSelectedTeam:(e,t)=>{e.selectedTeam=t.payload},clearTeamsError:e=>{e.error=null},clearTeams:e=>{e.teams=[],e.selectedTeam=null},clearTeamInfo:e=>{e.teamInfo=null,e.error=null}},extraReducers:e=>{e.addCase(Fs.pending,t=>{t.loading=!0,t.error=null}).addCase(Fs.fulfilled,(t,r)=>{t.loading=!1,t.teams=r.payload}).addCase(Fs.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Vi.pending,t=>{t.loading=!0,t.error=null}).addCase(Vi.fulfilled,(t,r)=>{t.loading=!1,t.teams.unshift(r.payload),t.selectedTeam=r.payload}).addCase(Vi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Wi.pending,t=>{t.loading=!0,t.error=null}).addCase(Wi.fulfilled,(t,r)=>{t.loading=!1,t.teams.unshift(r.payload),t.selectedTeam=r.payload}).addCase(Wi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Hi.pending,t=>{t.loading=!0,t.error=null}).addCase(Hi.fulfilled,(t,r)=>{var a;t.loading=!1;const{teamId:n,members:s}=r.payload,i=t.teams.findIndex(o=>o.id===n);i!==-1&&(t.teams[i].team_members=s,((a=t.selectedTeam)==null?void 0:a.id)===n&&(t.selectedTeam.team_members=s))}).addCase(Hi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(qi.pending,t=>{t.loading=!0,t.error=null}).addCase(qi.fulfilled,(t,r)=>{var a;t.loading=!1;const{teamId:n,userId:s}=r.payload,i=t.teams.findIndex(o=>o.id===n);i!==-1&&(t.teams[i].team_members=t.teams[i].team_members.filter(o=>o.user_id!==s),((a=t.selectedTeam)==null?void 0:a.id)===n&&(t.selectedTeam.team_members=t.selectedTeam.team_members.filter(o=>o.user_id!==s)))}).addCase(qi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ms.pending,t=>{t.loading=!0}).addCase(Ms.fulfilled,(t,r)=>{t.loading=!1,t.availableUsers=r.payload}).addCase(Ms.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ki.pending,t=>{t.loading=!0,t.error=null,t.teamInfo=null}).addCase(Ki.fulfilled,(t,r)=>{t.loading=!1,t.teamInfo=r.payload}).addCase(Ki.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Us.pending,t=>{t.checkoutLoading=!0,t.error=null}).addCase(Us.fulfilled,t=>{t.checkoutLoading=!1}).addCase(Us.rejected,(t,r)=>{t.checkoutLoading=!1,t.error=r.payload}).addCase(Gi.pending,t=>{t.discoverLoading=!0,t.error=null}).addCase(Gi.fulfilled,(t,r)=>{t.discoverLoading=!1,t.allTeams=r.payload}).addCase(Gi.rejected,(t,r)=>{t.discoverLoading=!1,t.error=r.payload})}}),{setSelectedTeam:xT,clearTeamsError:O2,clearTeams:ST,clearTeamInfo:rc}=n0.actions,ET=n0.reducer,Fo=Ze("tasks/fetchTasks",async({teamId:e},{rejectWithValue:t})=>{try{const{data:r,error:n}=await ce.from("tasks").select("*").eq("team_id",e).order("created_at",{ascending:!1});if(n)throw n;return{teamId:e,tasks:r}}catch(r){return t(r.message)}}),Ji=Ze("tasks/createTask",async({teamId:e,title:t,description:r},{getState:n,rejectWithValue:s})=>{try{const{auth:i}=n(),{data:a,error:o}=await ce.from("tasks").insert({team_id:e,title:t,description:r,status:"pending",created_by:i.user.id}).select().single();if(o)throw o;return a}catch(i){return s(i.message)}}),Qi=Ze("tasks/updateTaskStatus",async({taskId:e,status:t},{rejectWithValue:r})=>{try{const{data:n,error:s}=await ce.from("tasks").update({status:t}).eq("id",e).select().single();if(s)throw s;return n}catch(n){return r(n.message)}}),Yi=Ze("tasks/deleteTask",async({taskId:e},{rejectWithValue:t})=>{try{const{error:r}=await ce.from("tasks").delete().eq("id",e);if(r)throw r;return e}catch(r){return t(r.message)}}),kT={tasks:{},loading:!1,error:null,statusFilter:"all"},s0=Wf({name:"tasks",initialState:kT,reducers:{setStatusFilter:(e,t)=>{e.statusFilter=t.payload},clearTasksError:e=>{e.error=null},clearTasks:e=>{e.tasks={}}},extraReducers:e=>{e.addCase(Fo.pending,t=>{t.loading=!0,t.error=null}).addCase(Fo.fulfilled,(t,r)=>{t.loading=!1,t.tasks[r.payload.teamId]=r.payload.tasks}).addCase(Fo.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ji.pending,t=>{t.loading=!0,t.error=null}).addCase(Ji.fulfilled,(t,r)=>{t.loading=!1;const n=r.payload.team_id;t.tasks[n]||(t.tasks[n]=[]),t.tasks[n].unshift(r.payload)}).addCase(Ji.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Qi.pending,t=>{t.loading=!0,t.error=null}).addCase(Qi.fulfilled,(t,r)=>{var i;t.loading=!1;const n=r.payload.team_id,s=(i=t.tasks[n])==null?void 0:i.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.tasks[n][s]=r.payload)}).addCase(Qi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Yi.pending,t=>{t.loading=!0,t.error=null}).addCase(Yi.fulfilled,(t,r)=>{t.loading=!1,Object.keys(t.tasks).forEach(n=>{t.tasks[n]=t.tasks[n].filter(s=>s.id!==r.payload)})}).addCase(Yi.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{setStatusFilter:TT,clearTasksError:N2,clearTasks:CT}=s0.actions,RT=s0.reducer;function th(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}}]})(e)}function jT(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}}]})(e)}function rh(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function Pd(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"}}]})(e)}function PT(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"}}]})(e)}function OT(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}}]})(e)}function i0(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}}]})(e)}function Am(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}}]})(e)}function NT(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}}]})(e)}function AT(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"}}]})(e)}function a0(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}}]})(e)}function Xi(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"}}]})(e)}function IT(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}}]})(e)}function o0(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}}]})(e)}function nh(e){return dt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function l0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=l0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function u0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=l0(e))&&(n&&(n+=" "),n+=t);return n}var $T=Object.defineProperty,LT=(e,t,r)=>t in e?$T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nc=(e,t,r)=>(LT(e,typeof t!="symbol"?t+"":t,r),r);let DT=class{constructor(){nc(this,"current",this.detect()),nc(this,"handoffState","pending"),nc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ar=new DT,Pe=(e,t)=>{Ar.isServer?b.useEffect(e,t):b.useLayoutEffect(e,t)};function fr(e){let t=b.useRef(e);return Pe(()=>{t.current=e},[e]),t}function c0(e,t){let[r,n]=b.useState(e),s=fr(e);return Pe(()=>n(s.current),[s,n,...t]),r}let q=function(e){let t=fr(e);return C.useCallback((...r)=>t.current(...r),[t])};function FT(e,t,r){let[n,s]=b.useState(r),i=e!==void 0,a=b.useRef(i),o=b.useRef(!1),l=b.useRef(!1);return i&&!a.current&&!o.current?(o.current=!0,a.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&a.current&&!l.current&&(l.current=!0,a.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:n,q(u=>(i||s(u),t==null?void 0:t(u)))]}function tu(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Tt(){let e=[],t={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),t.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return tu(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=Tt();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function Ur(){let[e]=b.useState(Tt);return b.useEffect(()=>()=>e.dispose(),[e]),e}function MT(){let e=typeof document>"u";return"useSyncExternalStore"in zs?(t=>t.useSyncExternalStore)(zs)(()=>()=>{},()=>!1,()=>!e):!1}function ti(){let e=MT(),[t,r]=b.useState(Ar.isHandoffComplete);return t&&Ar.isHandoffComplete===!1&&r(!1),b.useEffect(()=>{t!==!0&&r(!0)},[t]),b.useEffect(()=>Ar.handoff(),[]),e?!1:t}var Im;let Mt=(Im=C.useId)!=null?Im:function(){let e=ti(),[t,r]=C.useState(e?()=>Ar.nextId():null);return Pe(()=>{t===null&&r(Ar.nextId())},[t]),t!=null?""+t:void 0};function ke(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ke),n}function Ma(e){return Ar.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Od=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Rr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Rr||{}),d0=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(d0||{}),UT=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(UT||{});function f0(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Od)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var ru=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ru||{});function nu(e,t=0){var r;return e===((r=Ma(e))==null?void 0:r.body)?!1:ke(t,{0(){return e.matches(Od)},1(){let n=e;for(;n!==null;){if(n.matches(Od))return!0;n=n.parentElement}return!1}})}function h0(e){let t=Ma(e);Tt().nextFrame(()=>{t&&!nu(t.activeElement,0)&&xn(e)})}var zT=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(zT||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xn(e){e==null||e.focus({preventScroll:!0})}let BT=["textarea","input"].join(",");function VT(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,BT))!=null?r:!1}function sh(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let a=s.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function WT(e,t){return Zi(f0(),t,{relativeTo:e})}function Zi(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?r?sh(e):e:f0(e);s.length>0&&a.length>1&&(a=a.filter(f=>!s.includes(f))),n=n??i.activeElement;let o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(n))-1;if(t&4)return Math.max(0,a.indexOf(n))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,d=a.length,h;do{if(c>=d||c+d<=0)return 0;let f=l+c;if(t&16)f=(f+d)%d;else{if(f<0)return 3;if(f>=d)return 1}h=a[f],h==null||h.focus(u),c+=o}while(h!==i.activeElement);return t&6&&VT(h)&&h.select(),2}function p0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function HT(){return/Android/gi.test(window.navigator.userAgent)}function qT(){return p0()||HT()}function wo(e,t,r){let n=fr(t);b.useEffect(()=>{function s(i){n.current(i)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[e,r])}function m0(e,t,r){let n=fr(t);b.useEffect(()=>{function s(i){n.current(i)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[e,r])}function ih(e,t,r=!0){let n=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function s(a,o){if(!n.current||a.defaultPrevented)return;let l=o(a);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function c(d){return typeof d=="function"?c(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let c of u){if(c===null)continue;let d=c instanceof HTMLElement?c:c.current;if(d!=null&&d.contains(l)||a.composed&&a.composedPath().includes(d))return}return!nu(l,ru.Loose)&&l.tabIndex!==-1&&a.preventDefault(),t(a,l)}let i=b.useRef(null);wo("pointerdown",a=>{var o,l;n.current&&(i.current=((l=(o=a.composedPath)==null?void 0:o.call(a))==null?void 0:l[0])||a.target)},!0),wo("mousedown",a=>{var o,l;n.current&&(i.current=((l=(o=a.composedPath)==null?void 0:o.call(a))==null?void 0:l[0])||a.target)},!0),wo("click",a=>{qT()||i.current&&(s(a,()=>i.current),i.current=null)},!0),wo("touchend",a=>s(a,()=>a.target instanceof HTMLElement?a.target:null),!0),m0("blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ri(...e){return b.useMemo(()=>Ma(...e),[...e])}function $m(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function g0(e,t){let[r,n]=b.useState(()=>$m(e));return Pe(()=>{n($m(e))},[e.type,e.as]),Pe(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}let v0=Symbol();function KT(e,t=!0){return Object.assign(e,{[v0]:t})}function We(...e){let t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]);let r=q(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[v0]))?void 0:r}function Lm(e){return[e.screenX,e.screenY]}function y0(){let e=b.useRef([-1,-1]);return{wasMoved(t){let r=Lm(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=Lm(t)}}}function GT({container:e,accept:t,walk:r,enabled:n=!0}){let s=b.useRef(t),i=b.useRef(r);b.useEffect(()=>{s.current=t,i.current=r},[t,r]),Pe(()=>{if(!e||!n)return;let a=Ma(e);if(!a)return;let o=s.current,l=i.current,u=Object.assign(d=>o(d),{acceptNode:o}),c=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[e,n,s,i])}function ah(e,t){let r=b.useRef([]),n=q(e);b.useEffect(()=>{let s=[...r.current];for(let[i,a]of t.entries())if(r.current[i]!==a){let o=n(t,s);return r.current=t,o}},[n,...t])}function Sl(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Tn=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Tn||{}),cn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(cn||{});function Me({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:i=!0,name:a,mergeRefs:o}){o=o??JT;let l=w0(t,e);if(i)return _o(l,r,n,a,o);let u=s??0;if(u&2){let{static:c=!1,...d}=l;if(c)return _o(d,r,n,a,o)}if(u&1){let{unmount:c=!0,...d}=l;return ke(c?0:1,{0(){return null},1(){return _o({...d,hidden:!0,style:{display:"none"}},r,n,a,o)}})}return _o(l,r,n,a,o)}function _o(e,t={},r,n,s){let{as:i=r,children:a,refName:o="ref",...l}=sc(e,["unmount","static"]),u=e.ref!==void 0?{[o]:e.ref}:{},c=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let d={};if(t){let h=!1,f=[];for(let[_,w]of Object.entries(t))typeof w=="boolean"&&(h=!0),w===!0&&f.push(_);h&&(d["data-headlessui-state"]=f.join(" "))}if(i===b.Fragment&&Object.keys(Nd(l)).length>0){if(!b.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let h=c.props,f=typeof(h==null?void 0:h.className)=="function"?(...w)=>Sl(h==null?void 0:h.className(...w),l.className):Sl(h==null?void 0:h.className,l.className),_=f?{className:f}:{};return b.cloneElement(c,Object.assign({},w0(c.props,Nd(sc(l,["ref"]))),d,u,{ref:s(c.ref,u.ref)},_))}return b.createElement(i,Object.assign({},sc(l,["ref"]),i!==b.Fragment&&u,i!==b.Fragment&&d),c)}function JT(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function w0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](s,...i){let a=r[n];for(let o of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;o(s,...i)}}});return t}function Ie(e){var t;return Object.assign(b.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Nd(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function sc(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let QT="div";var Ra=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ra||{});function YT(e,t){var r;let{features:n=1,...s}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Me({ourProps:i,theirProps:s,slot:{},defaultTag:QT,name:"Hidden"})}let El=Ie(YT),oh=b.createContext(null);oh.displayName="OpenClosedContext";var De=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(De||{});function Ua(){return b.useContext(oh)}function lh({value:e,children:t}){return C.createElement(oh.Provider,{value:e},t)}function XT(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let an=[];XT(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&an[0]!==t.target&&(an.unshift(t.target),an=an.filter(r=>r!=null&&r.isConnected),an.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function uh(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&ZT(r)?!1:n}function ZT(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function eC(e){throw new Error("Unexpected object: "+e)}var Te=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Te||{});function _0(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),s=n??-1;switch(e.focus){case 0:{for(let i=0;i<r.length;++i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 1:{for(let i=s-1;i>=0;--i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 2:{for(let i=s+1;i<r.length;++i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 3:{for(let i=r.length-1;i>=0;--i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 4:{for(let i=0;i<r.length;++i)if(t.resolveId(r[i],i,r)===e.id)return i;return n}case 5:return null;default:eC(e)}}function b0(e={},t=null,r=[]){for(let[n,s]of Object.entries(e))S0(r,x0(t,n),s);return r}function x0(e,t){return e?e+"["+t+"]":t}function S0(e,t,r){if(Array.isArray(r))for(let[n,s]of r.entries())S0(e,x0(t,n.toString()),s);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):b0(r,t,e)}var ae=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ae||{});function E0(e,t,r,n){let s=fr(r);b.useEffect(()=>{e=e??window;function i(a){s.current(a)}return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)},[e,t,n])}function za(){let e=b.useRef(!1);return Pe(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function k0(e){let t=q(e),r=b.useRef(!1);b.useEffect(()=>(r.current=!1,()=>{r.current=!0,tu(()=>{r.current&&t()})}),[t])}var ki=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ki||{});function tC(){let e=b.useRef(0);return m0("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function T0(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let rC="div";var C0=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(C0||{});function nC(e,t){let r=b.useRef(null),n=We(r,t),{initialFocus:s,containers:i,features:a=30,...o}=e;ti()||(a=1);let l=ri(r);aC({ownerDocument:l},!!(a&16));let u=oC({ownerDocument:l,container:r,initialFocus:s},!!(a&2));lC({ownerDocument:l,container:r,containers:i,previousActiveElement:u},!!(a&8));let c=tC(),d=q(w=>{let y=r.current;y&&(g=>g())(()=>{ke(c.current,{[ki.Forwards]:()=>{Zi(y,Rr.First,{skipElements:[w.relatedTarget]})},[ki.Backwards]:()=>{Zi(y,Rr.Last,{skipElements:[w.relatedTarget]})}})})}),h=Ur(),f=b.useRef(!1),_={ref:n,onKeyDown(w){w.key=="Tab"&&(f.current=!0,h.requestAnimationFrame(()=>{f.current=!1}))},onBlur(w){let y=T0(i);r.current instanceof HTMLElement&&y.add(r.current);let g=w.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(R0(y,g)||(f.current?Zi(r.current,ke(c.current,{[ki.Forwards]:()=>Rr.Next,[ki.Backwards]:()=>Rr.Previous})|Rr.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&xn(w.target)))}};return C.createElement(C.Fragment,null,!!(a&4)&&C.createElement(El,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Ra.Focusable}),Me({ourProps:_,theirProps:o,defaultTag:rC,name:"FocusTrap"}),!!(a&4)&&C.createElement(El,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Ra.Focusable}))}let sC=Ie(nC),vi=Object.assign(sC,{features:C0});function iC(e=!0){let t=b.useRef(an.slice());return ah(([r],[n])=>{n===!0&&r===!1&&tu(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=an.slice())},[e,an,t]),q(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function aC({ownerDocument:e},t){let r=iC(t);ah(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&xn(r())},[t]),k0(()=>{t&&xn(r())})}function oC({ownerDocument:e,container:t,initialFocus:r},n){let s=b.useRef(null),i=za();return ah(()=>{if(!n)return;let a=t.current;a&&tu(()=>{if(!i.current)return;let o=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===o){s.current=o;return}}else if(a.contains(o)){s.current=o;return}r!=null&&r.current?xn(r.current):Zi(a,Rr.First)===d0.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e==null?void 0:e.activeElement})},[n]),s}function lC({ownerDocument:e,container:t,containers:r,previousActiveElement:n},s){let i=za();E0(e==null?void 0:e.defaultView,"focus",a=>{if(!s||!i.current)return;let o=T0(r);t.current instanceof HTMLElement&&o.add(t.current);let l=n.current;if(!l)return;let u=a.target;u&&u instanceof HTMLElement?R0(o,u)?(n.current=u,xn(u)):(a.preventDefault(),a.stopPropagation(),xn(l)):xn(n.current)},!0)}function R0(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let j0=b.createContext(!1);function uC(){return b.useContext(j0)}function Ad(e){return C.createElement(j0.Provider,{value:e.force},e.children)}function cC(e){let t=uC(),r=b.useContext(P0),n=ri(e),[s,i]=b.useState(()=>{if(!t&&r!==null||Ar.isServer)return null;let a=n==null?void 0:n.getElementById("headlessui-portal-root");if(a)return a;if(n===null)return null;let o=n.createElement("div");return o.setAttribute("id","headlessui-portal-root"),n.body.appendChild(o)});return b.useEffect(()=>{s!==null&&(n!=null&&n.body.contains(s)||n==null||n.body.appendChild(s))},[s,n]),b.useEffect(()=>{t||r!==null&&i(r.current)},[r,i,t]),s}let dC=b.Fragment;function fC(e,t){let r=e,n=b.useRef(null),s=We(KT(c=>{n.current=c}),t),i=ri(n),a=cC(n),[o]=b.useState(()=>{var c;return Ar.isServer?null:(c=i==null?void 0:i.createElement("div"))!=null?c:null}),l=b.useContext(Id),u=ti();return Pe(()=>{!a||!o||a.contains(o)||(o.setAttribute("data-headlessui-portal",""),a.appendChild(o))},[a,o]),Pe(()=>{if(o&&l)return l.register(o)},[l,o]),k0(()=>{var c;!a||!o||(o instanceof Node&&a.contains(o)&&a.removeChild(o),a.childNodes.length<=0&&((c=a.parentElement)==null||c.removeChild(a)))}),u?!a||!o?null:Af.createPortal(Me({ourProps:{ref:s},theirProps:r,defaultTag:dC,name:"Portal"}),o):null}let hC=b.Fragment,P0=b.createContext(null);function pC(e,t){let{target:r,...n}=e,s={ref:We(t)};return C.createElement(P0.Provider,{value:r},Me({ourProps:s,theirProps:n,defaultTag:hC,name:"Popover.Group"}))}let Id=b.createContext(null);function mC(){let e=b.useContext(Id),t=b.useRef([]),r=q(i=>(t.current.push(i),e&&e.register(i),()=>n(i))),n=q(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),s=b.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,b.useMemo(()=>function({children:i}){return C.createElement(Id.Provider,{value:s},i)},[s])]}let gC=Ie(fC),vC=Ie(pC),$d=Object.assign(gC,{Group:vC});function yC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const wC=typeof Object.is=="function"?Object.is:yC,{useState:_C,useEffect:bC,useLayoutEffect:xC,useDebugValue:SC}=zs;function EC(e,t,r){const n=t(),[{inst:s},i]=_C({inst:{value:n,getSnapshot:t}});return xC(()=>{s.value=n,s.getSnapshot=t,ic(s)&&i({inst:s})},[e,n,t]),bC(()=>(ic(s)&&i({inst:s}),e(()=>{ic(s)&&i({inst:s})})),[e]),SC(n),n}function ic(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!wC(r,n)}catch{return!0}}function kC(e,t,r){return t()}const TC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CC=!TC,RC=CC?kC:EC,jC="useSyncExternalStore"in zs?(e=>e.useSyncExternalStore)(zs):RC;function PC(e){return jC(e.subscribe,e.getSnapshot,e.getSnapshot)}function OC(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let a=t[s].call(r,...i);a&&(r=a,n.forEach(o=>o()))}}}function NC(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,s=n.clientWidth-n.offsetWidth,i=e-s;r.style(n,"paddingRight",`${i}px`)}}}function AC(){return p0()?{before({doc:e,d:t,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=Tt();o.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>o.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let l=o.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);c&&!n(c)&&(a=c)}catch{}},!0),t.addEventListener(e,"touchstart",o=>{if(o.target instanceof HTMLElement)if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(o.target,"touchAction","none")}),t.addEventListener(e,"touchmove",o=>{if(o.target instanceof HTMLElement)if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()},{passive:!1}),t.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;i!==l&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function IC(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function $C(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Hn=OC(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Tt(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:$C(r)},s=[AC(),NC(),IC()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Hn.subscribe(()=>{let e=Hn.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&Hn.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Hn.dispatch("TEARDOWN",r)}});function LC(e,t,r){let n=PC(Hn),s=e?n.get(e):void 0,i=s?s.count>0:!1;return Pe(()=>{if(!(!e||!t))return Hn.dispatch("PUSH",e,r),()=>Hn.dispatch("POP",e,r)},[t,e]),i}let ac=new Map,yi=new Map;function Dm(e,t=!0){Pe(()=>{var r;if(!t)return;let n=typeof e=="function"?e():e.current;if(!n)return;function s(){var a;if(!n)return;let o=(a=yi.get(n))!=null?a:1;if(o===1?yi.delete(n):yi.set(n,o-1),o!==1)return;let l=ac.get(n);l&&(l["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",l["aria-hidden"]),n.inert=l.inert,ac.delete(n))}let i=(r=yi.get(n))!=null?r:0;return yi.set(n,i+1),i!==0||(ac.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),s},[e,t])}function DC({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var n;let s=b.useRef((n=r==null?void 0:r.current)!=null?n:null),i=ri(s),a=q(()=>{var o,l,u;let c=[];for(let d of e)d!==null&&(d instanceof HTMLElement?c.push(d):"current"in d&&d.current instanceof HTMLElement&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(s.current)||d.contains((u=(l=s.current)==null?void 0:l.getRootNode())==null?void 0:u.host)||c.some(h=>d.contains(h))||c.push(d));return c});return{resolveContainers:a,contains:q(o=>a().some(l=>l.contains(o))),mainTreeNodeRef:s,MainTreeNode:b.useMemo(()=>function(){return r!=null?null:C.createElement(El,{features:Ra.Hidden,ref:s})},[s,r])}}let ch=b.createContext(()=>{});ch.displayName="StackContext";var Ld=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Ld||{});function FC(){return b.useContext(ch)}function MC({children:e,onUpdate:t,type:r,element:n,enabled:s}){let i=FC(),a=q((...o)=>{t==null||t(...o),i(...o)});return Pe(()=>{let o=s===void 0||s===!0;return o&&a(0,r,n),()=>{o&&a(1,r,n)}},[a,r,n,s]),C.createElement(ch.Provider,{value:a},e)}let O0=b.createContext(null);function N0(){let e=b.useContext(O0);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,N0),t}return e}function UC(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(r){let n=q(i=>(t(a=>[...a,i]),()=>t(a=>{let o=a.slice(),l=o.indexOf(i);return l!==-1&&o.splice(l,1),o}))),s=b.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return C.createElement(O0.Provider,{value:s},r.children)},[t])]}let zC="p";function BC(e,t){let r=Mt(),{id:n=`headlessui-description-${r}`,...s}=e,i=N0(),a=We(t);Pe(()=>i.register(n),[n,i.register]);let o={ref:a,...i.props,id:n};return Me({ourProps:o,theirProps:s,slot:i.slot||{},defaultTag:zC,name:i.name||"Description"})}let VC=Ie(BC),WC=Object.assign(VC,{});var HC=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(HC||{}),qC=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(qC||{});let KC={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},kl=b.createContext(null);kl.displayName="DialogContext";function Ba(e){let t=b.useContext(kl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ba),r}return t}function GC(e,t,r=()=>[document.body]){LC(e,t,n=>{var s;return{containers:[...(s=n.containers)!=null?s:[],r]}})}function JC(e,t){return ke(t.type,KC,e,t)}let QC="div",YC=Tn.RenderStrategy|Tn.Static;function XC(e,t){let r=Mt(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:i,initialFocus:a,role:o="dialog",__demoMode:l=!1,...u}=e,[c,d]=b.useState(0),h=b.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(h.current||(h.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=Ua();s===void 0&&f!==null&&(s=(f&De.Open)===De.Open);let _=b.useRef(null),w=We(_,t),y=ri(_),g=e.hasOwnProperty("open")||f!==null,p=e.hasOwnProperty("onClose");if(!g&&!p)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!p)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let v=s?0:1,[x,E]=b.useReducer(JC,{titleId:null,descriptionId:null,panelRef:b.createRef()}),k=q(()=>i(!1)),j=q(ue=>E({type:0,id:ue})),P=ti()?l?!1:v===0:!1,I=c>1,F=b.useContext(kl)!==null,[de,B]=mC(),Q={get current(){var ue;return(ue=x.panelRef.current)!=null?ue:_.current}},{resolveContainers:ee,mainTreeNodeRef:oe,MainTreeNode:he}=DC({portals:de,defaultContainers:[Q]}),Z=I?"parent":"leaf",$=f!==null?(f&De.Closing)===De.Closing:!1,A=F||$?!1:P,U=b.useCallback(()=>{var ue,ft;return(ft=Array.from((ue=y==null?void 0:y.querySelectorAll("body > *"))!=null?ue:[]).find(Je=>Je.id==="headlessui-portal-root"?!1:Je.contains(oe.current)&&Je instanceof HTMLElement))!=null?ft:null},[oe]);Dm(U,A);let ne=I?!0:P,V=b.useCallback(()=>{var ue,ft;return(ft=Array.from((ue=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?ue:[]).find(Je=>Je.contains(oe.current)&&Je instanceof HTMLElement))!=null?ft:null},[oe]);Dm(V,ne),ih(ee,ue=>{ue.preventDefault(),k()},!(!P||I));let D=!(I||v!==0);E0(y==null?void 0:y.defaultView,"keydown",ue=>{D&&(ue.defaultPrevented||ue.key===ae.Escape&&(ue.preventDefault(),ue.stopPropagation(),k()))}),GC(y,!($||v!==0||F),ee),b.useEffect(()=>{if(v!==0||!_.current)return;let ue=new ResizeObserver(ft=>{for(let Je of ft){let Wr=Je.target.getBoundingClientRect();Wr.x===0&&Wr.y===0&&Wr.width===0&&Wr.height===0&&k()}});return ue.observe(_.current),()=>ue.disconnect()},[v,_,k]);let[ie,se]=UC(),Ut=b.useMemo(()=>[{dialogState:v,close:k,setTitleId:j},x],[v,x,k,j]),Gt=b.useMemo(()=>({open:v===0}),[v]),mr={ref:w,id:n,role:o,"aria-modal":v===0?!0:void 0,"aria-labelledby":x.titleId,"aria-describedby":ie};return C.createElement(MC,{type:"Dialog",enabled:v===0,element:_,onUpdate:q((ue,ft)=>{ft==="Dialog"&&ke(ue,{[Ld.Add]:()=>d(Je=>Je+1),[Ld.Remove]:()=>d(Je=>Je-1)})})},C.createElement(Ad,{force:!0},C.createElement($d,null,C.createElement(kl.Provider,{value:Ut},C.createElement($d.Group,{target:_},C.createElement(Ad,{force:!1},C.createElement(se,{slot:Gt,name:"Dialog.Description"},C.createElement(vi,{initialFocus:a,containers:ee,features:P?ke(Z,{parent:vi.features.RestoreFocus,leaf:vi.features.All&~vi.features.FocusLock}):vi.features.None},C.createElement(B,null,Me({ourProps:mr,theirProps:u,slot:Gt,defaultTag:QC,features:YC,visible:v===0,name:"Dialog"}))))))))),C.createElement(he,null))}let ZC="div";function eR(e,t){let r=Mt(),{id:n=`headlessui-dialog-overlay-${r}`,...s}=e,[{dialogState:i,close:a}]=Ba("Dialog.Overlay"),o=We(t),l=q(c=>{if(c.target===c.currentTarget){if(uh(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),a()}}),u=b.useMemo(()=>({open:i===0}),[i]);return Me({ourProps:{ref:o,id:n,"aria-hidden":!0,onClick:l},theirProps:s,slot:u,defaultTag:ZC,name:"Dialog.Overlay"})}let tR="div";function rR(e,t){let r=Mt(),{id:n=`headlessui-dialog-backdrop-${r}`,...s}=e,[{dialogState:i},a]=Ba("Dialog.Backdrop"),o=We(t);b.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let l=b.useMemo(()=>({open:i===0}),[i]);return C.createElement(Ad,{force:!0},C.createElement($d,null,Me({ourProps:{ref:o,id:n,"aria-hidden":!0},theirProps:s,slot:l,defaultTag:tR,name:"Dialog.Backdrop"})))}let nR="div";function sR(e,t){let r=Mt(),{id:n=`headlessui-dialog-panel-${r}`,...s}=e,[{dialogState:i},a]=Ba("Dialog.Panel"),o=We(t,a.panelRef),l=b.useMemo(()=>({open:i===0}),[i]),u=q(c=>{c.stopPropagation()});return Me({ourProps:{ref:o,id:n,onClick:u},theirProps:s,slot:l,defaultTag:nR,name:"Dialog.Panel"})}let iR="h2";function aR(e,t){let r=Mt(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:i,setTitleId:a}]=Ba("Dialog.Title"),o=We(t);b.useEffect(()=>(a(n),()=>a(null)),[n,a]);let l=b.useMemo(()=>({open:i===0}),[i]);return Me({ourProps:{ref:o,id:n},theirProps:s,slot:l,defaultTag:iR,name:"Dialog.Title"})}let oR=Ie(XC),lR=Ie(rR),uR=Ie(sR),cR=Ie(eR),dR=Ie(aR),Ir=Object.assign(oR,{Backdrop:lR,Panel:uR,Overlay:cR,Title:dR,Description:WC}),Fm=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Mm(e){var t,r;let n=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let i=!1;for(let o of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),i=!0;let a=i?(r=s.innerText)!=null?r:"":n;return Fm.test(a)&&(a=a.replace(Fm,"")),a}function fR(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let i=document.getElementById(s);if(i){let a=i.getAttribute("aria-label");return typeof a=="string"?a.trim():Mm(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Mm(e).trim()}function A0(e){let t=b.useRef(""),r=b.useRef("");return q(()=>{let n=e.current;if(!n)return"";let s=n.innerText;if(t.current===s)return r.current;let i=fR(n).trim().toLowerCase();return t.current=s,r.current=i,i})}var hR=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hR||{}),pR=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(pR||{}),mR=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(mR||{}),gR=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(gR||{});function oc(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=sh(t(e.options.slice()),i=>i.dataRef.current.domRef.current),s=r?n.indexOf(r):null;return s===-1&&(s=null),{options:n,activeOptionIndex:s}}let vR={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(s=>r(s.dataRef.current.value));return n!==-1&&(t=n),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var r;if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=oc(e),s=_0(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:s,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),s=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(a=>{var o;return!a.dataRef.current.disabled&&((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(n))}),i=s?e.options.indexOf(s):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=oc(e,s=>[...s,r]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...e,...n}},6:(e,t)=>{let r=oc(e,n=>{let s=n.findIndex(i=>i.id===t.id);return s!==-1&&n.splice(s,1),n});return{...e,...r,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},dh=b.createContext(null);dh.displayName="ListboxActionsContext";function Va(e){let t=b.useContext(dh);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Va),r}return t}let fh=b.createContext(null);fh.displayName="ListboxDataContext";function Wa(e){let t=b.useContext(fh);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Wa),r}return t}function yR(e,t){return ke(t.type,vR,e,t)}let wR=b.Fragment;function _R(e,t){let{value:r,defaultValue:n,form:s,name:i,onChange:a,by:o=(D,Y)=>D===Y,disabled:l=!1,horizontal:u=!1,multiple:c=!1,...d}=e;const h=u?"horizontal":"vertical";let f=We(t),[_=c?[]:void 0,w]=FT(r,a,n),[y,g]=b.useReducer(yR,{dataRef:b.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),p=b.useRef({static:!1,hold:!1}),v=b.useRef(null),x=b.useRef(null),E=b.useRef(null),k=q(typeof o=="string"?(D,Y)=>{let ie=o;return(D==null?void 0:D[ie])===(Y==null?void 0:Y[ie])}:o),j=b.useCallback(D=>ke(P.mode,{1:()=>_.some(Y=>k(Y,D)),0:()=>k(_,D)}),[_]),P=b.useMemo(()=>({...y,value:_,disabled:l,mode:c?1:0,orientation:h,compare:k,isSelected:j,optionsPropsRef:p,labelRef:v,buttonRef:x,optionsRef:E}),[_,l,c,y]);Pe(()=>{y.dataRef.current=P},[P]),ih([P.buttonRef,P.optionsRef],(D,Y)=>{var ie;g({type:1}),nu(Y,ru.Loose)||(D.preventDefault(),(ie=P.buttonRef.current)==null||ie.focus())},P.listboxState===0);let I=b.useMemo(()=>({open:P.listboxState===0,disabled:l,value:_}),[P,l,_]),F=q(D=>{let Y=P.options.find(ie=>ie.id===D);Y&&Z(Y.dataRef.current.value)}),de=q(()=>{if(P.activeOptionIndex!==null){let{dataRef:D,id:Y}=P.options[P.activeOptionIndex];Z(D.current.value),g({type:2,focus:Te.Specific,id:Y})}}),B=q(()=>g({type:0})),Q=q(()=>g({type:1})),ee=q((D,Y,ie)=>D===Te.Specific?g({type:2,focus:Te.Specific,id:Y,trigger:ie}):g({type:2,focus:D,trigger:ie})),oe=q((D,Y)=>(g({type:5,id:D,dataRef:Y}),()=>g({type:6,id:D}))),he=q(D=>(g({type:7,id:D}),()=>g({type:7,id:null}))),Z=q(D=>ke(P.mode,{0(){return w==null?void 0:w(D)},1(){let Y=P.value.slice(),ie=Y.findIndex(se=>k(se,D));return ie===-1?Y.push(D):Y.splice(ie,1),w==null?void 0:w(Y)}})),$=q(D=>g({type:3,value:D})),A=q(()=>g({type:4})),U=b.useMemo(()=>({onChange:Z,registerOption:oe,registerLabel:he,goToOption:ee,closeListbox:Q,openListbox:B,selectActiveOption:de,selectOption:F,search:$,clearSearch:A}),[]),ne={ref:f},V=b.useRef(null),te=Ur();return b.useEffect(()=>{V.current&&n!==void 0&&te.addEventListener(V.current,"reset",()=>{w==null||w(n)})},[V,w]),C.createElement(dh.Provider,{value:U},C.createElement(fh.Provider,{value:P},C.createElement(lh,{value:ke(P.listboxState,{0:De.Open,1:De.Closed})},i!=null&&_!=null&&b0({[i]:_}).map(([D,Y],ie)=>C.createElement(El,{features:Ra.Hidden,ref:ie===0?se=>{var Ut;V.current=(Ut=se==null?void 0:se.closest("form"))!=null?Ut:null}:void 0,...Nd({key:D,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:l,name:D,value:Y})})),Me({ourProps:ne,theirProps:d,slot:I,defaultTag:wR,name:"Listbox"}))))}let bR="button";function xR(e,t){var r;let n=Mt(),{id:s=`headlessui-listbox-button-${n}`,...i}=e,a=Wa("Listbox.Button"),o=Va("Listbox.Button"),l=We(a.buttonRef,t),u=Ur(),c=q(y=>{switch(y.key){case ae.Space:case ae.Enter:case ae.ArrowDown:y.preventDefault(),o.openListbox(),u.nextFrame(()=>{a.value||o.goToOption(Te.First)});break;case ae.ArrowUp:y.preventDefault(),o.openListbox(),u.nextFrame(()=>{a.value||o.goToOption(Te.Last)});break}}),d=q(y=>{switch(y.key){case ae.Space:y.preventDefault();break}}),h=q(y=>{if(uh(y.currentTarget))return y.preventDefault();a.listboxState===0?(o.closeListbox(),u.nextFrame(()=>{var g;return(g=a.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(y.preventDefault(),o.openListbox())}),f=c0(()=>{if(a.labelId)return[a.labelId,s].join(" ")},[a.labelId,s]),_=b.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled,value:a.value}),[a]),w={ref:l,id:s,type:g0(e,a.buttonRef),"aria-haspopup":"listbox","aria-controls":(r=a.optionsRef.current)==null?void 0:r.id,"aria-expanded":a.listboxState===0,"aria-labelledby":f,disabled:a.disabled,onKeyDown:c,onKeyUp:d,onClick:h};return Me({ourProps:w,theirProps:i,slot:_,defaultTag:bR,name:"Listbox.Button"})}let SR="label";function ER(e,t){let r=Mt(),{id:n=`headlessui-listbox-label-${r}`,...s}=e,i=Wa("Listbox.Label"),a=Va("Listbox.Label"),o=We(i.labelRef,t);Pe(()=>a.registerLabel(n),[n]);let l=q(()=>{var c;return(c=i.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=b.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled}),[i]);return Me({ourProps:{ref:o,id:n,onClick:l},theirProps:s,slot:u,defaultTag:SR,name:"Listbox.Label"})}let kR="ul",TR=Tn.RenderStrategy|Tn.Static;function CR(e,t){var r;let n=Mt(),{id:s=`headlessui-listbox-options-${n}`,...i}=e,a=Wa("Listbox.Options"),o=Va("Listbox.Options"),l=We(a.optionsRef,t),u=Ur(),c=Ur(),d=Ua(),h=d!==null?(d&De.Open)===De.Open:a.listboxState===0;b.useEffect(()=>{var g;let p=a.optionsRef.current;p&&a.listboxState===0&&p!==((g=Ma(p))==null?void 0:g.activeElement)&&p.focus({preventScroll:!0})},[a.listboxState,a.optionsRef]);let f=q(g=>{switch(c.dispose(),g.key){case ae.Space:if(a.searchQuery!=="")return g.preventDefault(),g.stopPropagation(),o.search(g.key);case ae.Enter:if(g.preventDefault(),g.stopPropagation(),a.activeOptionIndex!==null){let{dataRef:p}=a.options[a.activeOptionIndex];o.onChange(p.current.value)}a.mode===0&&(o.closeListbox(),Tt().nextFrame(()=>{var p;return(p=a.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}));break;case ke(a.orientation,{vertical:ae.ArrowDown,horizontal:ae.ArrowRight}):return g.preventDefault(),g.stopPropagation(),o.goToOption(Te.Next);case ke(a.orientation,{vertical:ae.ArrowUp,horizontal:ae.ArrowLeft}):return g.preventDefault(),g.stopPropagation(),o.goToOption(Te.Previous);case ae.Home:case ae.PageUp:return g.preventDefault(),g.stopPropagation(),o.goToOption(Te.First);case ae.End:case ae.PageDown:return g.preventDefault(),g.stopPropagation(),o.goToOption(Te.Last);case ae.Escape:return g.preventDefault(),g.stopPropagation(),o.closeListbox(),u.nextFrame(()=>{var p;return(p=a.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});case ae.Tab:g.preventDefault(),g.stopPropagation();break;default:g.key.length===1&&(o.search(g.key),c.setTimeout(()=>o.clearSearch(),350));break}}),_=c0(()=>{var g;return(g=a.buttonRef.current)==null?void 0:g.id},[a.buttonRef.current]),w=b.useMemo(()=>({open:a.listboxState===0}),[a]),y={"aria-activedescendant":a.activeOptionIndex===null||(r=a.options[a.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":a.mode===1?!0:void 0,"aria-labelledby":_,"aria-orientation":a.orientation,id:s,onKeyDown:f,role:"listbox",tabIndex:0,ref:l};return Me({ourProps:y,theirProps:i,slot:w,defaultTag:kR,features:TR,visible:h,name:"Listbox.Options"})}let RR="li";function jR(e,t){let r=Mt(),{id:n=`headlessui-listbox-option-${r}`,disabled:s=!1,value:i,...a}=e,o=Wa("Listbox.Option"),l=Va("Listbox.Option"),u=o.activeOptionIndex!==null?o.options[o.activeOptionIndex].id===n:!1,c=o.isSelected(i),d=b.useRef(null),h=A0(d),f=fr({disabled:s,value:i,domRef:d,get textValue(){return h()}}),_=We(t,d);Pe(()=>{if(o.listboxState!==0||!u||o.activationTrigger===0)return;let k=Tt();return k.requestAnimationFrame(()=>{var j,P;(P=(j=d.current)==null?void 0:j.scrollIntoView)==null||P.call(j,{block:"nearest"})}),k.dispose},[d,u,o.listboxState,o.activationTrigger,o.activeOptionIndex]),Pe(()=>l.registerOption(n,f),[f,n]);let w=q(k=>{if(s)return k.preventDefault();l.onChange(i),o.mode===0&&(l.closeListbox(),Tt().nextFrame(()=>{var j;return(j=o.buttonRef.current)==null?void 0:j.focus({preventScroll:!0})}))}),y=q(()=>{if(s)return l.goToOption(Te.Nothing);l.goToOption(Te.Specific,n)}),g=y0(),p=q(k=>g.update(k)),v=q(k=>{g.wasMoved(k)&&(s||u||l.goToOption(Te.Specific,n,0))}),x=q(k=>{g.wasMoved(k)&&(s||u&&l.goToOption(Te.Nothing))}),E=b.useMemo(()=>({active:u,selected:c,disabled:s}),[u,c,s]);return Me({ourProps:{id:n,ref:_,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":c,disabled:void 0,onClick:w,onFocus:y,onPointerEnter:p,onMouseEnter:p,onPointerMove:v,onMouseMove:v,onPointerLeave:x,onMouseLeave:x},theirProps:a,slot:E,defaultTag:RR,name:"Listbox.Option"})}let PR=Ie(_R),OR=Ie(xR),NR=Ie(ER),AR=Ie(CR),IR=Ie(jR),bo=Object.assign(PR,{Button:OR,Label:NR,Options:AR,Option:IR});var $R=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($R||{}),LR=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(LR||{}),DR=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(DR||{});function lc(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=sh(t(e.items.slice()),i=>i.dataRef.current.domRef.current),s=r?n.indexOf(r):null;return s===-1&&(s=null),{items:n,activeItemIndex:s}}let FR={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r;let n=lc(e),s=_0(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:s,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!a.dataRef.current.disabled}),i=s?e.items.indexOf(s):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:i,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=lc(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=lc(e,n=>{let s=n.findIndex(i=>i.id===t.id);return s!==-1&&n.splice(s,1),n});return{...e,...r,activationTrigger:1}}},hh=b.createContext(null);hh.displayName="MenuContext";function su(e){let t=b.useContext(hh);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,su),r}return t}function MR(e,t){return ke(t.type,FR,e,t)}let UR=b.Fragment;function zR(e,t){let{__demoMode:r=!1,...n}=e,s=b.useReducer(MR,{__demoMode:r,menuState:r?0:1,buttonRef:b.createRef(),itemsRef:b.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:a,buttonRef:o},l]=s,u=We(t);ih([o,a],(f,_)=>{var w;l({type:1}),nu(_,ru.Loose)||(f.preventDefault(),(w=o.current)==null||w.focus())},i===0);let c=q(()=>{l({type:1})}),d=b.useMemo(()=>({open:i===0,close:c}),[i,c]),h={ref:u};return C.createElement(hh.Provider,{value:s},C.createElement(lh,{value:ke(i,{0:De.Open,1:De.Closed})},Me({ourProps:h,theirProps:n,slot:d,defaultTag:UR,name:"Menu"})))}let BR="button";function VR(e,t){var r;let n=Mt(),{id:s=`headlessui-menu-button-${n}`,...i}=e,[a,o]=su("Menu.Button"),l=We(a.buttonRef,t),u=Ur(),c=q(w=>{switch(w.key){case ae.Space:case ae.Enter:case ae.ArrowDown:w.preventDefault(),w.stopPropagation(),o({type:0}),u.nextFrame(()=>o({type:2,focus:Te.First}));break;case ae.ArrowUp:w.preventDefault(),w.stopPropagation(),o({type:0}),u.nextFrame(()=>o({type:2,focus:Te.Last}));break}}),d=q(w=>{switch(w.key){case ae.Space:w.preventDefault();break}}),h=q(w=>{if(uh(w.currentTarget))return w.preventDefault();e.disabled||(a.menuState===0?(o({type:1}),u.nextFrame(()=>{var y;return(y=a.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})})):(w.preventDefault(),o({type:0})))}),f=b.useMemo(()=>({open:a.menuState===0}),[a]),_={ref:l,id:s,type:g0(e,a.buttonRef),"aria-haspopup":"menu","aria-controls":(r=a.itemsRef.current)==null?void 0:r.id,"aria-expanded":a.menuState===0,onKeyDown:c,onKeyUp:d,onClick:h};return Me({ourProps:_,theirProps:i,slot:f,defaultTag:BR,name:"Menu.Button"})}let WR="div",HR=Tn.RenderStrategy|Tn.Static;function qR(e,t){var r,n;let s=Mt(),{id:i=`headlessui-menu-items-${s}`,...a}=e,[o,l]=su("Menu.Items"),u=We(o.itemsRef,t),c=ri(o.itemsRef),d=Ur(),h=Ua(),f=h!==null?(h&De.Open)===De.Open:o.menuState===0;b.useEffect(()=>{let p=o.itemsRef.current;p&&o.menuState===0&&p!==(c==null?void 0:c.activeElement)&&p.focus({preventScroll:!0})},[o.menuState,o.itemsRef,c]),GT({container:o.itemsRef.current,enabled:o.menuState===0,accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let _=q(p=>{var v,x;switch(d.dispose(),p.key){case ae.Space:if(o.searchQuery!=="")return p.preventDefault(),p.stopPropagation(),l({type:3,value:p.key});case ae.Enter:if(p.preventDefault(),p.stopPropagation(),l({type:1}),o.activeItemIndex!==null){let{dataRef:E}=o.items[o.activeItemIndex];(x=(v=E.current)==null?void 0:v.domRef.current)==null||x.click()}h0(o.buttonRef.current);break;case ae.ArrowDown:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:Te.Next});case ae.ArrowUp:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:Te.Previous});case ae.Home:case ae.PageUp:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:Te.First});case ae.End:case ae.PageDown:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:Te.Last});case ae.Escape:p.preventDefault(),p.stopPropagation(),l({type:1}),Tt().nextFrame(()=>{var E;return(E=o.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})});break;case ae.Tab:p.preventDefault(),p.stopPropagation(),l({type:1}),Tt().nextFrame(()=>{WT(o.buttonRef.current,p.shiftKey?Rr.Previous:Rr.Next)});break;default:p.key.length===1&&(l({type:3,value:p.key}),d.setTimeout(()=>l({type:4}),350));break}}),w=q(p=>{switch(p.key){case ae.Space:p.preventDefault();break}}),y=b.useMemo(()=>({open:o.menuState===0}),[o]),g={"aria-activedescendant":o.activeItemIndex===null||(r=o.items[o.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=o.buttonRef.current)==null?void 0:n.id,id:i,onKeyDown:_,onKeyUp:w,role:"menu",tabIndex:0,ref:u};return Me({ourProps:g,theirProps:a,slot:y,defaultTag:WR,features:HR,visible:f,name:"Menu.Items"})}let KR=b.Fragment;function GR(e,t){let r=Mt(),{id:n=`headlessui-menu-item-${r}`,disabled:s=!1,...i}=e,[a,o]=su("Menu.Item"),l=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===n:!1,u=b.useRef(null),c=We(t,u);Pe(()=>{if(a.__demoMode||a.menuState!==0||!l||a.activationTrigger===0)return;let E=Tt();return E.requestAnimationFrame(()=>{var k,j;(j=(k=u.current)==null?void 0:k.scrollIntoView)==null||j.call(k,{block:"nearest"})}),E.dispose},[a.__demoMode,u,l,a.menuState,a.activationTrigger,a.activeItemIndex]);let d=A0(u),h=b.useRef({disabled:s,domRef:u,get textValue(){return d()}});Pe(()=>{h.current.disabled=s},[h,s]),Pe(()=>(o({type:5,id:n,dataRef:h}),()=>o({type:6,id:n})),[h,n]);let f=q(()=>{o({type:1})}),_=q(E=>{if(s)return E.preventDefault();o({type:1}),h0(a.buttonRef.current)}),w=q(()=>{if(s)return o({type:2,focus:Te.Nothing});o({type:2,focus:Te.Specific,id:n})}),y=y0(),g=q(E=>y.update(E)),p=q(E=>{y.wasMoved(E)&&(s||l||o({type:2,focus:Te.Specific,id:n,trigger:0}))}),v=q(E=>{y.wasMoved(E)&&(s||l&&o({type:2,focus:Te.Nothing}))}),x=b.useMemo(()=>({active:l,disabled:s,close:f}),[l,s,f]);return Me({ourProps:{id:n,ref:c,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,disabled:void 0,onClick:_,onFocus:w,onPointerEnter:g,onMouseEnter:g,onPointerMove:p,onMouseMove:p,onPointerLeave:v,onMouseLeave:v},theirProps:i,slot:x,defaultTag:KR,name:"Menu.Item"})}let JR=Ie(zR),QR=Ie(VR),YR=Ie(qR),XR=Ie(GR),dn=Object.assign(JR,{Button:QR,Items:YR,Item:XR});function ZR(e=0){let[t,r]=b.useState(e),n=za(),s=b.useCallback(l=>{n.current&&r(u=>u|l)},[t,n]),i=b.useCallback(l=>!!(t&l),[t]),a=b.useCallback(l=>{n.current&&r(u=>u&~l)},[r,n]),o=b.useCallback(l=>{n.current&&r(u=>u^l)},[r]);return{flags:t,addFlag:s,hasFlag:i,removeFlag:a,toggleFlag:o}}function e2(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function uc(e,...t){e&&t.length>0&&e.classList.add(...t)}function cc(e,...t){e&&t.length>0&&e.classList.remove(...t)}function t2(e,t){let r=Tt();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(e),[i,a]=[n,s].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,d)=>d-c);return u}),o=i+a;if(o!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},o),u.addEventListener(e,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),l())})}else t();return r.add(()=>t()),r.dispose}function r2(e,t,r,n){let s=r?"enter":"leave",i=Tt(),a=n!==void 0?e2(n):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let o=ke(s,{enter:()=>t.enter,leave:()=>t.leave}),l=ke(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=ke(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return cc(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),uc(e,...t.base,...o,...u),i.nextFrame(()=>{cc(e,...t.base,...o,...u),uc(e,...t.base,...o,...l),t2(e,()=>(cc(e,...t.base,...o),uc(e,...t.base,...t.entered),a()))}),i.dispose}function n2({immediate:e,container:t,direction:r,classes:n,onStart:s,onStop:i}){let a=za(),o=Ur(),l=fr(r);Pe(()=>{e&&(l.current="enter")},[e]),Pe(()=>{let u=Tt();o.add(u.dispose);let c=t.current;if(c&&l.current!=="idle"&&a.current)return u.dispose(),s.current(l.current),u.add(r2(c,n.current,l.current==="enter",()=>{u.dispose(),i.current(l.current)})),u.dispose},[r])}function Qr(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let iu=b.createContext(null);iu.displayName="TransitionContext";var s2=(e=>(e.Visible="visible",e.Hidden="hidden",e))(s2||{});function i2(){let e=b.useContext(iu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function a2(){let e=b.useContext(au);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let au=b.createContext(null);au.displayName="NestingContext";function ou(e){return"children"in e?ou(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function I0(e,t){let r=fr(e),n=b.useRef([]),s=za(),i=Ur(),a=q((f,_=cn.Hidden)=>{let w=n.current.findIndex(({el:y})=>y===f);w!==-1&&(ke(_,{[cn.Unmount](){n.current.splice(w,1)},[cn.Hidden](){n.current[w].state="hidden"}}),i.microTask(()=>{var y;!ou(n)&&s.current&&((y=r.current)==null||y.call(r))}))}),o=q(f=>{let _=n.current.find(({el:w})=>w===f);return _?_.state!=="visible"&&(_.state="visible"):n.current.push({el:f,state:"visible"}),()=>a(f,cn.Unmount)}),l=b.useRef([]),u=b.useRef(Promise.resolve()),c=b.useRef({enter:[],leave:[],idle:[]}),d=q((f,_,w)=>{l.current.splice(0),t&&(t.chains.current[_]=t.chains.current[_].filter(([y])=>y!==f)),t==null||t.chains.current[_].push([f,new Promise(y=>{l.current.push(y)})]),t==null||t.chains.current[_].push([f,new Promise(y=>{Promise.all(c.current[_].map(([g,p])=>p)).then(()=>y())})]),_==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(_)):w(_)}),h=q((f,_,w)=>{Promise.all(c.current[_].splice(0).map(([y,g])=>g)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>w(_))});return b.useMemo(()=>({children:n,register:o,unregister:a,onStart:d,onStop:h,wait:u,chains:c}),[o,a,n,d,h,c,u])}function o2(){}let l2=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Um(e){var t;let r={};for(let n of l2)r[n]=(t=e[n])!=null?t:o2;return r}function u2(e){let t=b.useRef(Um(e));return b.useEffect(()=>{t.current=Um(e)},[e]),t}let c2="div",$0=Tn.RenderStrategy;function d2(e,t){var r,n;let{beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:o,enter:l,enterFrom:u,enterTo:c,entered:d,leave:h,leaveFrom:f,leaveTo:_,...w}=e,y=b.useRef(null),g=We(y,t),p=(r=w.unmount)==null||r?cn.Unmount:cn.Hidden,{show:v,appear:x,initial:E}=i2(),[k,j]=b.useState(v?"visible":"hidden"),P=a2(),{register:I,unregister:F}=P;b.useEffect(()=>I(y),[I,y]),b.useEffect(()=>{if(p===cn.Hidden&&y.current){if(v&&k!=="visible"){j("visible");return}return ke(k,{hidden:()=>F(y),visible:()=>I(y)})}},[k,y,I,F,v,p]);let de=fr({base:Qr(w.className),enter:Qr(l),enterFrom:Qr(u),enterTo:Qr(c),entered:Qr(d),leave:Qr(h),leaveFrom:Qr(f),leaveTo:Qr(_)}),B=u2({beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:o}),Q=ti();b.useEffect(()=>{if(Q&&k==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,k,Q]);let ee=E&&!x,oe=x&&v&&E,he=!Q||ee?"idle":v?"enter":"leave",Z=ZR(0),$=q(D=>ke(D,{enter:()=>{Z.addFlag(De.Opening),B.current.beforeEnter()},leave:()=>{Z.addFlag(De.Closing),B.current.beforeLeave()},idle:()=>{}})),A=q(D=>ke(D,{enter:()=>{Z.removeFlag(De.Opening),B.current.afterEnter()},leave:()=>{Z.removeFlag(De.Closing),B.current.afterLeave()},idle:()=>{}})),U=I0(()=>{j("hidden"),F(y)},P),ne=b.useRef(!1);n2({immediate:oe,container:y,classes:de,direction:he,onStart:fr(D=>{ne.current=!0,U.onStart(y,D,$)}),onStop:fr(D=>{ne.current=!1,U.onStop(y,D,A),D==="leave"&&!ou(U)&&(j("hidden"),F(y))})});let V=w,te={ref:g};return oe?V={...V,className:Sl(w.className,...de.current.enter,...de.current.enterFrom)}:ne.current&&(V.className=Sl(w.className,(n=y.current)==null?void 0:n.className),V.className===""&&delete V.className),C.createElement(au.Provider,{value:U},C.createElement(lh,{value:ke(k,{visible:De.Open,hidden:De.Closed})|Z.flags},Me({ourProps:te,theirProps:V,defaultTag:c2,features:$0,visible:k==="visible",name:"Transition.Child"})))}function f2(e,t){let{show:r,appear:n=!1,unmount:s=!0,...i}=e,a=b.useRef(null),o=We(a,t);ti();let l=Ua();if(r===void 0&&l!==null&&(r=(l&De.Open)===De.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=b.useState(r?"visible":"hidden"),d=I0(()=>{c("hidden")}),[h,f]=b.useState(!0),_=b.useRef([r]);Pe(()=>{h!==!1&&_.current[_.current.length-1]!==r&&(_.current.push(r),f(!1))},[_,r]);let w=b.useMemo(()=>({show:r,appear:n,initial:h}),[r,n,h]);b.useEffect(()=>{if(r)c("visible");else if(!ou(d))c("hidden");else{let v=a.current;if(!v)return;let x=v.getBoundingClientRect();x.x===0&&x.y===0&&x.width===0&&x.height===0&&c("hidden")}},[r,d]);let y={unmount:s},g=q(()=>{var v;h&&f(!1),(v=e.beforeEnter)==null||v.call(e)}),p=q(()=>{var v;h&&f(!1),(v=e.beforeLeave)==null||v.call(e)});return C.createElement(au.Provider,{value:d},C.createElement(iu.Provider,{value:w},Me({ourProps:{...y,as:b.Fragment,children:C.createElement(L0,{ref:o,...y,...i,beforeEnter:g,beforeLeave:p})},theirProps:{},defaultTag:b.Fragment,features:$0,visible:u==="visible",name:"Transition"})))}function h2(e,t){let r=b.useContext(iu)!==null,n=Ua()!==null;return C.createElement(C.Fragment,null,!r&&n?C.createElement(Dd,{ref:t,...e}):C.createElement(L0,{ref:t,...e}))}let Dd=Ie(f2),L0=Ie(d2),p2=Ie(h2),Ht=Object.assign(Dd,{Child:p2,Root:Dd});const m2=({isOpen:e,onClose:t})=>{const r=Ft(),{loading:n}=Ge(f=>f.teams),[s,i]=b.useState("free"),{register:a,handleSubmit:o,reset:l,watch:u,formState:{errors:c}}=Fa({defaultValues:{teamName:"",subscriptionPrice:""}}),d=async f=>{const _={name:f.teamName,subscriptionType:s,subscriptionPrice:s==="paid"?parseFloat(f.subscriptionPrice):0},w=await r(Vi(_));Vi.fulfilled.match(w)?(we.success("Team created successfully!"),l(),i("free"),t()):we.error(w.payload||"Failed to create team")},h=()=>{l(),i("free"),t()};return m.jsx(Ht,{appear:!0,show:e,as:b.Fragment,children:m.jsxs(Ir,{as:"div",className:"relative z-50",onClose:h,children:[m.jsx(Ht.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:m.jsx(Ht.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Ir.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx(Ir.Title,{className:"text-xl font-semibold text-gray-900",children:"Create Team"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create a new team to manage tasks"})]}),m.jsx("button",{onClick:h,className:"p-1 hover:bg-gray-100 rounded-lg transition",children:m.jsx(nh,{size:20})})]}),m.jsxs("form",{onSubmit:o(d),children:[m.jsxs("div",{className:"mb-5",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),m.jsx("input",{type:"text",...a("teamName",{required:"Team name is required"}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"My Awesome Team"}),c.teamName&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.teamName.message})]}),m.jsxs("div",{className:"mb-5",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Team Access"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{type:"button",onClick:()=>i("free"),className:`relative flex flex-col items-center p-4 rounded-xl border-2 transition-all ${s==="free"?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${s==="free"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-500"}`,children:m.jsx("span",{className:"text-lg",children:""})}),m.jsx("span",{className:`font-medium ${s==="free"?"text-emerald-700":"text-gray-700"}`,children:"Free"}),m.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Anyone can join"})]}),m.jsxs("button",{type:"button",onClick:()=>i("paid"),className:`relative flex flex-col items-center p-4 rounded-xl border-2 transition-all ${s==="paid"?"border-violet-500 bg-violet-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${s==="paid"?"bg-violet-500 text-white":"bg-gray-100 text-gray-500"}`,children:m.jsx("span",{className:"text-lg",children:""})}),m.jsx("span",{className:`font-medium ${s==="paid"?"text-violet-700":"text-gray-700"}`,children:"Paid"}),m.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Requires payment"})]})]})]}),s==="paid"&&m.jsxs("div",{className:"mb-5 animate-fadeIn",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Membership Price (USD)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Pd,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{type:"number",step:"0.01",min:"0.50",...a("subscriptionPrice",{required:s==="paid"?"Price is required for paid teams":!1,min:{value:.5,message:"Minimum price is $0.50"}}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition",placeholder:"9.99"})]}),c.subscriptionPrice&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.subscriptionPrice.message}),m.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Members will pay this one-time fee to join your team"})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:h,className:"px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg font-medium hover:bg-gray-200 transition",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:n,className:`px-6 py-2.5 text-white rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed ${s==="paid"?"bg-violet-600 hover:bg-violet-700":"bg-gray-900 hover:bg-gray-800"}`,children:n?"Creating...":"Create Team"})]})]})]})})})})]})})},g2=({isOpen:e,onClose:t})=>{const r=Ft(),{loading:n,checkoutLoading:s,teamInfo:i,error:a}=Ge(x=>x.teams),{user:o}=Ge(x=>x.auth),[l,u]=b.useState("lookup"),{register:c,handleSubmit:d,reset:h,getValues:f,formState:{errors:_}}=Fa();b.useEffect(()=>{e||(u("lookup"),r(rc()),h())},[e,r,h]);const w=async x=>{const E=await r(Ki({teamId:x.teamId}));Ki.fulfilled.match(E)?u("confirm"):we.error(E.payload||"Team not found")},y=async()=>{const x=f("teamId"),E=await r(Wi({teamId:x}));Wi.fulfilled.match(E)?(we.success("Joined team successfully!"),v()):we.error(E.payload||"Failed to join team")},g=async()=>{var E;if(!i)return;const x=await r(Us({teamId:i.id,teamName:i.name,price:i.subscription_price,userEmail:o==null?void 0:o.email}));Us.fulfilled.match(x)&&((E=x.payload)!=null&&E.url)?window.location.href=x.payload.url:we.error(x.payload||"Failed to create checkout session")},p=()=>{u("lookup"),r(rc())},v=()=>{h(),u("lookup"),r(rc()),t()};return m.jsx(Ht,{appear:!0,show:e,as:b.Fragment,children:m.jsxs(Ir,{as:"div",className:"relative z-50",onClose:v,children:[m.jsx(Ht.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:m.jsx(Ht.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Ir.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[l==="confirm"&&m.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-100 rounded-lg transition",children:m.jsx(th,{size:20})}),m.jsxs("div",{children:[m.jsx(Ir.Title,{className:"text-xl font-semibold text-gray-900",children:l==="lookup"?"Join Team":"Confirm Join"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l==="lookup"?"Enter team ID to join":"Review team details before joining"})]})]}),m.jsx("button",{onClick:v,className:"p-1 hover:bg-gray-100 rounded-lg transition",children:m.jsx(nh,{size:20})})]}),l==="lookup"&&m.jsxs("form",{onSubmit:d(w),children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team ID"}),m.jsx("input",{type:"text",...c("teamId",{required:"Team ID is required"}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Enter the team ID"}),_.teamId&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:_.teamId.message})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Looking up...":"Continue"})})]}),l==="confirm"&&i&&m.jsxs("div",{children:[m.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 mb-5",children:[m.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-3",children:i.name}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(IT,{className:"text-gray-400"}),m.jsxs("span",{children:[i.member_count," ",i.member_count===1?"member":"members"]})]}),m.jsx("div",{className:"flex items-center gap-2",children:i.subscription_type==="free"?m.jsx("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-emerald-100 text-emerald-700 text-sm font-medium rounded-full",children:" Free to Join"}):m.jsx("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-violet-100 text-violet-700 text-sm font-medium rounded-full",children:" Paid Team"})})]})]}),i.subscription_type==="paid"&&m.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 border border-violet-200 rounded-xl p-5 mb-5",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-violet-600 font-medium",children:"Membership Fee"}),m.jsxs("p",{className:"text-3xl font-bold text-violet-900",children:["$",parseFloat(i.subscription_price).toFixed(2)]}),m.jsx("p",{className:"text-xs text-violet-500 mt-1",children:"One-time payment"})]}),m.jsx("div",{className:"w-12 h-12 bg-violet-500 rounded-full flex items-center justify-center",children:m.jsx(Pd,{className:"w-6 h-6 text-white"})})]}),m.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-violet-600",children:[m.jsx(OT,{className:"w-4 h-4"}),m.jsx("span",{children:"Secure payment via Stripe"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:v,className:"px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg font-medium hover:bg-gray-200 transition",children:"Cancel"}),i.subscription_type==="free"?m.jsx("button",{onClick:y,disabled:n,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Joining...":"Join Team"}):m.jsx("button",{onClick:g,disabled:s,className:"px-6 py-2.5 bg-violet-600 text-white rounded-lg font-medium hover:bg-violet-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?"Preparing checkout...":m.jsxs(m.Fragment,{children:[m.jsx(Pd,{className:"w-5 h-5"}),"Pay $",parseFloat(i.subscription_price).toFixed(2)," to Join"]})})]})]})]})})})})]})})},v2=()=>{const e=Ft(),{teams:t,selectedTeam:r}=Ge(l=>l.teams),[n,s]=b.useState(!1),[i,a]=b.useState(!1),o=l=>{e(xT(l))};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"w-80 bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"font-semibold text-gray-900",children:"Teams"}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>s(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Create Team",children:m.jsx(i0,{size:18})}),m.jsx("button",{onClick:()=>a(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Join Team",children:m.jsx(Xi,{size:18})})]})]}),m.jsx("div",{className:"space-y-2",children:t.length===0?m.jsx("p",{className:"text-sm text-blue-500 py-2",children:"No teams yet. Create or join one!"}):t.map(l=>m.jsxs("button",{onClick:()=>o(l),className:u0("w-full flex items-center gap-3 px-3 py-3 rounded-lg transition text-left",(r==null?void 0:r.id)===l.id?"bg-gray-900 text-white":"hover:bg-gray-100 text-gray-700"),children:[m.jsx(Xi,{size:18}),m.jsx("span",{className:"font-medium truncate flex-1",children:l.name}),l.subscription_type==="paid"?m.jsx("span",{className:"text-xs",title:"Paid Team",children:""}):m.jsx("span",{className:"text-xs opacity-50",title:"Free Team",children:""})]},l.id))})]}),m.jsx(m2,{isOpen:n,onClose:()=>s(!1)}),m.jsx(g2,{isOpen:i,onClose:()=>a(!1)})]})},y2=({task:e})=>{const t=Ft(),{loading:r}=Ge(l=>l.tasks),n=[{value:"pending",label:"Pending"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"}],s=n.find(l=>l.value===e.status),i=l=>{switch(l){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},a=async l=>{const u=await t(Qi({taskId:e.id,status:l}));Qi.fulfilled.match(u)?we.success("Task status updated"):we.error("Failed to update status")},o=async()=>{const l=await t(Yi({taskId:e.id}));Yi.fulfilled.match(l)?we.success("Task deleted"):we.error("Failed to delete task")};return m.jsxs("div",{className:"border border-gray-100 rounded-xl p-4 hover:shadow-sm transition",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),m.jsx("p",{className:"text-sm text-blue-500 mt-1",children:e.description||"Description"})]}),m.jsx("button",{onClick:o,disabled:r,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",children:m.jsx(a0,{size:18})})]}),m.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[m.jsx("span",{className:u0("px-3 py-1 rounded-md text-sm font-medium",i(e.status)),children:s==null?void 0:s.label}),m.jsxs(dn,{as:"div",className:"relative",children:[m.jsxs(dn.Button,{className:"inline-flex items-center gap-2 px-3 py-1.5 border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition",children:[s==null?void 0:s.label,m.jsx(rh,{size:14})]}),m.jsx(Ht,{as:b.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:m.jsx(dn.Items,{className:"absolute left-0 mt-2 w-36 origin-top-left rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10",children:m.jsx("div",{className:"py-1",children:n.map(l=>m.jsx(dn.Item,{children:({active:u})=>m.jsxs("button",{onClick:()=>a(l.value),className:`${u?"bg-gray-100":""} ${e.status===l.value?"text-blue-600":"text-gray-700"} flex w-full items-center px-4 py-2 text-sm`,children:[l.label,e.status===l.value&&m.jsx("span",{className:"ml-auto",children:""})]})},l.value))})})})]})]})]})},w2=({isOpen:e,onClose:t,teamId:r})=>{const n=Ft(),{loading:s}=Ge(d=>d.tasks),{register:i,handleSubmit:a,reset:o,formState:{errors:l}}=Fa(),u=async d=>{const h=await n(Ji({teamId:r,title:d.title,description:d.description}));Ji.fulfilled.match(h)?(we.success("Task created successfully!"),o(),t()):we.error(h.payload||"Failed to create task")},c=()=>{o(),t()};return m.jsx(Ht,{appear:!0,show:e,as:b.Fragment,children:m.jsxs(Ir,{as:"div",className:"relative z-50",onClose:c,children:[m.jsx(Ht.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:m.jsx(Ht.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Ir.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx(Ir.Title,{className:"text-xl font-semibold text-gray-900",children:"Create Task"}),m.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-lg transition",children:m.jsx(nh,{size:20})})]}),m.jsxs("form",{onSubmit:a(u),children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),m.jsx("input",{type:"text",...i("title",{required:"Title is required"}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:""}),l.title&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.title.message})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),m.jsx("textarea",{...i("description"),rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition resize-y",placeholder:""})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Create"})})]})]})})})})]})})},_2=({team:e})=>{const t=Ft(),{tasks:r,statusFilter:n}=Ge(c=>c.tasks),[s,i]=b.useState(!1),a=r[e.id]||[];b.useEffect(()=>{e.id&&t(Fo({teamId:e.id}))},[t,e.id]);const o=n==="all"?a:a.filter(c=>c.status===n),l=[{value:"all",label:"All Tasks"},{value:"pending",label:"Pending"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"}],u=l.find(c=>c.value===n);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-start justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.name," Tasks"]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Team ID: ",e.id]})]}),m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition",children:[m.jsx(i0,{size:18}),"New Task"]})]}),m.jsx("div",{className:"mb-4",children:m.jsxs(dn,{as:"div",className:"relative inline-block text-left",children:[m.jsxs(dn.Button,{className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition",children:[u==null?void 0:u.label,m.jsx(rh,{size:16})]}),m.jsx(Ht,{as:b.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:m.jsx(dn.Items,{className:"absolute left-0 mt-2 w-40 origin-top-left rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10",children:m.jsx("div",{className:"py-1",children:l.map(c=>m.jsx(dn.Item,{children:({active:d})=>m.jsxs("button",{onClick:()=>t(TT(c.value)),className:`${d?"bg-gray-100":""} ${n===c.value?"text-blue-600":"text-gray-700"} flex w-full items-center px-4 py-2 text-sm`,children:[c.label,n===c.value&&m.jsx("span",{className:"ml-auto",children:""})]})},c.value))})})})]})}),m.jsx("div",{className:"space-y-3",children:o.length===0?m.jsx("p",{className:"text-sm text-blue-500 py-4",children:"No tasks found"}):o.map(c=>m.jsx(y2,{task:c},c.id))}),m.jsx(w2,{isOpen:s,onClose:()=>i(!1),teamId:e.id})]})},b2=({team:e})=>{const t=Ft(),{user:r}=Ge(h=>h.auth),{availableUsers:n,loading:s}=Ge(h=>h.teams),[i,a]=b.useState(null),o=e.team_members||[],l=o.find(h=>h.user_id===(r==null?void 0:r.id)),u=(l==null?void 0:l.role)==="admin";b.useEffect(()=>{e.id&&t(Ms({teamId:e.id}))},[t,e.id,o.length]);const c=async()=>{if(!i){we.error("Please select a user");return}const h=await t(Hi({teamId:e.id,userId:i.id}));Hi.fulfilled.match(h)?(we.success("Member added successfully!"),a(null),t(Ms({teamId:e.id}))):we.error(h.payload||"Failed to add member")},d=async h=>{const f=await t(qi({teamId:e.id,userId:h}));qi.fulfilled.match(f)?(we.success("Member removed successfully!"),t(Ms({teamId:e.id}))):we.error(f.payload||"Failed to remove member")};return m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Team Members"}),u&&m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(bo,{value:i,onChange:a,children:m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsxs(bo.Button,{className:"relative w-full cursor-pointer rounded-lg border border-gray-200 bg-white py-2.5 pl-4 pr-10 text-left focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("span",{className:"block truncate text-gray-700",children:i?`${i.name} (${i.email})`:"Select user to add"}),m.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:m.jsx(rh,{className:"h-5 w-5 text-gray-400"})})]}),m.jsx(Ht,{as:b.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx(bo.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:n.length===0?m.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No users available"}):n.map(h=>m.jsx(bo.Option,{value:h,className:({active:f})=>`relative cursor-pointer select-none py-2 px-4 ${f?"bg-gray-100":""}`,children:({selected:f})=>m.jsxs("span",{className:`block truncate text-sm ${f?"font-medium text-blue-600":"text-gray-700"}`,children:[h.name," (",h.email,")"]})},h.id))})})]})}),m.jsx("button",{onClick:c,disabled:s||!i,className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]}),m.jsx("div",{className:"space-y-3",children:o.map(h=>{const f=h.profiles,_=h.role==="admin",w=u&&h.user_id!==(r==null?void 0:r.id);return m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:f==null?void 0:f.name}),m.jsx("p",{className:"text-sm text-blue-500",children:f==null?void 0:f.email})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${_?"bg-gray-900 text-white":"bg-gray-100 text-gray-700"}`,children:_?"Admin":"Member"}),w&&m.jsx("button",{onClick:()=>d(h.user_id),disabled:s,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",children:m.jsx(a0,{size:18})})]})]},h.id)})})]})},x2=({activeTab:e})=>{const{selectedTeam:t}=Ge(r=>r.teams);return t?m.jsx("div",{className:"p-6",children:e==="tasks"?m.jsx(_2,{team:t}):m.jsx(b2,{team:t})}):null},S2=()=>{const e=Ft(),t=Br(),{profile:r}=Ge(o=>o.auth),{selectedTeam:n}=Ge(o=>o.teams),[s,i]=b.useState("tasks");b.useEffect(()=>{e(Fs())},[e]);const a=async()=>{const o=await e(Ui());Ui.fulfilled.match(o)&&(e(ST()),e(CT()),we.success("Logged out successfully"),t("/login"))};return m.jsxs("div",{className:"dashboard-bg min-h-screen",children:[m.jsxs("header",{className:"px-8 py-6 flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Task Manager"}),m.jsxs("p",{className:"text-gray-600",children:["Welcome, ",(r==null?void 0:r.name)||"User"]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>t("/discover"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition font-medium",children:" Discover Teams"}),m.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-white/50 rounded-lg transition",children:[m.jsx(_T,{size:20}),"Logout"]})]})]}),m.jsx("main",{className:"px-8 pb-8",children:m.jsxs("div",{className:"flex gap-6",children:[m.jsx(v2,{}),m.jsx("div",{className:"flex-1",children:n?m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsxs("div",{className:"flex border-b border-gray-100",children:[m.jsx("button",{onClick:()=>i("tasks"),className:`flex-1 py-4 text-center font-medium transition ${s==="tasks"?"text-gray-900 border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Tasks"}),m.jsx("button",{onClick:()=>i("members"),className:`flex-1 py-4 text-center font-medium transition ${s==="members"?"text-gray-900 border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Members"})]}),m.jsx(x2,{activeTab:s})]}):m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 flex flex-col items-center justify-center min-h-[400px]",children:[m.jsx("div",{className:"text-gray-300 mb-4",children:m.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),m.jsx("p",{className:"text-gray-500",children:"Select a team to view tasks"})]})})]})})]})},E2=()=>{const e=Br(),t=Ft(),{user:r}=Ge(_=>_.auth),[n]=my(),[s,i]=b.useState("processing"),[a,o]=b.useState("Processing your payment..."),[l,u]=b.useState(5),[c,d]=b.useState(""),h=n.get("team_id"),f=n.get("session_id");return b.useEffect(()=>{r&&(async()=>{var x;const w=localStorage.getItem("pendingTeamJoin");let y=null;if(w)try{y=JSON.parse(w),d(y.teamName||"")}catch(E){console.error("Failed to parse pending join:",E)}const g=h||(y==null?void 0:y.teamId),p=(r==null?void 0:r.id)||(y==null?void 0:y.userId),v=(y==null?void 0:y.price)||0;if(!g||!p){i("error"),o("Missing team or user information. Please try joining the team again.");return}try{console.log("Processing payment for team:",g,"user:",p);const{error:E}=await ce.from("team_subscriptions").upsert({team_id:g,user_id:p,stripe_session_id:f||"manual",amount_paid:parseFloat(v)||0,status:"active",updated_at:new Date().toISOString()},{onConflict:"team_id,user_id"});E&&console.error("Subscription error:",E);const{error:k}=await ce.from("team_members").insert({team_id:g,user_id:p,role:"member"});k&&(k.code==="23505"||(x=k.message)!=null&&x.includes("duplicate")?console.log("Already a team member - that is OK"):console.error("Join error:",k)),localStorage.removeItem("pendingTeamJoin"),i("success"),o(`You have successfully joined ${c||"the team"}!`),t(Fs());let j=5;const P=setInterval(()=>{j--,u(j),j<=0&&(clearInterval(P),e("/dashboard"))},1e3);return()=>clearInterval(P)}catch(E){console.error("Error processing payment:",E),i("error"),o(E.message||"An error occurred. Please contact support.")}})()},[h,f,r,t,e,c]),m.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${s==="success"?"bg-gradient-to-br from-emerald-50 to-teal-100":s==="error"?"bg-gradient-to-br from-red-50 to-rose-100":"bg-gradient-to-br from-blue-50 to-indigo-100"}`,children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[m.jsxs("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${s==="success"?"bg-emerald-100":s==="error"?"bg-red-100":"bg-blue-100"}`,children:[s==="success"&&m.jsx(jT,{className:"w-12 h-12 text-emerald-500"}),s==="error"&&m.jsx(o0,{className:"w-12 h-12 text-red-500"}),s==="processing"&&m.jsx(Am,{className:"w-12 h-12 text-blue-500 animate-spin"})]}),m.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:[s==="success"&&"Payment Successful! ",s==="error"&&"Something went wrong",s==="processing"&&"Processing..."]}),m.jsx("p",{className:"text-gray-600 mb-6",children:a}),c&&s==="success"&&m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Team Joined"}),m.jsx("p",{className:"font-medium text-gray-800",children:c})]}),s==="success"&&m.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 mb-6",children:[m.jsx(Am,{className:"w-4 h-4 animate-spin"}),m.jsxs("span",{children:["Redirecting to dashboard in ",l,"s..."]})]}),m.jsx("button",{onClick:()=>e("/dashboard"),className:`w-full px-6 py-3 rounded-lg font-medium transition ${s==="success"?"bg-emerald-600 text-white hover:bg-emerald-700":s==="error"?"bg-gray-600 text-white hover:bg-gray-700":"bg-blue-600 text-white hover:bg-blue-700 cursor-wait"}`,disabled:s==="processing",children:s==="processing"?"Please wait...":"Go to Dashboard"})]})})},k2=()=>{const e=Br(),[t]=my();return t.get("team_id"),m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(o0,{className:"w-12 h-12 text-red-500"})}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Cancelled"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Your payment was cancelled. You haven't been charged and haven't joined the team yet."}),m.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:m.jsx("p",{className:"text-sm text-amber-700",children:"You can try again anytime. Just enter the Team ID again to rejoin."})}),m.jsx("div",{className:"space-y-3",children:m.jsxs("button",{onClick:()=>e("/dashboard"),className:"w-full px-6 py-3 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition flex items-center justify-center gap-2",children:[m.jsx(th,{className:"w-5 h-5"}),"Back to Dashboard"]})})]})})},T2=()=>{const e=Br(),t=Ft(),{allTeams:r,discoverLoading:n,checkoutLoading:s}=Ge(y=>y.teams),{user:i}=Ge(y=>y.auth),[a,o]=b.useState("all"),[l,u]=b.useState(""),[c,d]=b.useState(null);b.useEffect(()=>{t(Gi())},[t]);const h=r.filter(y=>!(a==="free"&&y.subscription_type==="paid"||a==="paid"&&y.subscription_type!=="paid"||l&&!y.name.toLowerCase().includes(l.toLowerCase()))),f=async y=>{if(y.is_member){we.info("You are already a member of this team");return}d(y.id);try{if(y.subscription_type==="paid"){const g=await t(Us({teamId:y.id,teamName:y.name,price:y.subscription_price,userEmail:i==null?void 0:i.email})).unwrap();g!=null&&g.url&&(window.location.href=g.url)}else{const{error:g}=await ce.from("team_members").insert({team_id:y.id,user_id:i.id,role:"member"});if(g)if(g.code==="23505")we.info("You are already a member of this team");else throw new Error(g.message);else we.success(`Successfully joined ${y.name}!`);t(Fs()),t(Gi())}}catch(g){we.error(g.message||g||"Failed to join team")}finally{d(null)}},_=r.filter(y=>y.subscription_type!=="paid"),w=r.filter(y=>y.subscription_type==="paid");return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[m.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-100 sticky top-0 z-10",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:m.jsx(th,{size:20})}),m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Discover Teams"})]}),m.jsxs("div",{className:"relative max-w-md flex-1 mx-8",children:[m.jsx(NT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),m.jsx("input",{type:"text",placeholder:"Search teams...",value:l,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(PT,{size:18,className:"text-gray-500"}),m.jsxs("select",{value:a,onChange:y=>o(y.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[m.jsxs("option",{value:"all",children:["All Teams (",r.length,")"]}),m.jsxs("option",{value:"free",children:["Free Teams (",_.length,")"]}),m.jsxs("option",{value:"paid",children:["Paid Teams (",w.length,")"]})]})]})]})}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-sm border border-gray-100",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Total Teams"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),m.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl px-6 py-4 text-white",children:[m.jsx("p",{className:"text-sm text-emerald-100",children:"Free Teams"}),m.jsx("p",{className:"text-2xl font-bold",children:_.length})]}),m.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl px-6 py-4 text-white",children:[m.jsx("p",{className:"text-sm text-purple-100",children:"Premium Teams"}),m.jsx("p",{className:"text-2xl font-bold",children:w.length})]})]}),n&&m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),!n&&h.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx(Xi,{size:48,className:"mx-auto text-gray-300 mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"No teams found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>m.jsxs("div",{className:`relative bg-white rounded-2xl shadow-sm border overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1 ${y.subscription_type==="paid"?"border-purple-200 hover:border-purple-300":"border-gray-100 hover:border-emerald-200"}`,children:[m.jsx("div",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold ${y.subscription_type==="paid"?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white":"bg-gradient-to-r from-emerald-500 to-teal-500 text-white"}`,children:y.subscription_type==="paid"?m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(AT,{size:12})," Premium"]}):" Free"}),m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center mb-4 ${y.subscription_type==="paid"?"bg-gradient-to-br from-purple-100 to-indigo-100 text-purple-600":"bg-gradient-to-br from-emerald-100 to-teal-100 text-emerald-600"}`,children:m.jsx(Xi,{size:28})}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:y.name}),m.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["by ",y.admin_name||"Unknown"]}),m.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-600",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Xi,{size:16}),y.member_count," members"]}),y.subscription_type==="paid"&&m.jsxs("span",{className:"font-semibold text-purple-600",children:["$",y.subscription_price]})]}),y.is_member?m.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full py-2.5 rounded-lg bg-gray-100 text-gray-600 font-medium hover:bg-gray-200 transition",children:" Already Joined"}):m.jsx("button",{onClick:()=>f(y),disabled:c===y.id||s,className:`w-full py-2.5 rounded-lg font-medium transition disabled:opacity-50 ${y.subscription_type==="paid"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700"}`,children:c===y.id?m.jsxs("span",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),y.subscription_type==="paid"?"Redirecting...":"Joining..."]}):y.subscription_type==="paid"?`Join for $${y.subscription_price}`:"Join Team"})]})]},y.id))})]})]})},xo=({children:e})=>{const{session:t,initialized:r}=Ge(n=>n.auth);return r?t?e:m.jsx(Mf,{to:"/login",replace:!0}):m.jsx("div",{className:"auth-bg flex items-center justify-center min-h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"})})},zm=({children:e})=>{const{session:t,initialized:r}=Ge(n=>n.auth);return r?t?m.jsx(Mf,{to:"/dashboard",replace:!0}):e:m.jsx("div",{className:"auth-bg flex items-center justify-center min-h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"})})};function C2(){const e=Ft();return b.useEffect(()=>{e(Do());const{data:{subscription:t}}=ce.auth.onAuthStateChange((r,n)=>{e(Hk({session:n,user:(n==null?void 0:n.user)||null}))});return()=>t.unsubscribe()},[e]),m.jsxs(j1,{children:[m.jsx(Yr,{path:"/login",element:m.jsx(zm,{children:m.jsx(gT,{})})}),m.jsx(Yr,{path:"/register",element:m.jsx(zm,{children:m.jsx(vT,{})})}),m.jsx(Yr,{path:"/dashboard",element:m.jsx(xo,{children:m.jsx(S2,{})})}),m.jsx(Yr,{path:"/payment/success",element:m.jsx(xo,{children:m.jsx(E2,{})})}),m.jsx(Yr,{path:"/payment/cancel",element:m.jsx(xo,{children:m.jsx(k2,{})})}),m.jsx(Yr,{path:"/discover",element:m.jsx(xo,{children:m.jsx(T2,{})})}),m.jsx(Yr,{path:"*",element:m.jsx(Mf,{to:"/login",replace:!0})})]})}const R2=Wx({reducer:{auth:qk,teams:ET,tasks:RT},middleware:e=>e({serializableCheck:!1})});dc.createRoot(document.getElementById("root")).render(m.jsx(C.StrictMode,{children:m.jsx(Ab,{store:R2,children:m.jsxs(D1,{children:[m.jsx(hx,{position:"top-right",richColors:!0}),m.jsx(C2,{})]})})}));
